/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/app",{

/***/ "./node_modules/@reach/auto-id/dist/reach-auto-id.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@reach/auto-id/dist/reach-auto-id.esm.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useId\": function() { return /* binding */ useId; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reach/utils/use-isomorphic-layout-effect */ \"./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js\");\n\n\n\n/*\n * Welcome to @reach/auto-id!\n\n * Let's see if we can make sense of why this hook exists and its\n * implementation.\n *\n * Some background:\n *   1. Accessibility APIs rely heavily on element IDs\n *   2. Requiring developers to put IDs on every element in Reach UI is both\n *      cumbersome and error-prone\n *   3. With a component model, we can generate IDs for them!\n *\n * Solution 1: Generate random IDs.\n *\n * This works great as long as you don't server render your app. When React (in\n * the client) tries to reuse the markup from the server, the IDs won't match\n * and React will then recreate the entire DOM tree.\n *\n * Solution 2: Increment an integer\n *\n * This sounds great. Since we're rendering the exact same tree on the server\n * and client, we can increment a counter and get a deterministic result between\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\n * pretty sure the tab will be closed before an app never needs\n * 10 quadrillion IDs!\n *\n * Problem solved, right?\n *\n * Ah, but there's a catch! React's concurrent rendering makes this approach\n * non-deterministic. While the client and server will end up with the same\n * elements in the end, depending on suspense boundaries (and possibly some user\n * input during the initial render) the incrementing integers won't always match\n * up.\n *\n * Solution 3: Don't use IDs at all on the server; patch after first render.\n *\n * What we've done here is solution 2 with some tricks. With this approach, the\n * ID returned is an empty string on the first render. This way the server and\n * client have the same markup no matter how wild the concurrent rendering may\n * have gotten.\n *\n * After the render, we patch up the components with an incremented ID. This\n * causes a double render on any components with `useId`. Shouldn't be a problem\n * since the components using this hook should be small, and we're only updating\n * the ID attribute on the DOM, nothing big is happening.\n *\n * It doesn't have to be an incremented number, though--we could do generate\n * random strings instead, but incrementing a number is probably the cheapest\n * thing we can do.\n *\n * Additionally, we only do this patchup on the very first client render ever.\n * Any calls to `useId` that happen dynamically in the client will be\n * populated immediately with a value. So, we only get the double render after\n * server hydration and never again, SO BACK OFF ALRIGHT?\n */\nvar serverHandoffComplete = false;\nvar id = 0;\n\nvar genId = function genId() {\n  return ++id;\n};\n/**\n * useId\n *\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\n *\n * Note: The returned ID will initially be `null` and will update after a\n * component mounts. Users may need to supply their own ID if they need\n * consistent values for SSR.\n *\n * @see Docs https://reach.tech/auto-id\n */\n\n\nfunction useId(idFromProps) {\n  /*\n   * If this instance isn't part of the initial render, we don't have to do the\n   * double render/patch-up dance. We can just generate the ID and return it.\n   */\n  var initialId = idFromProps || (serverHandoffComplete ? genId() : null);\n\n  var _React$useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialId),\n      id = _React$useState[0],\n      setId = _React$useState[1];\n\n  (0,_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(function () {\n    if (id === null) {\n      /*\n       * Patch the ID after render. We do this in `useLayoutEffect` to avoid any\n       * rendering flicker, though it'll make the first render slower (unlikely\n       * to matter, but you're welcome to measure your app and let us know if\n       * it's a problem).\n       */\n      setId(genId());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (serverHandoffComplete === false) {\n      /*\n       * Flag all future uses of `useId` to skip the update dance. This is in\n       * `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\n       * accidentally bail out of the patch-up dance prematurely.\n       */\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id != null ? String(id) : undefined;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL2F1dG8taWQvZGlzdC9yZWFjaC1hdXRvLWlkLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTRDO0FBQzBDOztBQUV0RjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0IsK0NBQVE7QUFDaEM7QUFDQTs7QUFFQSxFQUFFLG9HQUF5QjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTixHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjaC9hdXRvLWlkL2Rpc3QvcmVhY2gtYXV0by1pZC5lc20uanM/NGMyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJ0ByZWFjaC91dGlscy91c2UtaXNvbW9ycGhpYy1sYXlvdXQtZWZmZWN0JztcblxuLypcbiAqIFdlbGNvbWUgdG8gQHJlYWNoL2F1dG8taWQhXG5cbiAqIExldCdzIHNlZSBpZiB3ZSBjYW4gbWFrZSBzZW5zZSBvZiB3aHkgdGhpcyBob29rIGV4aXN0cyBhbmQgaXRzXG4gKiBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBTb21lIGJhY2tncm91bmQ6XG4gKiAgIDEuIEFjY2Vzc2liaWxpdHkgQVBJcyByZWx5IGhlYXZpbHkgb24gZWxlbWVudCBJRHNcbiAqICAgMi4gUmVxdWlyaW5nIGRldmVsb3BlcnMgdG8gcHV0IElEcyBvbiBldmVyeSBlbGVtZW50IGluIFJlYWNoIFVJIGlzIGJvdGhcbiAqICAgICAgY3VtYmVyc29tZSBhbmQgZXJyb3ItcHJvbmVcbiAqICAgMy4gV2l0aCBhIGNvbXBvbmVudCBtb2RlbCwgd2UgY2FuIGdlbmVyYXRlIElEcyBmb3IgdGhlbSFcbiAqXG4gKiBTb2x1dGlvbiAxOiBHZW5lcmF0ZSByYW5kb20gSURzLlxuICpcbiAqIFRoaXMgd29ya3MgZ3JlYXQgYXMgbG9uZyBhcyB5b3UgZG9uJ3Qgc2VydmVyIHJlbmRlciB5b3VyIGFwcC4gV2hlbiBSZWFjdCAoaW5cbiAqIHRoZSBjbGllbnQpIHRyaWVzIHRvIHJldXNlIHRoZSBtYXJrdXAgZnJvbSB0aGUgc2VydmVyLCB0aGUgSURzIHdvbid0IG1hdGNoXG4gKiBhbmQgUmVhY3Qgd2lsbCB0aGVuIHJlY3JlYXRlIHRoZSBlbnRpcmUgRE9NIHRyZWUuXG4gKlxuICogU29sdXRpb24gMjogSW5jcmVtZW50IGFuIGludGVnZXJcbiAqXG4gKiBUaGlzIHNvdW5kcyBncmVhdC4gU2luY2Ugd2UncmUgcmVuZGVyaW5nIHRoZSBleGFjdCBzYW1lIHRyZWUgb24gdGhlIHNlcnZlclxuICogYW5kIGNsaWVudCwgd2UgY2FuIGluY3JlbWVudCBhIGNvdW50ZXIgYW5kIGdldCBhIGRldGVybWluaXN0aWMgcmVzdWx0IGJldHdlZW5cbiAqIGNsaWVudCBhbmQgc2VydmVyLiBBbHNvLCBKUyBpbnRlZ2VycyBjYW4gZ28gdXAgdG8gbmluZS1xdWFkcmlsbGlvbi4gSSdtXG4gKiBwcmV0dHkgc3VyZSB0aGUgdGFiIHdpbGwgYmUgY2xvc2VkIGJlZm9yZSBhbiBhcHAgbmV2ZXIgbmVlZHNcbiAqIDEwIHF1YWRyaWxsaW9uIElEcyFcbiAqXG4gKiBQcm9ibGVtIHNvbHZlZCwgcmlnaHQ/XG4gKlxuICogQWgsIGJ1dCB0aGVyZSdzIGEgY2F0Y2ghIFJlYWN0J3MgY29uY3VycmVudCByZW5kZXJpbmcgbWFrZXMgdGhpcyBhcHByb2FjaFxuICogbm9uLWRldGVybWluaXN0aWMuIFdoaWxlIHRoZSBjbGllbnQgYW5kIHNlcnZlciB3aWxsIGVuZCB1cCB3aXRoIHRoZSBzYW1lXG4gKiBlbGVtZW50cyBpbiB0aGUgZW5kLCBkZXBlbmRpbmcgb24gc3VzcGVuc2UgYm91bmRhcmllcyAoYW5kIHBvc3NpYmx5IHNvbWUgdXNlclxuICogaW5wdXQgZHVyaW5nIHRoZSBpbml0aWFsIHJlbmRlcikgdGhlIGluY3JlbWVudGluZyBpbnRlZ2VycyB3b24ndCBhbHdheXMgbWF0Y2hcbiAqIHVwLlxuICpcbiAqIFNvbHV0aW9uIDM6IERvbid0IHVzZSBJRHMgYXQgYWxsIG9uIHRoZSBzZXJ2ZXI7IHBhdGNoIGFmdGVyIGZpcnN0IHJlbmRlci5cbiAqXG4gKiBXaGF0IHdlJ3ZlIGRvbmUgaGVyZSBpcyBzb2x1dGlvbiAyIHdpdGggc29tZSB0cmlja3MuIFdpdGggdGhpcyBhcHByb2FjaCwgdGhlXG4gKiBJRCByZXR1cm5lZCBpcyBhbiBlbXB0eSBzdHJpbmcgb24gdGhlIGZpcnN0IHJlbmRlci4gVGhpcyB3YXkgdGhlIHNlcnZlciBhbmRcbiAqIGNsaWVudCBoYXZlIHRoZSBzYW1lIG1hcmt1cCBubyBtYXR0ZXIgaG93IHdpbGQgdGhlIGNvbmN1cnJlbnQgcmVuZGVyaW5nIG1heVxuICogaGF2ZSBnb3R0ZW4uXG4gKlxuICogQWZ0ZXIgdGhlIHJlbmRlciwgd2UgcGF0Y2ggdXAgdGhlIGNvbXBvbmVudHMgd2l0aCBhbiBpbmNyZW1lbnRlZCBJRC4gVGhpc1xuICogY2F1c2VzIGEgZG91YmxlIHJlbmRlciBvbiBhbnkgY29tcG9uZW50cyB3aXRoIGB1c2VJZGAuIFNob3VsZG4ndCBiZSBhIHByb2JsZW1cbiAqIHNpbmNlIHRoZSBjb21wb25lbnRzIHVzaW5nIHRoaXMgaG9vayBzaG91bGQgYmUgc21hbGwsIGFuZCB3ZSdyZSBvbmx5IHVwZGF0aW5nXG4gKiB0aGUgSUQgYXR0cmlidXRlIG9uIHRoZSBET00sIG5vdGhpbmcgYmlnIGlzIGhhcHBlbmluZy5cbiAqXG4gKiBJdCBkb2Vzbid0IGhhdmUgdG8gYmUgYW4gaW5jcmVtZW50ZWQgbnVtYmVyLCB0aG91Z2gtLXdlIGNvdWxkIGRvIGdlbmVyYXRlXG4gKiByYW5kb20gc3RyaW5ncyBpbnN0ZWFkLCBidXQgaW5jcmVtZW50aW5nIGEgbnVtYmVyIGlzIHByb2JhYmx5IHRoZSBjaGVhcGVzdFxuICogdGhpbmcgd2UgY2FuIGRvLlxuICpcbiAqIEFkZGl0aW9uYWxseSwgd2Ugb25seSBkbyB0aGlzIHBhdGNodXAgb24gdGhlIHZlcnkgZmlyc3QgY2xpZW50IHJlbmRlciBldmVyLlxuICogQW55IGNhbGxzIHRvIGB1c2VJZGAgdGhhdCBoYXBwZW4gZHluYW1pY2FsbHkgaW4gdGhlIGNsaWVudCB3aWxsIGJlXG4gKiBwb3B1bGF0ZWQgaW1tZWRpYXRlbHkgd2l0aCBhIHZhbHVlLiBTbywgd2Ugb25seSBnZXQgdGhlIGRvdWJsZSByZW5kZXIgYWZ0ZXJcbiAqIHNlcnZlciBoeWRyYXRpb24gYW5kIG5ldmVyIGFnYWluLCBTTyBCQUNLIE9GRiBBTFJJR0hUP1xuICovXG52YXIgc2VydmVySGFuZG9mZkNvbXBsZXRlID0gZmFsc2U7XG52YXIgaWQgPSAwO1xuXG52YXIgZ2VuSWQgPSBmdW5jdGlvbiBnZW5JZCgpIHtcbiAgcmV0dXJuICsraWQ7XG59O1xuLyoqXG4gKiB1c2VJZFxuICpcbiAqIEF1dG9nZW5lcmF0ZSBJRHMgdG8gZmFjaWxpdGF0ZSBXQUktQVJJQSBhbmQgc2VydmVyIHJlbmRlcmluZy5cbiAqXG4gKiBOb3RlOiBUaGUgcmV0dXJuZWQgSUQgd2lsbCBpbml0aWFsbHkgYmUgYG51bGxgIGFuZCB3aWxsIHVwZGF0ZSBhZnRlciBhXG4gKiBjb21wb25lbnQgbW91bnRzLiBVc2VycyBtYXkgbmVlZCB0byBzdXBwbHkgdGhlaXIgb3duIElEIGlmIHRoZXkgbmVlZFxuICogY29uc2lzdGVudCB2YWx1ZXMgZm9yIFNTUi5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9yZWFjaC50ZWNoL2F1dG8taWRcbiAqL1xuXG5cbmZ1bmN0aW9uIHVzZUlkKGlkRnJvbVByb3BzKSB7XG4gIC8qXG4gICAqIElmIHRoaXMgaW5zdGFuY2UgaXNuJ3QgcGFydCBvZiB0aGUgaW5pdGlhbCByZW5kZXIsIHdlIGRvbid0IGhhdmUgdG8gZG8gdGhlXG4gICAqIGRvdWJsZSByZW5kZXIvcGF0Y2gtdXAgZGFuY2UuIFdlIGNhbiBqdXN0IGdlbmVyYXRlIHRoZSBJRCBhbmQgcmV0dXJuIGl0LlxuICAgKi9cbiAgdmFyIGluaXRpYWxJZCA9IGlkRnJvbVByb3BzIHx8IChzZXJ2ZXJIYW5kb2ZmQ29tcGxldGUgPyBnZW5JZCgpIDogbnVsbCk7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IHVzZVN0YXRlKGluaXRpYWxJZCksXG4gICAgICBpZCA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldElkID0gX1JlYWN0JHVzZVN0YXRlWzFdO1xuXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChpZCA9PT0gbnVsbCkge1xuICAgICAgLypcbiAgICAgICAqIFBhdGNoIHRoZSBJRCBhZnRlciByZW5kZXIuIFdlIGRvIHRoaXMgaW4gYHVzZUxheW91dEVmZmVjdGAgdG8gYXZvaWQgYW55XG4gICAgICAgKiByZW5kZXJpbmcgZmxpY2tlciwgdGhvdWdoIGl0J2xsIG1ha2UgdGhlIGZpcnN0IHJlbmRlciBzbG93ZXIgKHVubGlrZWx5XG4gICAgICAgKiB0byBtYXR0ZXIsIGJ1dCB5b3UncmUgd2VsY29tZSB0byBtZWFzdXJlIHlvdXIgYXBwIGFuZCBsZXQgdXMga25vdyBpZlxuICAgICAgICogaXQncyBhIHByb2JsZW0pLlxuICAgICAgICovXG4gICAgICBzZXRJZChnZW5JZCgpKTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcblxuICB9LCBbXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHNlcnZlckhhbmRvZmZDb21wbGV0ZSA9PT0gZmFsc2UpIHtcbiAgICAgIC8qXG4gICAgICAgKiBGbGFnIGFsbCBmdXR1cmUgdXNlcyBvZiBgdXNlSWRgIHRvIHNraXAgdGhlIHVwZGF0ZSBkYW5jZS4gVGhpcyBpcyBpblxuICAgICAgICogYHVzZUVmZmVjdGAgYmVjYXVzZSBpdCBnb2VzIGFmdGVyIGB1c2VMYXlvdXRFZmZlY3RgLCBlbnN1cmluZyB3ZSBkb24ndFxuICAgICAgICogYWNjaWRlbnRhbGx5IGJhaWwgb3V0IG9mIHRoZSBwYXRjaC11cCBkYW5jZSBwcmVtYXR1cmVseS5cbiAgICAgICAqL1xuICAgICAgc2VydmVySGFuZG9mZkNvbXBsZXRlID0gdHJ1ZTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGlkICE9IG51bGwgPyBTdHJpbmcoaWQpIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgeyB1c2VJZCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/auto-id/dist/reach-auto-id.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/combobox/dist/reach-combobox.esm.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@reach/combobox/dist/reach-combobox.esm.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Combobox\": function() { return /* binding */ Combobox; },\n/* harmony export */   \"ComboboxButton\": function() { return /* binding */ ComboboxButton; },\n/* harmony export */   \"ComboboxInput\": function() { return /* binding */ ComboboxInput; },\n/* harmony export */   \"ComboboxList\": function() { return /* binding */ ComboboxList; },\n/* harmony export */   \"ComboboxOption\": function() { return /* binding */ ComboboxOption; },\n/* harmony export */   \"ComboboxOptionText\": function() { return /* binding */ ComboboxOptionText; },\n/* harmony export */   \"ComboboxPopover\": function() { return /* binding */ ComboboxPopover; },\n/* harmony export */   \"escapeRegexp\": function() { return /* binding */ escapeRegexp; },\n/* harmony export */   \"unstable_useKeyDown\": function() { return /* binding */ useKeyDown; },\n/* harmony export */   \"useComboboxContext\": function() { return /* binding */ useComboboxContext; },\n/* harmony export */   \"useComboboxOptionContext\": function() { return /* binding */ useComboboxOptionContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reach/utils/use-isomorphic-layout-effect */ \"./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js\");\n/* harmony import */ var _reach_utils_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reach/utils/context */ \"./node_modules/@reach/utils/context/dist/reach-utils-context.esm.js\");\n/* harmony import */ var _reach_utils_type_check__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reach/utils/type-check */ \"./node_modules/@reach/utils/type-check/dist/reach-utils-type-check.esm.js\");\n/* harmony import */ var _reach_utils_make_id__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reach/utils/make-id */ \"./node_modules/@reach/utils/make-id/dist/reach-utils-make-id.esm.js\");\n/* harmony import */ var _reach_utils_noop__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reach/utils/noop */ \"./node_modules/@reach/utils/noop/dist/reach-utils-noop.esm.js\");\n/* harmony import */ var _reach_utils_dev_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reach/utils/dev-utils */ \"./node_modules/@reach/utils/dev-utils/dist/reach-utils-dev-utils.esm.js\");\n/* harmony import */ var _reach_utils_compose_refs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reach/utils/compose-refs */ \"./node_modules/@reach/utils/compose-refs/dist/reach-utils-compose-refs.esm.js\");\n/* harmony import */ var _reach_utils_use_update_effect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reach/utils/use-update-effect */ \"./node_modules/@reach/utils/use-update-effect/dist/reach-utils-use-update-effect.esm.js\");\n/* harmony import */ var _reach_utils_use_stateful_ref_value__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @reach/utils/use-stateful-ref-value */ \"./node_modules/@reach/utils/use-stateful-ref-value/dist/reach-utils-use-stateful-ref-value.esm.js\");\n/* harmony import */ var _reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @reach/utils/compose-event-handlers */ \"./node_modules/@reach/utils/compose-event-handlers/dist/reach-utils-compose-event-handlers.esm.js\");\n/* harmony import */ var _reach_descendants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @reach/descendants */ \"./node_modules/@reach/descendants/dist/reach-descendants.esm.js\");\n/* harmony import */ var _reach_auto_id__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reach/auto-id */ \"./node_modules/@reach/auto-id/dist/reach-auto-id.esm.js\");\n/* harmony import */ var _reach_popover__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reach/popover */ \"./node_modules/@reach/popover/dist/reach-popover.esm.js\");\n/* harmony import */ var tiny_warning__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! tiny-warning */ \"./node_modules/tiny-warning/dist/tiny-warning.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n// Forked from https://github.com/bvaughn/highlight-words-core\n\n/**\n * Creates an array of chunk objects representing both higlightable and non\n * highlightable pieces of text that match each search word.\n *\n * @return Array of \"chunk\" objects\n */\nfunction findAll(_ref) {\n  var autoEscape = _ref.autoEscape,\n      _ref$caseSensitive = _ref.caseSensitive,\n      caseSensitive = _ref$caseSensitive === void 0 ? false : _ref$caseSensitive,\n      _ref$findChunks = _ref.findChunks,\n      findChunks = _ref$findChunks === void 0 ? defaultFindChunks : _ref$findChunks,\n      sanitize = _ref.sanitize,\n      searchWords = _ref.searchWords,\n      textToHighlight = _ref.textToHighlight;\n  return fillInChunks({\n    chunksToHighlight: combineChunks({\n      chunks: findChunks({\n        autoEscape: autoEscape,\n        caseSensitive: caseSensitive,\n        sanitize: sanitize,\n        searchWords: searchWords,\n        textToHighlight: textToHighlight\n      })\n    }),\n    totalLength: textToHighlight ? textToHighlight.length : 0\n  });\n}\n/**\n * Takes an array of \"chunk\" objects and combines chunks that overlap into\n * single chunks.\n *\n * @return Array of \"chunk\" objects\n */\n\n\nfunction combineChunks(_ref2) {\n  var chunks = _ref2.chunks;\n  return chunks.sort(function (first, second) {\n    return first.start - second.start;\n  }).reduce(function (processedChunks, nextChunk) {\n    // First chunk just goes straight in the array...\n    if (processedChunks.length === 0) {\n      return [nextChunk];\n    } else {\n      // ... subsequent chunks get checked to see if they overlap...\n      var prevChunk = processedChunks.pop();\n\n      if (nextChunk.start <= prevChunk.end) {\n        // It may be the case that prevChunk completely surrounds nextChunk, so take the\n        // largest of the end indeces.\n        var endIndex = Math.max(prevChunk.end, nextChunk.end);\n        processedChunks.push({\n          highlight: false,\n          start: prevChunk.start,\n          end: endIndex\n        });\n      } else {\n        processedChunks.push(prevChunk, nextChunk);\n      }\n\n      return processedChunks;\n    }\n  }, []);\n}\n/**\n * Examine text for any matches. If we find matches, add them to the returned\n * array as a \"chunk\" object.\n *\n * @return Array of \"chunk\" objects\n */\n\n\nfunction defaultFindChunks(_ref3) {\n  var autoEscape = _ref3.autoEscape,\n      caseSensitive = _ref3.caseSensitive,\n      _ref3$sanitize = _ref3.sanitize,\n      sanitize = _ref3$sanitize === void 0 ? defaultSanitize : _ref3$sanitize,\n      searchWords = _ref3.searchWords,\n      textToHighlight = _ref3.textToHighlight;\n  textToHighlight = sanitize(textToHighlight || \"\");\n  return searchWords.filter(function (searchWord) {\n    return searchWord;\n  }) // Remove empty words\n  .reduce(function (chunks, searchWord) {\n    searchWord = sanitize(searchWord);\n\n    if (autoEscape) {\n      searchWord = escapeRegExpFn(searchWord);\n    }\n\n    var regex = new RegExp(searchWord, caseSensitive ? \"g\" : \"gi\");\n    var match;\n\n    while (match = regex.exec(textToHighlight || \"\")) {\n      var start = match.index;\n      var end = regex.lastIndex; // We do not return zero-length matches\n\n      if (end > start) {\n        chunks.push({\n          highlight: false,\n          start: start,\n          end: end\n        });\n      } // Prevent browsers like Firefox from getting stuck in an infinite loop\n      // See http://www.regexguru.com/2008/04/watch-out-for-zero-length-matches/\n\n\n      if (match.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n    }\n\n    return chunks;\n  }, []);\n}\n/**\n * Given a set of chunks to highlight, create an additional set of chunks\n * to represent the bits of text between the highlighted text.\n *\n * @return Array of \"chunk\" objects\n */\n\n\nfunction fillInChunks(_ref4) {\n  var chunksToHighlight = _ref4.chunksToHighlight,\n      totalLength = _ref4.totalLength;\n  var allChunks = [];\n\n  if (chunksToHighlight.length === 0) {\n    append(0, totalLength, false);\n  } else {\n    var lastIndex = 0;\n    chunksToHighlight.forEach(function (chunk) {\n      append(lastIndex, chunk.start, false);\n      append(chunk.start, chunk.end, true);\n      lastIndex = chunk.end;\n    });\n    append(lastIndex, totalLength, false);\n  }\n\n  return allChunks;\n\n  function append(start, end, highlight) {\n    if (end - start > 0) {\n      allChunks.push({\n        start: start,\n        end: end,\n        highlight: highlight\n      });\n    }\n  }\n}\n\nfunction defaultSanitize(string) {\n  return string;\n}\n\nfunction escapeRegExpFn(string) {\n  return string.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, \"\\\\$&\");\n}\n\nvar HighlightWords = {\n  combineChunks: combineChunks,\n  fillInChunks: fillInChunks,\n  findAll: findAll,\n  findChunks: defaultFindChunks\n};\n\nvar _excluded = [\"onSelect\", \"openOnFocus\", \"children\", \"as\", \"aria-label\", \"aria-labelledby\"],\n    _excluded2 = [\"as\", \"selectOnClick\", \"autocomplete\", \"onClick\", \"onChange\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"value\"],\n    _excluded3 = [\"as\", \"children\", \"portal\", \"onKeyDown\", \"onBlur\", \"position\"],\n    _excluded4 = [\"persistSelection\", \"as\"],\n    _excluded5 = [\"as\", \"children\", \"index\", \"value\", \"onClick\"],\n    _excluded6 = [\"as\", \"onClick\", \"onKeyDown\"];\n\nvar _on, _on2, _on3, _on4, _states;\n// States\n// Nothing going on, waiting for the user to type or use the arrow keys\n\nvar IDLE = \"IDLE\"; // The component is suggesting options as the user types\n\nvar SUGGESTING = \"SUGGESTING\"; // The user is using the keyboard to navigate the list, not typing\n\nvar NAVIGATING = \"NAVIGATING\"; // The user is interacting with arbitrary elements inside the popup that\n// are not ComboboxInputs\n\nvar INTERACTING = \"INTERACTING\"; ////////////////////////////////////////////////////////////////////////////////\n// Events\n// User cleared the value w/ backspace, but input still has focus\n\nvar CLEAR = \"CLEAR\"; // User is typing\n\nvar CHANGE = \"CHANGE\"; // Initial input value change handler for syncing user state with state machine\n// Prevents initial change from sending the user to the NAVIGATING state\n// https://github.com/reach/reach-ui/issues/464\n\nvar INITIAL_CHANGE = \"INITIAL_CHANGE\"; // User is navigating w/ the keyboard\n\nvar NAVIGATE = \"NAVIGATE\"; // User can be navigating with keyboard and then click instead, we want the\n// value from the click, not the current nav item\n\nvar SELECT_WITH_KEYBOARD = \"SELECT_WITH_KEYBOARD\";\nvar SELECT_WITH_CLICK = \"SELECT_WITH_CLICK\"; // Pretty self-explanatory, user can hit escape or blur to close the popover\n\nvar ESCAPE = \"ESCAPE\";\nvar BLUR = \"BLUR\"; // The user left the input to interact with arbitrary elements inside the popup\n\nvar INTERACT = \"INTERACT\";\nvar FOCUS = \"FOCUS\";\nvar OPEN_WITH_BUTTON = \"OPEN_WITH_BUTTON\";\nvar OPEN_WITH_INPUT_CLICK = \"OPEN_WITH_INPUT_CLICK\";\nvar CLOSE_WITH_BUTTON = \"CLOSE_WITH_BUTTON\"; ////////////////////////////////////////////////////////////////////////////////\n\nvar stateChart = {\n  initial: IDLE,\n  states: (_states = {}, _states[IDLE] = {\n    on: (_on = {}, _on[BLUR] = IDLE, _on[CLEAR] = IDLE, _on[CHANGE] = SUGGESTING, _on[INITIAL_CHANGE] = IDLE, _on[FOCUS] = SUGGESTING, _on[NAVIGATE] = NAVIGATING, _on[OPEN_WITH_BUTTON] = SUGGESTING, _on[OPEN_WITH_INPUT_CLICK] = SUGGESTING, _on)\n  }, _states[SUGGESTING] = {\n    on: (_on2 = {}, _on2[CHANGE] = SUGGESTING, _on2[FOCUS] = SUGGESTING, _on2[NAVIGATE] = NAVIGATING, _on2[CLEAR] = IDLE, _on2[ESCAPE] = IDLE, _on2[BLUR] = IDLE, _on2[SELECT_WITH_CLICK] = IDLE, _on2[INTERACT] = INTERACTING, _on2[CLOSE_WITH_BUTTON] = IDLE, _on2)\n  }, _states[NAVIGATING] = {\n    on: (_on3 = {}, _on3[CHANGE] = SUGGESTING, _on3[FOCUS] = SUGGESTING, _on3[CLEAR] = IDLE, _on3[BLUR] = IDLE, _on3[ESCAPE] = IDLE, _on3[NAVIGATE] = NAVIGATING, _on3[SELECT_WITH_CLICK] = IDLE, _on3[SELECT_WITH_KEYBOARD] = IDLE, _on3[CLOSE_WITH_BUTTON] = IDLE, _on3[INTERACT] = INTERACTING, _on3)\n  }, _states[INTERACTING] = {\n    on: (_on4 = {}, _on4[CLEAR] = IDLE, _on4[CHANGE] = SUGGESTING, _on4[FOCUS] = SUGGESTING, _on4[BLUR] = IDLE, _on4[ESCAPE] = IDLE, _on4[NAVIGATE] = NAVIGATING, _on4[CLOSE_WITH_BUTTON] = IDLE, _on4[SELECT_WITH_CLICK] = IDLE, _on4)\n  }, _states)\n};\n\nvar reducer = function reducer(data, event) {\n  var nextState = _extends({}, data, {\n    lastEventType: event.type\n  });\n\n  switch (event.type) {\n    case CHANGE:\n    case INITIAL_CHANGE:\n      return _extends({}, nextState, {\n        navigationValue: null,\n        value: event.value\n      });\n\n    case NAVIGATE:\n    case OPEN_WITH_BUTTON:\n    case OPEN_WITH_INPUT_CLICK:\n      return _extends({}, nextState, {\n        navigationValue: findNavigationValue(nextState, event)\n      });\n\n    case CLEAR:\n      return _extends({}, nextState, {\n        value: \"\",\n        navigationValue: null\n      });\n\n    case BLUR:\n    case ESCAPE:\n      return _extends({}, nextState, {\n        navigationValue: null\n      });\n\n    case SELECT_WITH_CLICK:\n      return _extends({}, nextState, {\n        // if controlled, \"set\" the input to what it already has, and let the\n        // user do whatever they want\n        value: event.isControlled ? data.value : event.value,\n        navigationValue: null\n      });\n\n    case SELECT_WITH_KEYBOARD:\n      return _extends({}, nextState, {\n        // if controlled, \"set\" the input to what it already has, and let the\n        // user do whatever they want\n        value: event.isControlled ? data.value : data.navigationValue,\n        navigationValue: null\n      });\n\n    case CLOSE_WITH_BUTTON:\n      return _extends({}, nextState, {\n        navigationValue: null\n      });\n\n    case INTERACT:\n      return nextState;\n\n    case FOCUS:\n      return _extends({}, nextState, {\n        navigationValue: findNavigationValue(nextState, event)\n      });\n\n    default:\n      return nextState;\n  }\n};\n\nfunction popoverIsExpanded(state) {\n  return [SUGGESTING, NAVIGATING, INTERACTING].includes(state);\n}\n/**\n * When we open a list, set the navigation value to the value in the input, if\n * it's in the list, then it'll automatically be highlighted.\n *\n * @param stateData\n * @param event\n */\n\n\nfunction findNavigationValue(stateData, event) {\n  // @ts-ignore\n  if (event.value) {\n    // @ts-ignore\n    return event.value; // @ts-ignore\n  } else if (event.persistSelection) {\n    return stateData.value;\n  } else {\n    return null;\n  }\n}\n\nvar ComboboxDescendantContext = /*#__PURE__*/(0,_reach_descendants__WEBPACK_IMPORTED_MODULE_11__.createDescendantContext)(\"ComboboxDescendantContext\");\nvar ComboboxContext = /*#__PURE__*/(0,_reach_utils_context__WEBPACK_IMPORTED_MODULE_2__.createNamedContext)(\"ComboboxContext\", {}); // Allows us to put the option's value on context so that ComboboxOptionText\n// can work it's highlight text magic no matter what else is rendered around\n// it.\n\nvar OptionContext = /*#__PURE__*/(0,_reach_utils_context__WEBPACK_IMPORTED_MODULE_2__.createNamedContext)(\"OptionContext\", {}); ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Combobox\n *\n * @see Docs https://reach.tech/combobox#combobox\n */\n\nvar Combobox = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, forwardedRef) {\n  var _data$navigationValue;\n\n  var onSelect = _ref.onSelect,\n      _ref$openOnFocus = _ref.openOnFocus,\n      openOnFocus = _ref$openOnFocus === void 0 ? false : _ref$openOnFocus,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\n      ariaLabel = _ref[\"aria-label\"],\n      ariaLabelledby = _ref[\"aria-labelledby\"],\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useDescendantsInit = (0,_reach_descendants__WEBPACK_IMPORTED_MODULE_11__.useDescendantsInit)(),\n      options = _useDescendantsInit[0],\n      setOptions = _useDescendantsInit[1]; // Need this to focus it\n\n\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  var popoverRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  var buttonRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(); // When <ComboboxInput autocomplete={false} /> we don't want cycle back to\n  // the user's value while navigating (because it's always the user's value),\n  // but we need to know this in useKeyDown which is far away from the prop\n  // here, so we do something sneaky and write it to this ref on context so we\n  // can use it anywhere else ðŸ˜›. Another new trick for me and I'm excited\n  // about this one too!\n\n  var autocompletePropRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  var persistSelectionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  var defaultData = {\n    // The value the user has typed. We derive this also when the developer is\n    // controlling the value of ComboboxInput.\n    value: \"\",\n    // the value the user has navigated to with the keyboard\n    navigationValue: null\n  };\n\n  var _useReducerMachine = useReducerMachine(stateChart, reducer, defaultData),\n      state = _useReducerMachine[0],\n      data = _useReducerMachine[1],\n      transition = _useReducerMachine[2];\n\n  useFocusManagement(data.lastEventType, inputRef);\n  var id = (0,_reach_auto_id__WEBPACK_IMPORTED_MODULE_12__.useId)(props.id);\n  var listboxId = id ? (0,_reach_utils_make_id__WEBPACK_IMPORTED_MODULE_4__.makeId)(\"listbox\", id) : \"listbox\";\n  var isControlledRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  var isExpanded = popoverIsExpanded(state);\n  var context = {\n    ariaLabel: ariaLabel,\n    ariaLabelledby: ariaLabelledby,\n    autocompletePropRef: autocompletePropRef,\n    buttonRef: buttonRef,\n    comboboxId: id,\n    data: data,\n    inputRef: inputRef,\n    isExpanded: isExpanded,\n    listboxId: listboxId,\n    onSelect: onSelect || _reach_utils_noop__WEBPACK_IMPORTED_MODULE_5__.noop,\n    openOnFocus: openOnFocus,\n    persistSelectionRef: persistSelectionRef,\n    popoverRef: popoverRef,\n    state: state,\n    transition: transition,\n    isControlledRef: isControlledRef\n  };\n  (0,_reach_utils_dev_utils__WEBPACK_IMPORTED_MODULE_6__.useCheckStyles)(\"combobox\");\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_reach_descendants__WEBPACK_IMPORTED_MODULE_11__.DescendantProvider, {\n    context: ComboboxDescendantContext,\n    items: options,\n    set: setOptions\n  }, /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ComboboxContext.Provider, {\n    value: context\n  }, /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Comp, _extends({}, props, {\n    \"data-reach-combobox\": \"\",\n    \"data-state\": getDataState(state),\n    \"data-expanded\": isExpanded || undefined,\n    ref: forwardedRef\n  }), (0,_reach_utils_type_check__WEBPACK_IMPORTED_MODULE_3__.isFunction)(children) ? children({\n    id: id,\n    isExpanded: isExpanded,\n    navigationValue: (_data$navigationValue = data.navigationValue) != null ? _data$navigationValue : null,\n    state: state\n  }) : children)));\n});\n/**\n * @see Docs https://reach.tech/combobox#combobox-props\n */\n\nif (true) {\n  Combobox.displayName = \"Combobox\";\n  Combobox.propTypes = {\n    as: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().any),\n    onSelect: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),\n    openOnFocus: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool)\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxInput\n *\n * Wraps an `<input/>` with a couple extra props that work with the combobox.\n *\n * @see Docs https://reach.tech/combobox#comboboxinput\n */\n\n\nvar ComboboxInput = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref2, forwardedRef) {\n  var _ref2$as = _ref2.as,\n      Comp = _ref2$as === void 0 ? \"input\" : _ref2$as,\n      _ref2$selectOnClick = _ref2.selectOnClick,\n      selectOnClick = _ref2$selectOnClick === void 0 ? false : _ref2$selectOnClick,\n      _ref2$autocomplete = _ref2.autocomplete,\n      autocomplete = _ref2$autocomplete === void 0 ? true : _ref2$autocomplete,\n      onClick = _ref2.onClick,\n      onChange = _ref2.onChange,\n      onKeyDown = _ref2.onKeyDown,\n      onBlur = _ref2.onBlur,\n      onFocus = _ref2.onFocus,\n      controlledValue = _ref2.value,\n      props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n  // https://github.com/reach/reach-ui/issues/464\n  var _React$useRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(controlledValue),\n      initialControlledValue = _React$useRef.current;\n\n  var controlledValueChangedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  (0,_reach_utils_use_update_effect__WEBPACK_IMPORTED_MODULE_8__.useUpdateEffect)(function () {\n    controlledValueChangedRef.current = true;\n  }, [controlledValue]);\n\n  var _React$useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComboboxContext),\n      _React$useContext$dat = _React$useContext.data,\n      navigationValue = _React$useContext$dat.navigationValue,\n      value = _React$useContext$dat.value,\n      lastEventType = _React$useContext$dat.lastEventType,\n      inputRef = _React$useContext.inputRef,\n      state = _React$useContext.state,\n      transition = _React$useContext.transition,\n      listboxId = _React$useContext.listboxId,\n      autocompletePropRef = _React$useContext.autocompletePropRef,\n      openOnFocus = _React$useContext.openOnFocus,\n      isExpanded = _React$useContext.isExpanded,\n      ariaLabel = _React$useContext.ariaLabel,\n      ariaLabelledby = _React$useContext.ariaLabelledby,\n      persistSelectionRef = _React$useContext.persistSelectionRef,\n      isControlledRef = _React$useContext.isControlledRef;\n\n  var ref = (0,_reach_utils_compose_refs__WEBPACK_IMPORTED_MODULE_7__.useComposedRefs)(inputRef, forwardedRef); // Because we close the List on blur, we need to track if the blur is\n  // caused by clicking inside the list, and if so, don't close the List.\n\n  var selectOnClickRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  var handleKeyDown = useKeyDown();\n  var handleBlur = useBlur();\n  var isControlled = typeof controlledValue !== \"undefined\";\n  var wasInitiallyControlled = typeof initialControlledValue !== \"undefined\";\n\n  if (true) {\n     true ? (0,tiny_warning__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(!(!isControlled && wasInitiallyControlled), \"ComboboxInput is changing from controlled to uncontrolled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\") : 0;\n     true ? (0,tiny_warning__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(!(isControlled && !wasInitiallyControlled), \"ComboboxInput is changing from uncontrolled to controlled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\") : 0;\n  }\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    isControlledRef.current = isControlled; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isControlled]); // Layout effect should be SSR-safe here because we don't actually do\n  // anything with this ref that involves rendering until after we've\n  // let the client hydrate in nested components.\n\n  (0,_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(function () {\n    autocompletePropRef.current = autocomplete;\n  }, [autocomplete, autocompletePropRef]);\n  var handleValueChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (value) {\n    if (value.trim() === \"\") {\n      transition(CLEAR, {\n        isControlled: isControlled\n      });\n    } else if (value === initialControlledValue && !controlledValueChangedRef.current) {\n      transition(INITIAL_CHANGE, {\n        value: value\n      });\n    } else {\n      transition(CHANGE, {\n        value: value\n      });\n    }\n  }, [initialControlledValue, transition, isControlled]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    // If they are controlling the value we still need to do our transitions,\n    // so  we have this derived state to emulate onChange of the input as we\n    // receive new `value`s ...[*]\n    if (isControlled && controlledValue !== value && ( // https://github.com/reach/reach-ui/issues/481\n    controlledValue.trim() === \"\" ? (value || \"\").trim() !== \"\" : true)) {\n      handleValueChange(controlledValue);\n    }\n  }, [controlledValue, handleValueChange, isControlled, value]); // [*]... and when controlled, we don't trigger handleValueChange as the\n  // user types, instead the developer controls it with the normal input\n  // onChange prop\n\n  function handleChange(event) {\n    var value = event.target.value;\n\n    if (!isControlled) {\n      handleValueChange(value);\n    }\n  }\n\n  function handleFocus() {\n    if (selectOnClick) {\n      selectOnClickRef.current = true;\n    } // If we select an option with click, useFocusManagement will focus the\n    // input, in those cases we don't want to cause the menu to open back up,\n    // so we guard behind these states.\n\n\n    if (openOnFocus && lastEventType !== SELECT_WITH_CLICK) {\n      transition(FOCUS, {\n        persistSelection: persistSelectionRef.current\n      });\n    }\n  }\n\n  function handleClick() {\n    if (selectOnClickRef.current) {\n      var _inputRef$current;\n\n      selectOnClickRef.current = false;\n      (_inputRef$current = inputRef.current) == null ? void 0 : _inputRef$current.select();\n    }\n\n    if (openOnFocus && state === IDLE) {\n      transition(OPEN_WITH_INPUT_CLICK);\n    }\n  }\n\n  var inputValue = autocomplete && (state === NAVIGATING || state === INTERACTING) ? // When idle, we don't have a navigationValue on ArrowUp/Down\n  navigationValue || controlledValue || value : controlledValue || value;\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Comp, _extends({\n    \"aria-activedescendant\": navigationValue ? String(makeHash(navigationValue)) : undefined,\n    \"aria-autocomplete\": \"both\",\n    \"aria-controls\": listboxId,\n    \"aria-expanded\": isExpanded,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabel ? undefined : ariaLabelledby,\n    role: \"combobox\"\n  }, props, {\n    \"data-reach-combobox-input\": \"\",\n    \"data-state\": getDataState(state),\n    ref: ref,\n    onBlur: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onBlur, handleBlur),\n    onChange: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onChange, handleChange),\n    onClick: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onClick, handleClick),\n    onFocus: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onFocus, handleFocus),\n    onKeyDown: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onKeyDown, handleKeyDown),\n    value: inputValue || \"\"\n  }));\n});\n/**\n * @see Docs https://reach.tech/combobox#comboboxinput-props\n */\n\nif (true) {\n  ComboboxInput.displayName = \"ComboboxInput\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxPopover\n *\n * Contains the popup that renders the list. Because some UI needs to render\n * more than the list in the popup, you need to render one of these around the\n * list. For example, maybe you want to render the number of results suggested.\n *\n * @see Docs https://reach.tech/combobox#comboboxpopover\n */\n\n\nvar ComboboxPopover = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref3, forwardedRef) {\n  var _ref3$as = _ref3.as,\n      Comp = _ref3$as === void 0 ? \"div\" : _ref3$as,\n      children = _ref3.children,\n      _ref3$portal = _ref3.portal,\n      portal = _ref3$portal === void 0 ? true : _ref3$portal,\n      onKeyDown = _ref3.onKeyDown,\n      onBlur = _ref3.onBlur,\n      _ref3$position = _ref3.position,\n      position = _ref3$position === void 0 ? _reach_popover__WEBPACK_IMPORTED_MODULE_15__.positionMatchWidth : _ref3$position,\n      props = _objectWithoutPropertiesLoose(_ref3, _excluded3);\n\n  var _React$useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComboboxContext),\n      popoverRef = _React$useContext2.popoverRef,\n      inputRef = _React$useContext2.inputRef,\n      isExpanded = _React$useContext2.isExpanded,\n      state = _React$useContext2.state;\n\n  var ref = (0,_reach_utils_compose_refs__WEBPACK_IMPORTED_MODULE_7__.useComposedRefs)(popoverRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n  var handleBlur = useBlur();\n  var sharedProps = {\n    \"data-reach-combobox-popover\": \"\",\n    \"data-state\": getDataState(state),\n    onKeyDown: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onKeyDown, handleKeyDown),\n    onBlur: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onBlur, handleBlur),\n    // Instead of conditionally rendering the popover we use the `hidden` prop\n    // because we don't want to unmount on close (from escape or onSelect).\n    // However, the developer can conditionally render the ComboboxPopover if\n    // they do want to cause mount/unmount based on the app's own data (like\n    // results.length or whatever).\n    hidden: !isExpanded,\n    tabIndex: -1,\n    children: children\n  };\n  return portal ? /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_reach_popover__WEBPACK_IMPORTED_MODULE_15__.Popover, _extends({\n    as: Comp\n  }, props, {\n    ref: ref,\n    \"data-expanded\": isExpanded || undefined,\n    position: position,\n    targetRef: inputRef\n  }, sharedProps)) : /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Comp, _extends({\n    ref: ref\n  }, props, sharedProps));\n});\n\nif (true) {\n  ComboboxPopover.displayName = \"ComboboxPopover\";\n}\n/**\n * @see Docs https://reach.tech/combobox#comboboxpopover-props\n */\n\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxList\n *\n * Contains the `ComboboxOption` elements and sets up the proper aria attributes\n * for the list.\n *\n * @see Docs https://reach.tech/combobox#comboboxlist\n */\nvar ComboboxList = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref4, forwardedRef) {\n  var _ref4$persistSelectio = _ref4.persistSelection,\n      persistSelection = _ref4$persistSelectio === void 0 ? false : _ref4$persistSelectio,\n      _ref4$as = _ref4.as,\n      Comp = _ref4$as === void 0 ? \"ul\" : _ref4$as,\n      props = _objectWithoutPropertiesLoose(_ref4, _excluded4);\n\n  var _React$useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComboboxContext),\n      persistSelectionRef = _React$useContext3.persistSelectionRef,\n      listboxId = _React$useContext3.listboxId;\n\n  if (persistSelection) {\n    persistSelectionRef.current = true;\n  }\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Comp, _extends({\n    role: \"listbox\"\n  }, props, {\n    ref: forwardedRef,\n    \"data-reach-combobox-list\": \"\",\n    id: listboxId\n  }));\n});\n/**\n * @see Docs https://reach.tech/combobox#comboboxlist-props\n */\n\nif (true) {\n  ComboboxList.displayName = \"ComboboxList\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxOption\n *\n * An option that is suggested to the user as they interact with the combobox.\n *\n * @see Docs https://reach.tech/combobox#comboboxoption\n */\n\n\nvar ComboboxOption = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref5, forwardedRef) {\n  var _ref5$as = _ref5.as,\n      Comp = _ref5$as === void 0 ? \"li\" : _ref5$as,\n      children = _ref5.children,\n      indexProp = _ref5.index,\n      value = _ref5.value,\n      onClick = _ref5.onClick,\n      props = _objectWithoutPropertiesLoose(_ref5, _excluded5);\n\n  var _React$useContext4 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComboboxContext),\n      onSelect = _React$useContext4.onSelect,\n      navigationValue = _React$useContext4.data.navigationValue,\n      transition = _React$useContext4.transition,\n      isControlledRef = _React$useContext4.isControlledRef;\n\n  var ownRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n\n  var _useStatefulRefValue = (0,_reach_utils_use_stateful_ref_value__WEBPACK_IMPORTED_MODULE_9__.useStatefulRefValue)(ownRef, null),\n      element = _useStatefulRefValue[0],\n      handleRefSet = _useStatefulRefValue[1];\n\n  var descendant = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return {\n      element: element,\n      value: value\n    };\n  }, [value, element]);\n  var index = (0,_reach_descendants__WEBPACK_IMPORTED_MODULE_11__.useDescendant)(descendant, ComboboxDescendantContext, indexProp);\n  var ref = (0,_reach_utils_compose_refs__WEBPACK_IMPORTED_MODULE_7__.useComposedRefs)(forwardedRef, handleRefSet);\n  var isActive = navigationValue === value;\n\n  var handleClick = function handleClick() {\n    onSelect && onSelect(value);\n    transition(SELECT_WITH_CLICK, {\n      value: value,\n      isControlled: isControlledRef.current\n    });\n  };\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(OptionContext.Provider, {\n    value: {\n      value: value,\n      index: index\n    }\n  }, /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Comp, _extends({\n    \"aria-selected\": isActive,\n    role: \"option\"\n  }, props, {\n    \"data-reach-combobox-option\": \"\",\n    ref: ref,\n    id: String(makeHash(value)),\n    \"data-highlighted\": isActive ? \"\" : undefined // Without this the menu will close from `onBlur`, but with it the\n    // element can be `document.activeElement` and then our focus checks in\n    // onBlur will work as intended\n    ,\n    tabIndex: -1,\n    onClick: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onClick, handleClick)\n  }), children ? (0,_reach_utils_type_check__WEBPACK_IMPORTED_MODULE_3__.isFunction)(children) ? children({\n    value: value,\n    index: index\n  }) : children : /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ComboboxOptionText, null)));\n});\n/**\n * @see Docs https://reach.tech/combobox#comboboxoption-props\n */\n\nif (true) {\n  ComboboxOption.displayName = \"ComboboxOption\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxOptionText\n *\n * Renders the value of a `ComboboxOption` as text but with spans wrapping the\n * matching and non-matching segments of text.\n *\n * We don't forwardRef or spread props because we render multiple spans or null,\n * should be fine ðŸ¤™\n *\n * @example\n *   <ComboboxOption value=\"Seattle\">\n *     ðŸŒ§ <ComboboxOptionText />\n *   </ComboboxOption>\n *\n * @see Docs https://reach.tech/combobox#comboboxoptiontext\n */\n\n\nfunction ComboboxOptionText() {\n  var _React$useContext5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(OptionContext),\n      value = _React$useContext5.value;\n\n  var _React$useContext6 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComboboxContext),\n      contextValue = _React$useContext6.data.value;\n\n  var results = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return HighlightWords.findAll({\n      searchWords: escapeRegexp(contextValue || \"\").split(/\\s+/),\n      textToHighlight: value\n    });\n  }, [contextValue, value]);\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, results.length ? results.map(function (result, index) {\n    var str = value.slice(result.start, result.end);\n    return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"span\", {\n      key: index,\n      \"data-reach-combobox-option-text\": \"\",\n      \"data-user-value\": result.highlight ? true : undefined,\n      \"data-suggested-value\": result.highlight ? undefined : true\n    }, str);\n  }) : value);\n}\n\nif (true) {\n  ComboboxOptionText.displayName = \"ComboboxOptionText\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxButton\n */\n\n\nvar ComboboxButton = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref6, forwardedRef) {\n  var _ref6$as = _ref6.as,\n      Comp = _ref6$as === void 0 ? \"button\" : _ref6$as,\n      onClick = _ref6.onClick,\n      onKeyDown = _ref6.onKeyDown,\n      props = _objectWithoutPropertiesLoose(_ref6, _excluded6);\n\n  var _React$useContext7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComboboxContext),\n      transition = _React$useContext7.transition,\n      state = _React$useContext7.state,\n      buttonRef = _React$useContext7.buttonRef,\n      listboxId = _React$useContext7.listboxId,\n      isExpanded = _React$useContext7.isExpanded;\n\n  var ref = (0,_reach_utils_compose_refs__WEBPACK_IMPORTED_MODULE_7__.useComposedRefs)(buttonRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n\n  var handleClick = function handleClick() {\n    if (state === IDLE) {\n      transition(OPEN_WITH_BUTTON);\n    } else {\n      transition(CLOSE_WITH_BUTTON);\n    }\n  };\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Comp, _extends({\n    \"aria-controls\": listboxId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-expanded\": isExpanded\n  }, props, {\n    \"data-reach-combobox-button\": \"\",\n    ref: ref,\n    onClick: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onClick, handleClick),\n    onKeyDown: (0,_reach_utils_compose_event_handlers__WEBPACK_IMPORTED_MODULE_10__.composeEventHandlers)(onKeyDown, handleKeyDown)\n  }));\n});\n\nif (true) {\n  ComboboxButton.displayName = \"ComboboxButton\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Move focus back to the input if we start navigating w/ the\n * keyboard after focus has moved to any focusable content in\n * the popup.\n *\n * @param lastEventType\n * @param inputRef\n */\n\n\nfunction useFocusManagement(lastEventType, inputRef) {\n  // useLayoutEffect so that the cursor goes to the end of the input instead\n  // of awkwardly at the beginning, unclear to me why ðŸ¤·â€â™‚ï¸\n  //\n  // Should be safe to use here since we're just focusing an input.\n  (0,_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(function () {\n    if (lastEventType === NAVIGATE || lastEventType === ESCAPE || lastEventType === SELECT_WITH_CLICK || lastEventType === OPEN_WITH_BUTTON) {\n      var _inputRef$current2;\n\n      (_inputRef$current2 = inputRef.current) == null ? void 0 : _inputRef$current2.focus();\n    }\n  }, [inputRef, lastEventType]);\n}\n/**\n * We want the same events when the input or the popup have focus (HOW COOL ARE\n * HOOKS BTW?) This is probably the hairiest piece but it's not bad.\n */\n\n\nfunction useKeyDown() {\n  var _React$useContext8 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComboboxContext),\n      navigationValue = _React$useContext8.data.navigationValue,\n      onSelect = _React$useContext8.onSelect,\n      state = _React$useContext8.state,\n      transition = _React$useContext8.transition,\n      autocompletePropRef = _React$useContext8.autocompletePropRef,\n      persistSelectionRef = _React$useContext8.persistSelectionRef,\n      isControlledRef = _React$useContext8.isControlledRef;\n\n  var options = (0,_reach_descendants__WEBPACK_IMPORTED_MODULE_11__.useDescendants)(ComboboxDescendantContext);\n  return function handleKeyDown(event) {\n    var index = options.findIndex(function (_ref7) {\n      var value = _ref7.value;\n      return value === navigationValue;\n    });\n\n    function getNextOption() {\n      var atBottom = index === options.length - 1;\n\n      if (atBottom) {\n        if (autocompletePropRef.current) {\n          // Go back to the value the user has typed because we are\n          // autocompleting and they need to be able to get back to what\n          // they had typed w/o having to backspace out.\n          return null;\n        } else {\n          // cycle through\n          return getFirstOption();\n        }\n      } else {\n        // Go to the next item in the list\n        return options[(index + 1) % options.length];\n      }\n    }\n\n    function getPreviousOption() {\n      var atTop = index === 0;\n\n      if (atTop) {\n        if (autocompletePropRef.current) {\n          // Go back to the value the user has typed because we are\n          // autocompleting and they need to be able to get back to what\n          // they had typed w/o having to backspace out.\n          return null;\n        } else {\n          // cycle through\n          return getLastOption();\n        }\n      } else if (index === -1) {\n        // displaying the user's value, so go select the last one\n        return getLastOption();\n      } else {\n        // normal case, select previous\n        return options[(index - 1 + options.length) % options.length];\n      }\n    }\n\n    function getFirstOption() {\n      return options[0];\n    }\n\n    function getLastOption() {\n      return options[options.length - 1];\n    }\n\n    switch (event.key) {\n      case \"ArrowDown\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || !options.length) {\n          return;\n        }\n\n        if (state === IDLE) {\n          // Opening a closed list\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          var next = getNextOption();\n          transition(NAVIGATE, {\n            value: next ? next.value : null\n          });\n        }\n\n        break;\n      // A lot of duplicate code with ArrowDown up next, I'm already over it.\n\n      case \"ArrowUp\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || options.length === 0) {\n          return;\n        }\n\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          var prev = getPreviousOption();\n          transition(NAVIGATE, {\n            value: prev ? prev.value : null\n          });\n        }\n\n        break;\n\n      case \"Home\":\n      case \"PageUp\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || options.length === 0) {\n          return;\n        }\n\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getFirstOption().value\n          });\n        }\n\n        break;\n\n      case \"End\":\n      case \"PageDown\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || options.length === 0) {\n          return;\n        }\n\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getLastOption().value\n          });\n        }\n\n        break;\n\n      case \"Escape\":\n        if (state !== IDLE) {\n          transition(ESCAPE);\n        }\n\n        break;\n\n      case \"Enter\":\n        if (state === NAVIGATING && navigationValue !== null) {\n          // don't want to submit forms\n          event.preventDefault();\n          onSelect && onSelect(navigationValue);\n          transition(SELECT_WITH_KEYBOARD, {\n            isControlled: isControlledRef.current\n          });\n        }\n\n        break;\n    }\n  };\n}\n\nfunction useBlur() {\n  var _React$useContext9 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComboboxContext),\n      state = _React$useContext9.state,\n      transition = _React$useContext9.transition,\n      popoverRef = _React$useContext9.popoverRef,\n      inputRef = _React$useContext9.inputRef,\n      buttonRef = _React$useContext9.buttonRef;\n\n  return function handleBlur(event) {\n    var popover = popoverRef.current;\n    var input = inputRef.current;\n    var button = buttonRef.current;\n    var activeElement = event.relatedTarget; // we on want to close only if focus propss outside the combobox\n\n    if (activeElement !== input && activeElement !== button && popover) {\n      if (popover.contains(activeElement)) {\n        // focus landed inside the combobox, keep it open\n        if (state !== INTERACTING) {\n          transition(INTERACT);\n        }\n      } else {\n        // focus landed outside the combobox, close it.\n        transition(BLUR);\n      }\n    }\n  };\n}\n/**\n * This manages transitions between states with a built in reducer to manage\n * the data that goes with those transitions.\n *\n * @param chart\n * @param reducer\n * @param initialData\n */\n\n\nfunction useReducerMachine(chart, reducer, initialData) {\n  var _React$useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(chart.initial),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var _React$useReducer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(reducer, initialData),\n      data = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var transition = function transition(event, payload) {\n    if (payload === void 0) {\n      payload = {};\n    }\n\n    var currentState = chart.states[state];\n    var nextState = currentState && currentState.on[event];\n\n    if (nextState) {\n      dispatch(_extends({\n        type: event,\n        state: state,\n        nextState: state\n      }, payload));\n      setState(nextState);\n      return;\n    }\n  };\n\n  return [state, data, transition];\n}\n/**\n * We don't want to track the active descendant with indexes because nothing is\n * more annoying in a combobox than having it change values RIGHT AS YOU HIT\n * ENTER. That only happens if you use the index as your data, rather than\n * *your data as your data*. We use this to generate a unique ID based on the\n * value of each item.  This function is short, sweet, and good enoughâ„¢ (I also\n * don't know how it works, tbqh)\n *\n * @see https://stackoverflow.com/questions/6122571/simple-non-secure-hash-function-for-javascript\n * @param str\n */\n\n\nfunction makeHash(str) {\n  var hash = 0;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < str.length; i++) {\n    var _char = str.charCodeAt(i);\n\n    hash = (hash << 5) - hash + _char;\n    hash = hash & hash;\n  }\n\n  return hash;\n} // function getActiveElement(node: Element | null | undefined) {\n//   let activeElement: Element | null = null;\n//   try {\n//     // If Element.getRootNode is supported, we'll retrieve either the root\n//     // Document or shadow root depending on where the component is rendered.\n//     // https://github.com/reach/reach-ui/issues/787\n//     activeElement = (node?.getRootNode() as ShadowRoot | Document)\n//       .activeElement;\n//   } finally {\n//     return activeElement || (node?.ownerDocument || document).activeElement;\n//   }\n// }\n\n\nfunction getDataState(state) {\n  return state.toLowerCase();\n}\n/**\n * Escape regexp special characters in `str`\n *\n * @see https://github.com/component/escape-regexp/blob/5ce923c1510c9802b3da972c90b6861dd2829b6b/index.js\n * @param str\n */\n\n\nfunction escapeRegexp(str) {\n  return String(str).replace(/([.*+?=^!:${}()|[\\]/\\\\])/g, \"\\\\$1\");\n} //////////////////////////\n//////////////////////////////////////////////////////\n\n/**\n * A hook that exposes data for a given `Combobox` component to its descendants.\n *\n * @see Docs https://reach.tech/combobox#usecomboboxcontext\n */\n\nfunction useComboboxContext() {\n  var _React$useContext10 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComboboxContext),\n      isExpanded = _React$useContext10.isExpanded,\n      comboboxId = _React$useContext10.comboboxId,\n      data = _React$useContext10.data,\n      state = _React$useContext10.state;\n\n  var navigationValue = data.navigationValue;\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return {\n      id: comboboxId,\n      isExpanded: isExpanded,\n      navigationValue: navigationValue != null ? navigationValue : null,\n      state: state\n    };\n  }, [comboboxId, isExpanded, navigationValue, state]);\n}\n/**\n * A hook that exposes data for a given `ComboboxOption` component to its descendants.\n *\n * @see Docs https://reach.tech/combobox#usecomboboxcontext\n */\n\nfunction useComboboxOptionContext() {\n  var _React$useContext11 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(OptionContext),\n      value = _React$useContext11.value,\n      index = _React$useContext11.index;\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return {\n      value: value,\n      index: index\n    };\n  }, [value, index]);\n} ////////////////////////////////////////////////////////////////////////////////\n// Well alright, you made it all the way here to like 1100 lines of code (geez,\n// what the heck?). Have a great day :D\n////////////////////////////////////////////////////////////////////////////////\n// Types\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL2NvbWJvYm94L2Rpc3QvcmVhY2gtY29tYm9ib3guZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVJO0FBQ3BHO0FBQ21EO0FBQzVCO0FBQ0w7QUFDUDtBQUNMO0FBQ2U7QUFDSTtBQUNLO0FBQ1M7QUFDQztBQUN5RDtBQUM3RjtBQUNzQjtBQUMxQjs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDOztBQUVqQztBQUNB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L0ByZWFjaC9jb21ib2JveC9kaXN0L3JlYWNoLWNvbWJvYm94LmVzbS5qcz8zZjgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcndhcmRSZWYsIHVzZVJlZiwgY3JlYXRlRWxlbWVudCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlTWVtbywgRnJhZ21lbnQsIHVzZVN0YXRlLCB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICdAcmVhY2gvdXRpbHMvdXNlLWlzb21vcnBoaWMtbGF5b3V0LWVmZmVjdCc7XG5pbXBvcnQgeyBjcmVhdGVOYW1lZENvbnRleHQgfSBmcm9tICdAcmVhY2gvdXRpbHMvY29udGV4dCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnQHJlYWNoL3V0aWxzL3R5cGUtY2hlY2snO1xuaW1wb3J0IHsgbWFrZUlkIH0gZnJvbSAnQHJlYWNoL3V0aWxzL21ha2UtaWQnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ0ByZWFjaC91dGlscy9ub29wJztcbmltcG9ydCB7IHVzZUNoZWNrU3R5bGVzIH0gZnJvbSAnQHJlYWNoL3V0aWxzL2Rldi11dGlscyc7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tICdAcmVhY2gvdXRpbHMvY29tcG9zZS1yZWZzJztcbmltcG9ydCB7IHVzZVVwZGF0ZUVmZmVjdCB9IGZyb20gJ0ByZWFjaC91dGlscy91c2UtdXBkYXRlLWVmZmVjdCc7XG5pbXBvcnQgeyB1c2VTdGF0ZWZ1bFJlZlZhbHVlIH0gZnJvbSAnQHJlYWNoL3V0aWxzL3VzZS1zdGF0ZWZ1bC1yZWYtdmFsdWUnO1xuaW1wb3J0IHsgY29tcG9zZUV2ZW50SGFuZGxlcnMgfSBmcm9tICdAcmVhY2gvdXRpbHMvY29tcG9zZS1ldmVudC1oYW5kbGVycyc7XG5pbXBvcnQgeyBjcmVhdGVEZXNjZW5kYW50Q29udGV4dCwgdXNlRGVzY2VuZGFudHNJbml0LCBEZXNjZW5kYW50UHJvdmlkZXIsIHVzZURlc2NlbmRhbnQsIHVzZURlc2NlbmRhbnRzIH0gZnJvbSAnQHJlYWNoL2Rlc2NlbmRhbnRzJztcbmltcG9ydCB7IHVzZUlkIH0gZnJvbSAnQHJlYWNoL2F1dG8taWQnO1xuaW1wb3J0IHsgUG9wb3ZlciwgcG9zaXRpb25NYXRjaFdpZHRoIH0gZnJvbSAnQHJlYWNoL3BvcG92ZXInO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAndGlueS13YXJuaW5nJztcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbi8vIEZvcmtlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9idmF1Z2huL2hpZ2hsaWdodC13b3Jkcy1jb3JlXG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBjaHVuayBvYmplY3RzIHJlcHJlc2VudGluZyBib3RoIGhpZ2xpZ2h0YWJsZSBhbmQgbm9uXG4gKiBoaWdobGlnaHRhYmxlIHBpZWNlcyBvZiB0ZXh0IHRoYXQgbWF0Y2ggZWFjaCBzZWFyY2ggd29yZC5cbiAqXG4gKiBAcmV0dXJuIEFycmF5IG9mIFwiY2h1bmtcIiBvYmplY3RzXG4gKi9cbmZ1bmN0aW9uIGZpbmRBbGwoX3JlZikge1xuICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYuYXV0b0VzY2FwZSxcbiAgICAgIF9yZWYkY2FzZVNlbnNpdGl2ZSA9IF9yZWYuY2FzZVNlbnNpdGl2ZSxcbiAgICAgIGNhc2VTZW5zaXRpdmUgPSBfcmVmJGNhc2VTZW5zaXRpdmUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRjYXNlU2Vuc2l0aXZlLFxuICAgICAgX3JlZiRmaW5kQ2h1bmtzID0gX3JlZi5maW5kQ2h1bmtzLFxuICAgICAgZmluZENodW5rcyA9IF9yZWYkZmluZENodW5rcyA9PT0gdm9pZCAwID8gZGVmYXVsdEZpbmRDaHVua3MgOiBfcmVmJGZpbmRDaHVua3MsXG4gICAgICBzYW5pdGl6ZSA9IF9yZWYuc2FuaXRpemUsXG4gICAgICBzZWFyY2hXb3JkcyA9IF9yZWYuc2VhcmNoV29yZHMsXG4gICAgICB0ZXh0VG9IaWdobGlnaHQgPSBfcmVmLnRleHRUb0hpZ2hsaWdodDtcbiAgcmV0dXJuIGZpbGxJbkNodW5rcyh7XG4gICAgY2h1bmtzVG9IaWdobGlnaHQ6IGNvbWJpbmVDaHVua3Moe1xuICAgICAgY2h1bmtzOiBmaW5kQ2h1bmtzKHtcbiAgICAgICAgYXV0b0VzY2FwZTogYXV0b0VzY2FwZSxcbiAgICAgICAgY2FzZVNlbnNpdGl2ZTogY2FzZVNlbnNpdGl2ZSxcbiAgICAgICAgc2FuaXRpemU6IHNhbml0aXplLFxuICAgICAgICBzZWFyY2hXb3Jkczogc2VhcmNoV29yZHMsXG4gICAgICAgIHRleHRUb0hpZ2hsaWdodDogdGV4dFRvSGlnaGxpZ2h0XG4gICAgICB9KVxuICAgIH0pLFxuICAgIHRvdGFsTGVuZ3RoOiB0ZXh0VG9IaWdobGlnaHQgPyB0ZXh0VG9IaWdobGlnaHQubGVuZ3RoIDogMFxuICB9KTtcbn1cbi8qKlxuICogVGFrZXMgYW4gYXJyYXkgb2YgXCJjaHVua1wiIG9iamVjdHMgYW5kIGNvbWJpbmVzIGNodW5rcyB0aGF0IG92ZXJsYXAgaW50b1xuICogc2luZ2xlIGNodW5rcy5cbiAqXG4gKiBAcmV0dXJuIEFycmF5IG9mIFwiY2h1bmtcIiBvYmplY3RzXG4gKi9cblxuXG5mdW5jdGlvbiBjb21iaW5lQ2h1bmtzKF9yZWYyKSB7XG4gIHZhciBjaHVua3MgPSBfcmVmMi5jaHVua3M7XG4gIHJldHVybiBjaHVua3Muc29ydChmdW5jdGlvbiAoZmlyc3QsIHNlY29uZCkge1xuICAgIHJldHVybiBmaXJzdC5zdGFydCAtIHNlY29uZC5zdGFydDtcbiAgfSkucmVkdWNlKGZ1bmN0aW9uIChwcm9jZXNzZWRDaHVua3MsIG5leHRDaHVuaykge1xuICAgIC8vIEZpcnN0IGNodW5rIGp1c3QgZ29lcyBzdHJhaWdodCBpbiB0aGUgYXJyYXkuLi5cbiAgICBpZiAocHJvY2Vzc2VkQ2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtuZXh0Q2h1bmtdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAuLi4gc3Vic2VxdWVudCBjaHVua3MgZ2V0IGNoZWNrZWQgdG8gc2VlIGlmIHRoZXkgb3ZlcmxhcC4uLlxuICAgICAgdmFyIHByZXZDaHVuayA9IHByb2Nlc3NlZENodW5rcy5wb3AoKTtcblxuICAgICAgaWYgKG5leHRDaHVuay5zdGFydCA8PSBwcmV2Q2h1bmsuZW5kKSB7XG4gICAgICAgIC8vIEl0IG1heSBiZSB0aGUgY2FzZSB0aGF0IHByZXZDaHVuayBjb21wbGV0ZWx5IHN1cnJvdW5kcyBuZXh0Q2h1bmssIHNvIHRha2UgdGhlXG4gICAgICAgIC8vIGxhcmdlc3Qgb2YgdGhlIGVuZCBpbmRlY2VzLlxuICAgICAgICB2YXIgZW5kSW5kZXggPSBNYXRoLm1heChwcmV2Q2h1bmsuZW5kLCBuZXh0Q2h1bmsuZW5kKTtcbiAgICAgICAgcHJvY2Vzc2VkQ2h1bmtzLnB1c2goe1xuICAgICAgICAgIGhpZ2hsaWdodDogZmFsc2UsXG4gICAgICAgICAgc3RhcnQ6IHByZXZDaHVuay5zdGFydCxcbiAgICAgICAgICBlbmQ6IGVuZEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzc2VkQ2h1bmtzLnB1c2gocHJldkNodW5rLCBuZXh0Q2h1bmspO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvY2Vzc2VkQ2h1bmtzO1xuICAgIH1cbiAgfSwgW10pO1xufVxuLyoqXG4gKiBFeGFtaW5lIHRleHQgZm9yIGFueSBtYXRjaGVzLiBJZiB3ZSBmaW5kIG1hdGNoZXMsIGFkZCB0aGVtIHRvIHRoZSByZXR1cm5lZFxuICogYXJyYXkgYXMgYSBcImNodW5rXCIgb2JqZWN0LlxuICpcbiAqIEByZXR1cm4gQXJyYXkgb2YgXCJjaHVua1wiIG9iamVjdHNcbiAqL1xuXG5cbmZ1bmN0aW9uIGRlZmF1bHRGaW5kQ2h1bmtzKF9yZWYzKSB7XG4gIHZhciBhdXRvRXNjYXBlID0gX3JlZjMuYXV0b0VzY2FwZSxcbiAgICAgIGNhc2VTZW5zaXRpdmUgPSBfcmVmMy5jYXNlU2Vuc2l0aXZlLFxuICAgICAgX3JlZjMkc2FuaXRpemUgPSBfcmVmMy5zYW5pdGl6ZSxcbiAgICAgIHNhbml0aXplID0gX3JlZjMkc2FuaXRpemUgPT09IHZvaWQgMCA/IGRlZmF1bHRTYW5pdGl6ZSA6IF9yZWYzJHNhbml0aXplLFxuICAgICAgc2VhcmNoV29yZHMgPSBfcmVmMy5zZWFyY2hXb3JkcyxcbiAgICAgIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYzLnRleHRUb0hpZ2hsaWdodDtcbiAgdGV4dFRvSGlnaGxpZ2h0ID0gc2FuaXRpemUodGV4dFRvSGlnaGxpZ2h0IHx8IFwiXCIpO1xuICByZXR1cm4gc2VhcmNoV29yZHMuZmlsdGVyKGZ1bmN0aW9uIChzZWFyY2hXb3JkKSB7XG4gICAgcmV0dXJuIHNlYXJjaFdvcmQ7XG4gIH0pIC8vIFJlbW92ZSBlbXB0eSB3b3Jkc1xuICAucmVkdWNlKGZ1bmN0aW9uIChjaHVua3MsIHNlYXJjaFdvcmQpIHtcbiAgICBzZWFyY2hXb3JkID0gc2FuaXRpemUoc2VhcmNoV29yZCk7XG5cbiAgICBpZiAoYXV0b0VzY2FwZSkge1xuICAgICAgc2VhcmNoV29yZCA9IGVzY2FwZVJlZ0V4cEZuKHNlYXJjaFdvcmQpO1xuICAgIH1cblxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoc2VhcmNoV29yZCwgY2FzZVNlbnNpdGl2ZSA/IFwiZ1wiIDogXCJnaVwiKTtcbiAgICB2YXIgbWF0Y2g7XG5cbiAgICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKHRleHRUb0hpZ2hsaWdodCB8fCBcIlwiKSkge1xuICAgICAgdmFyIHN0YXJ0ID0gbWF0Y2guaW5kZXg7XG4gICAgICB2YXIgZW5kID0gcmVnZXgubGFzdEluZGV4OyAvLyBXZSBkbyBub3QgcmV0dXJuIHplcm8tbGVuZ3RoIG1hdGNoZXNcblxuICAgICAgaWYgKGVuZCA+IHN0YXJ0KSB7XG4gICAgICAgIGNodW5rcy5wdXNoKHtcbiAgICAgICAgICBoaWdobGlnaHQ6IGZhbHNlLFxuICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICBlbmQ6IGVuZFxuICAgICAgICB9KTtcbiAgICAgIH0gLy8gUHJldmVudCBicm93c2VycyBsaWtlIEZpcmVmb3ggZnJvbSBnZXR0aW5nIHN0dWNrIGluIGFuIGluZmluaXRlIGxvb3BcbiAgICAgIC8vIFNlZSBodHRwOi8vd3d3LnJlZ2V4Z3VydS5jb20vMjAwOC8wNC93YXRjaC1vdXQtZm9yLXplcm8tbGVuZ3RoLW1hdGNoZXMvXG5cblxuICAgICAgaWYgKG1hdGNoLmluZGV4ID09PSByZWdleC5sYXN0SW5kZXgpIHtcbiAgICAgICAgcmVnZXgubGFzdEluZGV4Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNodW5rcztcbiAgfSwgW10pO1xufVxuLyoqXG4gKiBHaXZlbiBhIHNldCBvZiBjaHVua3MgdG8gaGlnaGxpZ2h0LCBjcmVhdGUgYW4gYWRkaXRpb25hbCBzZXQgb2YgY2h1bmtzXG4gKiB0byByZXByZXNlbnQgdGhlIGJpdHMgb2YgdGV4dCBiZXR3ZWVuIHRoZSBoaWdobGlnaHRlZCB0ZXh0LlxuICpcbiAqIEByZXR1cm4gQXJyYXkgb2YgXCJjaHVua1wiIG9iamVjdHNcbiAqL1xuXG5cbmZ1bmN0aW9uIGZpbGxJbkNodW5rcyhfcmVmNCkge1xuICB2YXIgY2h1bmtzVG9IaWdobGlnaHQgPSBfcmVmNC5jaHVua3NUb0hpZ2hsaWdodCxcbiAgICAgIHRvdGFsTGVuZ3RoID0gX3JlZjQudG90YWxMZW5ndGg7XG4gIHZhciBhbGxDaHVua3MgPSBbXTtcblxuICBpZiAoY2h1bmtzVG9IaWdobGlnaHQubGVuZ3RoID09PSAwKSB7XG4gICAgYXBwZW5kKDAsIHRvdGFsTGVuZ3RoLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxhc3RJbmRleCA9IDA7XG4gICAgY2h1bmtzVG9IaWdobGlnaHQuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgIGFwcGVuZChsYXN0SW5kZXgsIGNodW5rLnN0YXJ0LCBmYWxzZSk7XG4gICAgICBhcHBlbmQoY2h1bmsuc3RhcnQsIGNodW5rLmVuZCwgdHJ1ZSk7XG4gICAgICBsYXN0SW5kZXggPSBjaHVuay5lbmQ7XG4gICAgfSk7XG4gICAgYXBwZW5kKGxhc3RJbmRleCwgdG90YWxMZW5ndGgsIGZhbHNlKTtcbiAgfVxuXG4gIHJldHVybiBhbGxDaHVua3M7XG5cbiAgZnVuY3Rpb24gYXBwZW5kKHN0YXJ0LCBlbmQsIGhpZ2hsaWdodCkge1xuICAgIGlmIChlbmQgLSBzdGFydCA+IDApIHtcbiAgICAgIGFsbENodW5rcy5wdXNoKHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgaGlnaGxpZ2h0OiBoaWdobGlnaHRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0U2FuaXRpemUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cEZuKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1stW1xcXS97fSgpKis/LlxcXFxeJHxdL2csIFwiXFxcXCQmXCIpO1xufVxuXG52YXIgSGlnaGxpZ2h0V29yZHMgPSB7XG4gIGNvbWJpbmVDaHVua3M6IGNvbWJpbmVDaHVua3MsXG4gIGZpbGxJbkNodW5rczogZmlsbEluQ2h1bmtzLFxuICBmaW5kQWxsOiBmaW5kQWxsLFxuICBmaW5kQ2h1bmtzOiBkZWZhdWx0RmluZENodW5rc1xufTtcblxudmFyIF9leGNsdWRlZCA9IFtcIm9uU2VsZWN0XCIsIFwib3Blbk9uRm9jdXNcIiwgXCJjaGlsZHJlblwiLCBcImFzXCIsIFwiYXJpYS1sYWJlbFwiLCBcImFyaWEtbGFiZWxsZWRieVwiXSxcbiAgICBfZXhjbHVkZWQyID0gW1wiYXNcIiwgXCJzZWxlY3RPbkNsaWNrXCIsIFwiYXV0b2NvbXBsZXRlXCIsIFwib25DbGlja1wiLCBcIm9uQ2hhbmdlXCIsIFwib25LZXlEb3duXCIsIFwib25CbHVyXCIsIFwib25Gb2N1c1wiLCBcInZhbHVlXCJdLFxuICAgIF9leGNsdWRlZDMgPSBbXCJhc1wiLCBcImNoaWxkcmVuXCIsIFwicG9ydGFsXCIsIFwib25LZXlEb3duXCIsIFwib25CbHVyXCIsIFwicG9zaXRpb25cIl0sXG4gICAgX2V4Y2x1ZGVkNCA9IFtcInBlcnNpc3RTZWxlY3Rpb25cIiwgXCJhc1wiXSxcbiAgICBfZXhjbHVkZWQ1ID0gW1wiYXNcIiwgXCJjaGlsZHJlblwiLCBcImluZGV4XCIsIFwidmFsdWVcIiwgXCJvbkNsaWNrXCJdLFxuICAgIF9leGNsdWRlZDYgPSBbXCJhc1wiLCBcIm9uQ2xpY2tcIiwgXCJvbktleURvd25cIl07XG5cbnZhciBfb24sIF9vbjIsIF9vbjMsIF9vbjQsIF9zdGF0ZXM7XG4vLyBTdGF0ZXNcbi8vIE5vdGhpbmcgZ29pbmcgb24sIHdhaXRpbmcgZm9yIHRoZSB1c2VyIHRvIHR5cGUgb3IgdXNlIHRoZSBhcnJvdyBrZXlzXG5cbnZhciBJRExFID0gXCJJRExFXCI7IC8vIFRoZSBjb21wb25lbnQgaXMgc3VnZ2VzdGluZyBvcHRpb25zIGFzIHRoZSB1c2VyIHR5cGVzXG5cbnZhciBTVUdHRVNUSU5HID0gXCJTVUdHRVNUSU5HXCI7IC8vIFRoZSB1c2VyIGlzIHVzaW5nIHRoZSBrZXlib2FyZCB0byBuYXZpZ2F0ZSB0aGUgbGlzdCwgbm90IHR5cGluZ1xuXG52YXIgTkFWSUdBVElORyA9IFwiTkFWSUdBVElOR1wiOyAvLyBUaGUgdXNlciBpcyBpbnRlcmFjdGluZyB3aXRoIGFyYml0cmFyeSBlbGVtZW50cyBpbnNpZGUgdGhlIHBvcHVwIHRoYXRcbi8vIGFyZSBub3QgQ29tYm9ib3hJbnB1dHNcblxudmFyIElOVEVSQUNUSU5HID0gXCJJTlRFUkFDVElOR1wiOyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRXZlbnRzXG4vLyBVc2VyIGNsZWFyZWQgdGhlIHZhbHVlIHcvIGJhY2tzcGFjZSwgYnV0IGlucHV0IHN0aWxsIGhhcyBmb2N1c1xuXG52YXIgQ0xFQVIgPSBcIkNMRUFSXCI7IC8vIFVzZXIgaXMgdHlwaW5nXG5cbnZhciBDSEFOR0UgPSBcIkNIQU5HRVwiOyAvLyBJbml0aWFsIGlucHV0IHZhbHVlIGNoYW5nZSBoYW5kbGVyIGZvciBzeW5jaW5nIHVzZXIgc3RhdGUgd2l0aCBzdGF0ZSBtYWNoaW5lXG4vLyBQcmV2ZW50cyBpbml0aWFsIGNoYW5nZSBmcm9tIHNlbmRpbmcgdGhlIHVzZXIgdG8gdGhlIE5BVklHQVRJTkcgc3RhdGVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjaC9yZWFjaC11aS9pc3N1ZXMvNDY0XG5cbnZhciBJTklUSUFMX0NIQU5HRSA9IFwiSU5JVElBTF9DSEFOR0VcIjsgLy8gVXNlciBpcyBuYXZpZ2F0aW5nIHcvIHRoZSBrZXlib2FyZFxuXG52YXIgTkFWSUdBVEUgPSBcIk5BVklHQVRFXCI7IC8vIFVzZXIgY2FuIGJlIG5hdmlnYXRpbmcgd2l0aCBrZXlib2FyZCBhbmQgdGhlbiBjbGljayBpbnN0ZWFkLCB3ZSB3YW50IHRoZVxuLy8gdmFsdWUgZnJvbSB0aGUgY2xpY2ssIG5vdCB0aGUgY3VycmVudCBuYXYgaXRlbVxuXG52YXIgU0VMRUNUX1dJVEhfS0VZQk9BUkQgPSBcIlNFTEVDVF9XSVRIX0tFWUJPQVJEXCI7XG52YXIgU0VMRUNUX1dJVEhfQ0xJQ0sgPSBcIlNFTEVDVF9XSVRIX0NMSUNLXCI7IC8vIFByZXR0eSBzZWxmLWV4cGxhbmF0b3J5LCB1c2VyIGNhbiBoaXQgZXNjYXBlIG9yIGJsdXIgdG8gY2xvc2UgdGhlIHBvcG92ZXJcblxudmFyIEVTQ0FQRSA9IFwiRVNDQVBFXCI7XG52YXIgQkxVUiA9IFwiQkxVUlwiOyAvLyBUaGUgdXNlciBsZWZ0IHRoZSBpbnB1dCB0byBpbnRlcmFjdCB3aXRoIGFyYml0cmFyeSBlbGVtZW50cyBpbnNpZGUgdGhlIHBvcHVwXG5cbnZhciBJTlRFUkFDVCA9IFwiSU5URVJBQ1RcIjtcbnZhciBGT0NVUyA9IFwiRk9DVVNcIjtcbnZhciBPUEVOX1dJVEhfQlVUVE9OID0gXCJPUEVOX1dJVEhfQlVUVE9OXCI7XG52YXIgT1BFTl9XSVRIX0lOUFVUX0NMSUNLID0gXCJPUEVOX1dJVEhfSU5QVVRfQ0xJQ0tcIjtcbnZhciBDTE9TRV9XSVRIX0JVVFRPTiA9IFwiQ0xPU0VfV0lUSF9CVVRUT05cIjsgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxudmFyIHN0YXRlQ2hhcnQgPSB7XG4gIGluaXRpYWw6IElETEUsXG4gIHN0YXRlczogKF9zdGF0ZXMgPSB7fSwgX3N0YXRlc1tJRExFXSA9IHtcbiAgICBvbjogKF9vbiA9IHt9LCBfb25bQkxVUl0gPSBJRExFLCBfb25bQ0xFQVJdID0gSURMRSwgX29uW0NIQU5HRV0gPSBTVUdHRVNUSU5HLCBfb25bSU5JVElBTF9DSEFOR0VdID0gSURMRSwgX29uW0ZPQ1VTXSA9IFNVR0dFU1RJTkcsIF9vbltOQVZJR0FURV0gPSBOQVZJR0FUSU5HLCBfb25bT1BFTl9XSVRIX0JVVFRPTl0gPSBTVUdHRVNUSU5HLCBfb25bT1BFTl9XSVRIX0lOUFVUX0NMSUNLXSA9IFNVR0dFU1RJTkcsIF9vbilcbiAgfSwgX3N0YXRlc1tTVUdHRVNUSU5HXSA9IHtcbiAgICBvbjogKF9vbjIgPSB7fSwgX29uMltDSEFOR0VdID0gU1VHR0VTVElORywgX29uMltGT0NVU10gPSBTVUdHRVNUSU5HLCBfb24yW05BVklHQVRFXSA9IE5BVklHQVRJTkcsIF9vbjJbQ0xFQVJdID0gSURMRSwgX29uMltFU0NBUEVdID0gSURMRSwgX29uMltCTFVSXSA9IElETEUsIF9vbjJbU0VMRUNUX1dJVEhfQ0xJQ0tdID0gSURMRSwgX29uMltJTlRFUkFDVF0gPSBJTlRFUkFDVElORywgX29uMltDTE9TRV9XSVRIX0JVVFRPTl0gPSBJRExFLCBfb24yKVxuICB9LCBfc3RhdGVzW05BVklHQVRJTkddID0ge1xuICAgIG9uOiAoX29uMyA9IHt9LCBfb24zW0NIQU5HRV0gPSBTVUdHRVNUSU5HLCBfb24zW0ZPQ1VTXSA9IFNVR0dFU1RJTkcsIF9vbjNbQ0xFQVJdID0gSURMRSwgX29uM1tCTFVSXSA9IElETEUsIF9vbjNbRVNDQVBFXSA9IElETEUsIF9vbjNbTkFWSUdBVEVdID0gTkFWSUdBVElORywgX29uM1tTRUxFQ1RfV0lUSF9DTElDS10gPSBJRExFLCBfb24zW1NFTEVDVF9XSVRIX0tFWUJPQVJEXSA9IElETEUsIF9vbjNbQ0xPU0VfV0lUSF9CVVRUT05dID0gSURMRSwgX29uM1tJTlRFUkFDVF0gPSBJTlRFUkFDVElORywgX29uMylcbiAgfSwgX3N0YXRlc1tJTlRFUkFDVElOR10gPSB7XG4gICAgb246IChfb240ID0ge30sIF9vbjRbQ0xFQVJdID0gSURMRSwgX29uNFtDSEFOR0VdID0gU1VHR0VTVElORywgX29uNFtGT0NVU10gPSBTVUdHRVNUSU5HLCBfb240W0JMVVJdID0gSURMRSwgX29uNFtFU0NBUEVdID0gSURMRSwgX29uNFtOQVZJR0FURV0gPSBOQVZJR0FUSU5HLCBfb240W0NMT1NFX1dJVEhfQlVUVE9OXSA9IElETEUsIF9vbjRbU0VMRUNUX1dJVEhfQ0xJQ0tdID0gSURMRSwgX29uNClcbiAgfSwgX3N0YXRlcylcbn07XG5cbnZhciByZWR1Y2VyID0gZnVuY3Rpb24gcmVkdWNlcihkYXRhLCBldmVudCkge1xuICB2YXIgbmV4dFN0YXRlID0gX2V4dGVuZHMoe30sIGRhdGEsIHtcbiAgICBsYXN0RXZlbnRUeXBlOiBldmVudC50eXBlXG4gIH0pO1xuXG4gIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgIGNhc2UgQ0hBTkdFOlxuICAgIGNhc2UgSU5JVElBTF9DSEFOR0U6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuICAgICAgICBuYXZpZ2F0aW9uVmFsdWU6IG51bGwsXG4gICAgICAgIHZhbHVlOiBldmVudC52YWx1ZVxuICAgICAgfSk7XG5cbiAgICBjYXNlIE5BVklHQVRFOlxuICAgIGNhc2UgT1BFTl9XSVRIX0JVVFRPTjpcbiAgICBjYXNlIE9QRU5fV0lUSF9JTlBVVF9DTElDSzpcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7XG4gICAgICAgIG5hdmlnYXRpb25WYWx1ZTogZmluZE5hdmlnYXRpb25WYWx1ZShuZXh0U3RhdGUsIGV2ZW50KVxuICAgICAgfSk7XG5cbiAgICBjYXNlIENMRUFSOlxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXh0U3RhdGUsIHtcbiAgICAgICAgdmFsdWU6IFwiXCIsXG4gICAgICAgIG5hdmlnYXRpb25WYWx1ZTogbnVsbFxuICAgICAgfSk7XG5cbiAgICBjYXNlIEJMVVI6XG4gICAgY2FzZSBFU0NBUEU6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuICAgICAgICBuYXZpZ2F0aW9uVmFsdWU6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBTRUxFQ1RfV0lUSF9DTElDSzpcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7XG4gICAgICAgIC8vIGlmIGNvbnRyb2xsZWQsIFwic2V0XCIgdGhlIGlucHV0IHRvIHdoYXQgaXQgYWxyZWFkeSBoYXMsIGFuZCBsZXQgdGhlXG4gICAgICAgIC8vIHVzZXIgZG8gd2hhdGV2ZXIgdGhleSB3YW50XG4gICAgICAgIHZhbHVlOiBldmVudC5pc0NvbnRyb2xsZWQgPyBkYXRhLnZhbHVlIDogZXZlbnQudmFsdWUsXG4gICAgICAgIG5hdmlnYXRpb25WYWx1ZTogbnVsbFxuICAgICAgfSk7XG5cbiAgICBjYXNlIFNFTEVDVF9XSVRIX0tFWUJPQVJEOlxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXh0U3RhdGUsIHtcbiAgICAgICAgLy8gaWYgY29udHJvbGxlZCwgXCJzZXRcIiB0aGUgaW5wdXQgdG8gd2hhdCBpdCBhbHJlYWR5IGhhcywgYW5kIGxldCB0aGVcbiAgICAgICAgLy8gdXNlciBkbyB3aGF0ZXZlciB0aGV5IHdhbnRcbiAgICAgICAgdmFsdWU6IGV2ZW50LmlzQ29udHJvbGxlZCA/IGRhdGEudmFsdWUgOiBkYXRhLm5hdmlnYXRpb25WYWx1ZSxcbiAgICAgICAgbmF2aWdhdGlvblZhbHVlOiBudWxsXG4gICAgICB9KTtcblxuICAgIGNhc2UgQ0xPU0VfV0lUSF9CVVRUT046XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuICAgICAgICBuYXZpZ2F0aW9uVmFsdWU6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBJTlRFUkFDVDpcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG5cbiAgICBjYXNlIEZPQ1VTOlxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXh0U3RhdGUsIHtcbiAgICAgICAgbmF2aWdhdGlvblZhbHVlOiBmaW5kTmF2aWdhdGlvblZhbHVlKG5leHRTdGF0ZSwgZXZlbnQpXG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBwb3BvdmVySXNFeHBhbmRlZChzdGF0ZSkge1xuICByZXR1cm4gW1NVR0dFU1RJTkcsIE5BVklHQVRJTkcsIElOVEVSQUNUSU5HXS5pbmNsdWRlcyhzdGF0ZSk7XG59XG4vKipcbiAqIFdoZW4gd2Ugb3BlbiBhIGxpc3QsIHNldCB0aGUgbmF2aWdhdGlvbiB2YWx1ZSB0byB0aGUgdmFsdWUgaW4gdGhlIGlucHV0LCBpZlxuICogaXQncyBpbiB0aGUgbGlzdCwgdGhlbiBpdCdsbCBhdXRvbWF0aWNhbGx5IGJlIGhpZ2hsaWdodGVkLlxuICpcbiAqIEBwYXJhbSBzdGF0ZURhdGFcbiAqIEBwYXJhbSBldmVudFxuICovXG5cblxuZnVuY3Rpb24gZmluZE5hdmlnYXRpb25WYWx1ZShzdGF0ZURhdGEsIGV2ZW50KSB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgaWYgKGV2ZW50LnZhbHVlKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBldmVudC52YWx1ZTsgLy8gQHRzLWlnbm9yZVxuICB9IGVsc2UgaWYgKGV2ZW50LnBlcnNpc3RTZWxlY3Rpb24pIHtcbiAgICByZXR1cm4gc3RhdGVEYXRhLnZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbnZhciBDb21ib2JveERlc2NlbmRhbnRDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZURlc2NlbmRhbnRDb250ZXh0KFwiQ29tYm9ib3hEZXNjZW5kYW50Q29udGV4dFwiKTtcbnZhciBDb21ib2JveENvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlTmFtZWRDb250ZXh0KFwiQ29tYm9ib3hDb250ZXh0XCIsIHt9KTsgLy8gQWxsb3dzIHVzIHRvIHB1dCB0aGUgb3B0aW9uJ3MgdmFsdWUgb24gY29udGV4dCBzbyB0aGF0IENvbWJvYm94T3B0aW9uVGV4dFxuLy8gY2FuIHdvcmsgaXQncyBoaWdobGlnaHQgdGV4dCBtYWdpYyBubyBtYXR0ZXIgd2hhdCBlbHNlIGlzIHJlbmRlcmVkIGFyb3VuZFxuLy8gaXQuXG5cbnZhciBPcHRpb25Db250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZU5hbWVkQ29udGV4dChcIk9wdGlvbkNvbnRleHRcIiwge30pOyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIENvbWJvYm94XG4gKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vcmVhY2gudGVjaC9jb21ib2JveCNjb21ib2JveFxuICovXG5cbnZhciBDb21ib2JveCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCBmb3J3YXJkZWRSZWYpIHtcbiAgdmFyIF9kYXRhJG5hdmlnYXRpb25WYWx1ZTtcblxuICB2YXIgb25TZWxlY3QgPSBfcmVmLm9uU2VsZWN0LFxuICAgICAgX3JlZiRvcGVuT25Gb2N1cyA9IF9yZWYub3Blbk9uRm9jdXMsXG4gICAgICBvcGVuT25Gb2N1cyA9IF9yZWYkb3Blbk9uRm9jdXMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRvcGVuT25Gb2N1cyxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIF9yZWYkYXMgPSBfcmVmLmFzLFxuICAgICAgQ29tcCA9IF9yZWYkYXMgPT09IHZvaWQgMCA/IFwiZGl2XCIgOiBfcmVmJGFzLFxuICAgICAgYXJpYUxhYmVsID0gX3JlZltcImFyaWEtbGFiZWxcIl0sXG4gICAgICBhcmlhTGFiZWxsZWRieSA9IF9yZWZbXCJhcmlhLWxhYmVsbGVkYnlcIl0sXG4gICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIF9leGNsdWRlZCk7XG5cbiAgdmFyIF91c2VEZXNjZW5kYW50c0luaXQgPSB1c2VEZXNjZW5kYW50c0luaXQoKSxcbiAgICAgIG9wdGlvbnMgPSBfdXNlRGVzY2VuZGFudHNJbml0WzBdLFxuICAgICAgc2V0T3B0aW9ucyA9IF91c2VEZXNjZW5kYW50c0luaXRbMV07IC8vIE5lZWQgdGhpcyB0byBmb2N1cyBpdFxuXG5cbiAgdmFyIGlucHV0UmVmID0gdXNlUmVmKCk7XG4gIHZhciBwb3BvdmVyUmVmID0gdXNlUmVmKCk7XG4gIHZhciBidXR0b25SZWYgPSB1c2VSZWYoKTsgLy8gV2hlbiA8Q29tYm9ib3hJbnB1dCBhdXRvY29tcGxldGU9e2ZhbHNlfSAvPiB3ZSBkb24ndCB3YW50IGN5Y2xlIGJhY2sgdG9cbiAgLy8gdGhlIHVzZXIncyB2YWx1ZSB3aGlsZSBuYXZpZ2F0aW5nIChiZWNhdXNlIGl0J3MgYWx3YXlzIHRoZSB1c2VyJ3MgdmFsdWUpLFxuICAvLyBidXQgd2UgbmVlZCB0byBrbm93IHRoaXMgaW4gdXNlS2V5RG93biB3aGljaCBpcyBmYXIgYXdheSBmcm9tIHRoZSBwcm9wXG4gIC8vIGhlcmUsIHNvIHdlIGRvIHNvbWV0aGluZyBzbmVha3kgYW5kIHdyaXRlIGl0IHRvIHRoaXMgcmVmIG9uIGNvbnRleHQgc28gd2VcbiAgLy8gY2FuIHVzZSBpdCBhbnl3aGVyZSBlbHNlIPCfmJsuIEFub3RoZXIgbmV3IHRyaWNrIGZvciBtZSBhbmQgSSdtIGV4Y2l0ZWRcbiAgLy8gYWJvdXQgdGhpcyBvbmUgdG9vIVxuXG4gIHZhciBhdXRvY29tcGxldGVQcm9wUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgdmFyIHBlcnNpc3RTZWxlY3Rpb25SZWYgPSB1c2VSZWYoZmFsc2UpO1xuICB2YXIgZGVmYXVsdERhdGEgPSB7XG4gICAgLy8gVGhlIHZhbHVlIHRoZSB1c2VyIGhhcyB0eXBlZC4gV2UgZGVyaXZlIHRoaXMgYWxzbyB3aGVuIHRoZSBkZXZlbG9wZXIgaXNcbiAgICAvLyBjb250cm9sbGluZyB0aGUgdmFsdWUgb2YgQ29tYm9ib3hJbnB1dC5cbiAgICB2YWx1ZTogXCJcIixcbiAgICAvLyB0aGUgdmFsdWUgdGhlIHVzZXIgaGFzIG5hdmlnYXRlZCB0byB3aXRoIHRoZSBrZXlib2FyZFxuICAgIG5hdmlnYXRpb25WYWx1ZTogbnVsbFxuICB9O1xuXG4gIHZhciBfdXNlUmVkdWNlck1hY2hpbmUgPSB1c2VSZWR1Y2VyTWFjaGluZShzdGF0ZUNoYXJ0LCByZWR1Y2VyLCBkZWZhdWx0RGF0YSksXG4gICAgICBzdGF0ZSA9IF91c2VSZWR1Y2VyTWFjaGluZVswXSxcbiAgICAgIGRhdGEgPSBfdXNlUmVkdWNlck1hY2hpbmVbMV0sXG4gICAgICB0cmFuc2l0aW9uID0gX3VzZVJlZHVjZXJNYWNoaW5lWzJdO1xuXG4gIHVzZUZvY3VzTWFuYWdlbWVudChkYXRhLmxhc3RFdmVudFR5cGUsIGlucHV0UmVmKTtcbiAgdmFyIGlkID0gdXNlSWQocHJvcHMuaWQpO1xuICB2YXIgbGlzdGJveElkID0gaWQgPyBtYWtlSWQoXCJsaXN0Ym94XCIsIGlkKSA6IFwibGlzdGJveFwiO1xuICB2YXIgaXNDb250cm9sbGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgdmFyIGlzRXhwYW5kZWQgPSBwb3BvdmVySXNFeHBhbmRlZChzdGF0ZSk7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGFyaWFMYWJlbDogYXJpYUxhYmVsLFxuICAgIGFyaWFMYWJlbGxlZGJ5OiBhcmlhTGFiZWxsZWRieSxcbiAgICBhdXRvY29tcGxldGVQcm9wUmVmOiBhdXRvY29tcGxldGVQcm9wUmVmLFxuICAgIGJ1dHRvblJlZjogYnV0dG9uUmVmLFxuICAgIGNvbWJvYm94SWQ6IGlkLFxuICAgIGRhdGE6IGRhdGEsXG4gICAgaW5wdXRSZWY6IGlucHV0UmVmLFxuICAgIGlzRXhwYW5kZWQ6IGlzRXhwYW5kZWQsXG4gICAgbGlzdGJveElkOiBsaXN0Ym94SWQsXG4gICAgb25TZWxlY3Q6IG9uU2VsZWN0IHx8IG5vb3AsXG4gICAgb3Blbk9uRm9jdXM6IG9wZW5PbkZvY3VzLFxuICAgIHBlcnNpc3RTZWxlY3Rpb25SZWY6IHBlcnNpc3RTZWxlY3Rpb25SZWYsXG4gICAgcG9wb3ZlclJlZjogcG9wb3ZlclJlZixcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbixcbiAgICBpc0NvbnRyb2xsZWRSZWY6IGlzQ29udHJvbGxlZFJlZlxuICB9O1xuICB1c2VDaGVja1N0eWxlcyhcImNvbWJvYm94XCIpO1xuICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoRGVzY2VuZGFudFByb3ZpZGVyLCB7XG4gICAgY29udGV4dDogQ29tYm9ib3hEZXNjZW5kYW50Q29udGV4dCxcbiAgICBpdGVtczogb3B0aW9ucyxcbiAgICBzZXQ6IHNldE9wdGlvbnNcbiAgfSwgLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQ29tYm9ib3hDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGNvbnRleHRcbiAgfSwgLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQ29tcCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgXCJkYXRhLXJlYWNoLWNvbWJvYm94XCI6IFwiXCIsXG4gICAgXCJkYXRhLXN0YXRlXCI6IGdldERhdGFTdGF0ZShzdGF0ZSksXG4gICAgXCJkYXRhLWV4cGFuZGVkXCI6IGlzRXhwYW5kZWQgfHwgdW5kZWZpbmVkLFxuICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gIH0pLCBpc0Z1bmN0aW9uKGNoaWxkcmVuKSA/IGNoaWxkcmVuKHtcbiAgICBpZDogaWQsXG4gICAgaXNFeHBhbmRlZDogaXNFeHBhbmRlZCxcbiAgICBuYXZpZ2F0aW9uVmFsdWU6IChfZGF0YSRuYXZpZ2F0aW9uVmFsdWUgPSBkYXRhLm5hdmlnYXRpb25WYWx1ZSkgIT0gbnVsbCA/IF9kYXRhJG5hdmlnYXRpb25WYWx1ZSA6IG51bGwsXG4gICAgc3RhdGU6IHN0YXRlXG4gIH0pIDogY2hpbGRyZW4pKSk7XG59KTtcbi8qKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vcmVhY2gudGVjaC9jb21ib2JveCNjb21ib2JveC1wcm9wc1xuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgQ29tYm9ib3guZGlzcGxheU5hbWUgPSBcIkNvbWJvYm94XCI7XG4gIENvbWJvYm94LnByb3BUeXBlcyA9IHtcbiAgICBhczogUHJvcFR5cGVzLmFueSxcbiAgICBvblNlbGVjdDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb3Blbk9uRm9jdXM6IFByb3BUeXBlcy5ib29sXG4gIH07XG59IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQ29tYm9ib3hJbnB1dFxuICpcbiAqIFdyYXBzIGFuIGA8aW5wdXQvPmAgd2l0aCBhIGNvdXBsZSBleHRyYSBwcm9wcyB0aGF0IHdvcmsgd2l0aCB0aGUgY29tYm9ib3guXG4gKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vcmVhY2gudGVjaC9jb21ib2JveCNjb21ib2JveGlucHV0XG4gKi9cblxuXG52YXIgQ29tYm9ib3hJbnB1dCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmMiwgZm9yd2FyZGVkUmVmKSB7XG4gIHZhciBfcmVmMiRhcyA9IF9yZWYyLmFzLFxuICAgICAgQ29tcCA9IF9yZWYyJGFzID09PSB2b2lkIDAgPyBcImlucHV0XCIgOiBfcmVmMiRhcyxcbiAgICAgIF9yZWYyJHNlbGVjdE9uQ2xpY2sgPSBfcmVmMi5zZWxlY3RPbkNsaWNrLFxuICAgICAgc2VsZWN0T25DbGljayA9IF9yZWYyJHNlbGVjdE9uQ2xpY2sgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIkc2VsZWN0T25DbGljayxcbiAgICAgIF9yZWYyJGF1dG9jb21wbGV0ZSA9IF9yZWYyLmF1dG9jb21wbGV0ZSxcbiAgICAgIGF1dG9jb21wbGV0ZSA9IF9yZWYyJGF1dG9jb21wbGV0ZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYyJGF1dG9jb21wbGV0ZSxcbiAgICAgIG9uQ2xpY2sgPSBfcmVmMi5vbkNsaWNrLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmMi5vbkNoYW5nZSxcbiAgICAgIG9uS2V5RG93biA9IF9yZWYyLm9uS2V5RG93bixcbiAgICAgIG9uQmx1ciA9IF9yZWYyLm9uQmx1cixcbiAgICAgIG9uRm9jdXMgPSBfcmVmMi5vbkZvY3VzLFxuICAgICAgY29udHJvbGxlZFZhbHVlID0gX3JlZjIudmFsdWUsXG4gICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYyLCBfZXhjbHVkZWQyKTtcblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY2gvcmVhY2gtdWkvaXNzdWVzLzQ2NFxuICB2YXIgX1JlYWN0JHVzZVJlZiA9IHVzZVJlZihjb250cm9sbGVkVmFsdWUpLFxuICAgICAgaW5pdGlhbENvbnRyb2xsZWRWYWx1ZSA9IF9SZWFjdCR1c2VSZWYuY3VycmVudDtcblxuICB2YXIgY29udHJvbGxlZFZhbHVlQ2hhbmdlZFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgY29udHJvbGxlZFZhbHVlQ2hhbmdlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSwgW2NvbnRyb2xsZWRWYWx1ZV0pO1xuXG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dCA9IHVzZUNvbnRleHQoQ29tYm9ib3hDb250ZXh0KSxcbiAgICAgIF9SZWFjdCR1c2VDb250ZXh0JGRhdCA9IF9SZWFjdCR1c2VDb250ZXh0LmRhdGEsXG4gICAgICBuYXZpZ2F0aW9uVmFsdWUgPSBfUmVhY3QkdXNlQ29udGV4dCRkYXQubmF2aWdhdGlvblZhbHVlLFxuICAgICAgdmFsdWUgPSBfUmVhY3QkdXNlQ29udGV4dCRkYXQudmFsdWUsXG4gICAgICBsYXN0RXZlbnRUeXBlID0gX1JlYWN0JHVzZUNvbnRleHQkZGF0Lmxhc3RFdmVudFR5cGUsXG4gICAgICBpbnB1dFJlZiA9IF9SZWFjdCR1c2VDb250ZXh0LmlucHV0UmVmLFxuICAgICAgc3RhdGUgPSBfUmVhY3QkdXNlQ29udGV4dC5zdGF0ZSxcbiAgICAgIHRyYW5zaXRpb24gPSBfUmVhY3QkdXNlQ29udGV4dC50cmFuc2l0aW9uLFxuICAgICAgbGlzdGJveElkID0gX1JlYWN0JHVzZUNvbnRleHQubGlzdGJveElkLFxuICAgICAgYXV0b2NvbXBsZXRlUHJvcFJlZiA9IF9SZWFjdCR1c2VDb250ZXh0LmF1dG9jb21wbGV0ZVByb3BSZWYsXG4gICAgICBvcGVuT25Gb2N1cyA9IF9SZWFjdCR1c2VDb250ZXh0Lm9wZW5PbkZvY3VzLFxuICAgICAgaXNFeHBhbmRlZCA9IF9SZWFjdCR1c2VDb250ZXh0LmlzRXhwYW5kZWQsXG4gICAgICBhcmlhTGFiZWwgPSBfUmVhY3QkdXNlQ29udGV4dC5hcmlhTGFiZWwsXG4gICAgICBhcmlhTGFiZWxsZWRieSA9IF9SZWFjdCR1c2VDb250ZXh0LmFyaWFMYWJlbGxlZGJ5LFxuICAgICAgcGVyc2lzdFNlbGVjdGlvblJlZiA9IF9SZWFjdCR1c2VDb250ZXh0LnBlcnNpc3RTZWxlY3Rpb25SZWYsXG4gICAgICBpc0NvbnRyb2xsZWRSZWYgPSBfUmVhY3QkdXNlQ29udGV4dC5pc0NvbnRyb2xsZWRSZWY7XG5cbiAgdmFyIHJlZiA9IHVzZUNvbXBvc2VkUmVmcyhpbnB1dFJlZiwgZm9yd2FyZGVkUmVmKTsgLy8gQmVjYXVzZSB3ZSBjbG9zZSB0aGUgTGlzdCBvbiBibHVyLCB3ZSBuZWVkIHRvIHRyYWNrIGlmIHRoZSBibHVyIGlzXG4gIC8vIGNhdXNlZCBieSBjbGlja2luZyBpbnNpZGUgdGhlIGxpc3QsIGFuZCBpZiBzbywgZG9uJ3QgY2xvc2UgdGhlIExpc3QuXG5cbiAgdmFyIHNlbGVjdE9uQ2xpY2tSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICB2YXIgaGFuZGxlS2V5RG93biA9IHVzZUtleURvd24oKTtcbiAgdmFyIGhhbmRsZUJsdXIgPSB1c2VCbHVyKCk7XG4gIHZhciBpc0NvbnRyb2xsZWQgPSB0eXBlb2YgY29udHJvbGxlZFZhbHVlICE9PSBcInVuZGVmaW5lZFwiO1xuICB2YXIgd2FzSW5pdGlhbGx5Q29udHJvbGxlZCA9IHR5cGVvZiBpbml0aWFsQ29udHJvbGxlZFZhbHVlICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEoIWlzQ29udHJvbGxlZCAmJiB3YXNJbml0aWFsbHlDb250cm9sbGVkKSwgXCJDb21ib2JveElucHV0IGlzIGNoYW5naW5nIGZyb20gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQuIENvbWJvYm94SW5wdXQgc2hvdWxkIG5vdCBzd2l0Y2ggZnJvbSBjb250cm9sbGVkIHRvIHVuY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgQ29tYm9ib3hJbnB1dCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIENoZWNrIHRoZSBgdmFsdWVgIHByb3AgYmVpbmcgcGFzc2VkIGluLlwiKSA6IHZvaWQgMDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEoaXNDb250cm9sbGVkICYmICF3YXNJbml0aWFsbHlDb250cm9sbGVkKSwgXCJDb21ib2JveElucHV0IGlzIGNoYW5naW5nIGZyb20gdW5jb250cm9sbGVkIHRvIGNvbnRyb2xsZWQuIENvbWJvYm94SW5wdXQgc2hvdWxkIG5vdCBzd2l0Y2ggZnJvbSBjb250cm9sbGVkIHRvIHVuY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgQ29tYm9ib3hJbnB1dCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIENoZWNrIHRoZSBgdmFsdWVgIHByb3AgYmVpbmcgcGFzc2VkIGluLlwiKSA6IHZvaWQgMDtcbiAgfVxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaXNDb250cm9sbGVkUmVmLmN1cnJlbnQgPSBpc0NvbnRyb2xsZWQ7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2lzQ29udHJvbGxlZF0pOyAvLyBMYXlvdXQgZWZmZWN0IHNob3VsZCBiZSBTU1Itc2FmZSBoZXJlIGJlY2F1c2Ugd2UgZG9uJ3QgYWN0dWFsbHkgZG9cbiAgLy8gYW55dGhpbmcgd2l0aCB0aGlzIHJlZiB0aGF0IGludm9sdmVzIHJlbmRlcmluZyB1bnRpbCBhZnRlciB3ZSd2ZVxuICAvLyBsZXQgdGhlIGNsaWVudCBoeWRyYXRlIGluIG5lc3RlZCBjb21wb25lbnRzLlxuXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGF1dG9jb21wbGV0ZVByb3BSZWYuY3VycmVudCA9IGF1dG9jb21wbGV0ZTtcbiAgfSwgW2F1dG9jb21wbGV0ZSwgYXV0b2NvbXBsZXRlUHJvcFJlZl0pO1xuICB2YXIgaGFuZGxlVmFsdWVDaGFuZ2UgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUudHJpbSgpID09PSBcIlwiKSB7XG4gICAgICB0cmFuc2l0aW9uKENMRUFSLCB7XG4gICAgICAgIGlzQ29udHJvbGxlZDogaXNDb250cm9sbGVkXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBpbml0aWFsQ29udHJvbGxlZFZhbHVlICYmICFjb250cm9sbGVkVmFsdWVDaGFuZ2VkUmVmLmN1cnJlbnQpIHtcbiAgICAgIHRyYW5zaXRpb24oSU5JVElBTF9DSEFOR0UsIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNpdGlvbihDSEFOR0UsIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtpbml0aWFsQ29udHJvbGxlZFZhbHVlLCB0cmFuc2l0aW9uLCBpc0NvbnRyb2xsZWRdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBJZiB0aGV5IGFyZSBjb250cm9sbGluZyB0aGUgdmFsdWUgd2Ugc3RpbGwgbmVlZCB0byBkbyBvdXIgdHJhbnNpdGlvbnMsXG4gICAgLy8gc28gIHdlIGhhdmUgdGhpcyBkZXJpdmVkIHN0YXRlIHRvIGVtdWxhdGUgb25DaGFuZ2Ugb2YgdGhlIGlucHV0IGFzIHdlXG4gICAgLy8gcmVjZWl2ZSBuZXcgYHZhbHVlYHMgLi4uWypdXG4gICAgaWYgKGlzQ29udHJvbGxlZCAmJiBjb250cm9sbGVkVmFsdWUgIT09IHZhbHVlICYmICggLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWNoL3JlYWNoLXVpL2lzc3Vlcy80ODFcbiAgICBjb250cm9sbGVkVmFsdWUudHJpbSgpID09PSBcIlwiID8gKHZhbHVlIHx8IFwiXCIpLnRyaW0oKSAhPT0gXCJcIiA6IHRydWUpKSB7XG4gICAgICBoYW5kbGVWYWx1ZUNoYW5nZShjb250cm9sbGVkVmFsdWUpO1xuICAgIH1cbiAgfSwgW2NvbnRyb2xsZWRWYWx1ZSwgaGFuZGxlVmFsdWVDaGFuZ2UsIGlzQ29udHJvbGxlZCwgdmFsdWVdKTsgLy8gWypdLi4uIGFuZCB3aGVuIGNvbnRyb2xsZWQsIHdlIGRvbid0IHRyaWdnZXIgaGFuZGxlVmFsdWVDaGFuZ2UgYXMgdGhlXG4gIC8vIHVzZXIgdHlwZXMsIGluc3RlYWQgdGhlIGRldmVsb3BlciBjb250cm9scyBpdCB3aXRoIHRoZSBub3JtYWwgaW5wdXRcbiAgLy8gb25DaGFuZ2UgcHJvcFxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShldmVudCkge1xuICAgIHZhciB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblxuICAgIGlmICghaXNDb250cm9sbGVkKSB7XG4gICAgICBoYW5kbGVWYWx1ZUNoYW5nZSh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7XG4gICAgaWYgKHNlbGVjdE9uQ2xpY2spIHtcbiAgICAgIHNlbGVjdE9uQ2xpY2tSZWYuY3VycmVudCA9IHRydWU7XG4gICAgfSAvLyBJZiB3ZSBzZWxlY3QgYW4gb3B0aW9uIHdpdGggY2xpY2ssIHVzZUZvY3VzTWFuYWdlbWVudCB3aWxsIGZvY3VzIHRoZVxuICAgIC8vIGlucHV0LCBpbiB0aG9zZSBjYXNlcyB3ZSBkb24ndCB3YW50IHRvIGNhdXNlIHRoZSBtZW51IHRvIG9wZW4gYmFjayB1cCxcbiAgICAvLyBzbyB3ZSBndWFyZCBiZWhpbmQgdGhlc2Ugc3RhdGVzLlxuXG5cbiAgICBpZiAob3Blbk9uRm9jdXMgJiYgbGFzdEV2ZW50VHlwZSAhPT0gU0VMRUNUX1dJVEhfQ0xJQ0spIHtcbiAgICAgIHRyYW5zaXRpb24oRk9DVVMsIHtcbiAgICAgICAgcGVyc2lzdFNlbGVjdGlvbjogcGVyc2lzdFNlbGVjdGlvblJlZi5jdXJyZW50XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICBpZiAoc2VsZWN0T25DbGlja1JlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgX2lucHV0UmVmJGN1cnJlbnQ7XG5cbiAgICAgIHNlbGVjdE9uQ2xpY2tSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgKF9pbnB1dFJlZiRjdXJyZW50ID0gaW5wdXRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pbnB1dFJlZiRjdXJyZW50LnNlbGVjdCgpO1xuICAgIH1cblxuICAgIGlmIChvcGVuT25Gb2N1cyAmJiBzdGF0ZSA9PT0gSURMRSkge1xuICAgICAgdHJhbnNpdGlvbihPUEVOX1dJVEhfSU5QVVRfQ0xJQ0spO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbnB1dFZhbHVlID0gYXV0b2NvbXBsZXRlICYmIChzdGF0ZSA9PT0gTkFWSUdBVElORyB8fCBzdGF0ZSA9PT0gSU5URVJBQ1RJTkcpID8gLy8gV2hlbiBpZGxlLCB3ZSBkb24ndCBoYXZlIGEgbmF2aWdhdGlvblZhbHVlIG9uIEFycm93VXAvRG93blxuICBuYXZpZ2F0aW9uVmFsdWUgfHwgY29udHJvbGxlZFZhbHVlIHx8IHZhbHVlIDogY29udHJvbGxlZFZhbHVlIHx8IHZhbHVlO1xuICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQ29tcCwgX2V4dGVuZHMoe1xuICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IG5hdmlnYXRpb25WYWx1ZSA/IFN0cmluZyhtYWtlSGFzaChuYXZpZ2F0aW9uVmFsdWUpKSA6IHVuZGVmaW5lZCxcbiAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IFwiYm90aFwiLFxuICAgIFwiYXJpYS1jb250cm9sc1wiOiBsaXN0Ym94SWQsXG4gICAgXCJhcmlhLWV4cGFuZGVkXCI6IGlzRXhwYW5kZWQsXG4gICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwibGlzdGJveFwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwsXG4gICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogYXJpYUxhYmVsID8gdW5kZWZpbmVkIDogYXJpYUxhYmVsbGVkYnksXG4gICAgcm9sZTogXCJjb21ib2JveFwiXG4gIH0sIHByb3BzLCB7XG4gICAgXCJkYXRhLXJlYWNoLWNvbWJvYm94LWlucHV0XCI6IFwiXCIsXG4gICAgXCJkYXRhLXN0YXRlXCI6IGdldERhdGFTdGF0ZShzdGF0ZSksXG4gICAgcmVmOiByZWYsXG4gICAgb25CbHVyOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkJsdXIsIGhhbmRsZUJsdXIpLFxuICAgIG9uQ2hhbmdlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkNoYW5nZSwgaGFuZGxlQ2hhbmdlKSxcbiAgICBvbkNsaWNrOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkNsaWNrLCBoYW5kbGVDbGljayksXG4gICAgb25Gb2N1czogY29tcG9zZUV2ZW50SGFuZGxlcnMob25Gb2N1cywgaGFuZGxlRm9jdXMpLFxuICAgIG9uS2V5RG93bjogY29tcG9zZUV2ZW50SGFuZGxlcnMob25LZXlEb3duLCBoYW5kbGVLZXlEb3duKSxcbiAgICB2YWx1ZTogaW5wdXRWYWx1ZSB8fCBcIlwiXG4gIH0pKTtcbn0pO1xuLyoqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9yZWFjaC50ZWNoL2NvbWJvYm94I2NvbWJvYm94aW5wdXQtcHJvcHNcbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIENvbWJvYm94SW5wdXQuZGlzcGxheU5hbWUgPSBcIkNvbWJvYm94SW5wdXRcIjtcbn0gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBDb21ib2JveFBvcG92ZXJcbiAqXG4gKiBDb250YWlucyB0aGUgcG9wdXAgdGhhdCByZW5kZXJzIHRoZSBsaXN0LiBCZWNhdXNlIHNvbWUgVUkgbmVlZHMgdG8gcmVuZGVyXG4gKiBtb3JlIHRoYW4gdGhlIGxpc3QgaW4gdGhlIHBvcHVwLCB5b3UgbmVlZCB0byByZW5kZXIgb25lIG9mIHRoZXNlIGFyb3VuZCB0aGVcbiAqIGxpc3QuIEZvciBleGFtcGxlLCBtYXliZSB5b3Ugd2FudCB0byByZW5kZXIgdGhlIG51bWJlciBvZiByZXN1bHRzIHN1Z2dlc3RlZC5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9yZWFjaC50ZWNoL2NvbWJvYm94I2NvbWJvYm94cG9wb3ZlclxuICovXG5cblxudmFyIENvbWJvYm94UG9wb3ZlciA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmMywgZm9yd2FyZGVkUmVmKSB7XG4gIHZhciBfcmVmMyRhcyA9IF9yZWYzLmFzLFxuICAgICAgQ29tcCA9IF9yZWYzJGFzID09PSB2b2lkIDAgPyBcImRpdlwiIDogX3JlZjMkYXMsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYzLmNoaWxkcmVuLFxuICAgICAgX3JlZjMkcG9ydGFsID0gX3JlZjMucG9ydGFsLFxuICAgICAgcG9ydGFsID0gX3JlZjMkcG9ydGFsID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjMkcG9ydGFsLFxuICAgICAgb25LZXlEb3duID0gX3JlZjMub25LZXlEb3duLFxuICAgICAgb25CbHVyID0gX3JlZjMub25CbHVyLFxuICAgICAgX3JlZjMkcG9zaXRpb24gPSBfcmVmMy5wb3NpdGlvbixcbiAgICAgIHBvc2l0aW9uID0gX3JlZjMkcG9zaXRpb24gPT09IHZvaWQgMCA/IHBvc2l0aW9uTWF0Y2hXaWR0aCA6IF9yZWYzJHBvc2l0aW9uLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMywgX2V4Y2x1ZGVkMyk7XG5cbiAgdmFyIF9SZWFjdCR1c2VDb250ZXh0MiA9IHVzZUNvbnRleHQoQ29tYm9ib3hDb250ZXh0KSxcbiAgICAgIHBvcG92ZXJSZWYgPSBfUmVhY3QkdXNlQ29udGV4dDIucG9wb3ZlclJlZixcbiAgICAgIGlucHV0UmVmID0gX1JlYWN0JHVzZUNvbnRleHQyLmlucHV0UmVmLFxuICAgICAgaXNFeHBhbmRlZCA9IF9SZWFjdCR1c2VDb250ZXh0Mi5pc0V4cGFuZGVkLFxuICAgICAgc3RhdGUgPSBfUmVhY3QkdXNlQ29udGV4dDIuc3RhdGU7XG5cbiAgdmFyIHJlZiA9IHVzZUNvbXBvc2VkUmVmcyhwb3BvdmVyUmVmLCBmb3J3YXJkZWRSZWYpO1xuICB2YXIgaGFuZGxlS2V5RG93biA9IHVzZUtleURvd24oKTtcbiAgdmFyIGhhbmRsZUJsdXIgPSB1c2VCbHVyKCk7XG4gIHZhciBzaGFyZWRQcm9wcyA9IHtcbiAgICBcImRhdGEtcmVhY2gtY29tYm9ib3gtcG9wb3ZlclwiOiBcIlwiLFxuICAgIFwiZGF0YS1zdGF0ZVwiOiBnZXREYXRhU3RhdGUoc3RhdGUpLFxuICAgIG9uS2V5RG93bjogY29tcG9zZUV2ZW50SGFuZGxlcnMob25LZXlEb3duLCBoYW5kbGVLZXlEb3duKSxcbiAgICBvbkJsdXI6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uQmx1ciwgaGFuZGxlQmx1ciksXG4gICAgLy8gSW5zdGVhZCBvZiBjb25kaXRpb25hbGx5IHJlbmRlcmluZyB0aGUgcG9wb3ZlciB3ZSB1c2UgdGhlIGBoaWRkZW5gIHByb3BcbiAgICAvLyBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gdW5tb3VudCBvbiBjbG9zZSAoZnJvbSBlc2NhcGUgb3Igb25TZWxlY3QpLlxuICAgIC8vIEhvd2V2ZXIsIHRoZSBkZXZlbG9wZXIgY2FuIGNvbmRpdGlvbmFsbHkgcmVuZGVyIHRoZSBDb21ib2JveFBvcG92ZXIgaWZcbiAgICAvLyB0aGV5IGRvIHdhbnQgdG8gY2F1c2UgbW91bnQvdW5tb3VudCBiYXNlZCBvbiB0aGUgYXBwJ3Mgb3duIGRhdGEgKGxpa2VcbiAgICAvLyByZXN1bHRzLmxlbmd0aCBvciB3aGF0ZXZlcikuXG4gICAgaGlkZGVuOiAhaXNFeHBhbmRlZCxcbiAgICB0YWJJbmRleDogLTEsXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH07XG4gIHJldHVybiBwb3J0YWwgPyAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChQb3BvdmVyLCBfZXh0ZW5kcyh7XG4gICAgYXM6IENvbXBcbiAgfSwgcHJvcHMsIHtcbiAgICByZWY6IHJlZixcbiAgICBcImRhdGEtZXhwYW5kZWRcIjogaXNFeHBhbmRlZCB8fCB1bmRlZmluZWQsXG4gICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgIHRhcmdldFJlZjogaW5wdXRSZWZcbiAgfSwgc2hhcmVkUHJvcHMpKSA6IC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbXAsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCBwcm9wcywgc2hhcmVkUHJvcHMpKTtcbn0pO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIENvbWJvYm94UG9wb3Zlci5kaXNwbGF5TmFtZSA9IFwiQ29tYm9ib3hQb3BvdmVyXCI7XG59XG4vKipcbiAqIEBzZWUgRG9jcyBodHRwczovL3JlYWNoLnRlY2gvY29tYm9ib3gjY29tYm9ib3hwb3BvdmVyLXByb3BzXG4gKi9cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIENvbWJvYm94TGlzdFxuICpcbiAqIENvbnRhaW5zIHRoZSBgQ29tYm9ib3hPcHRpb25gIGVsZW1lbnRzIGFuZCBzZXRzIHVwIHRoZSBwcm9wZXIgYXJpYSBhdHRyaWJ1dGVzXG4gKiBmb3IgdGhlIGxpc3QuXG4gKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vcmVhY2gudGVjaC9jb21ib2JveCNjb21ib2JveGxpc3RcbiAqL1xudmFyIENvbWJvYm94TGlzdCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmNCwgZm9yd2FyZGVkUmVmKSB7XG4gIHZhciBfcmVmNCRwZXJzaXN0U2VsZWN0aW8gPSBfcmVmNC5wZXJzaXN0U2VsZWN0aW9uLFxuICAgICAgcGVyc2lzdFNlbGVjdGlvbiA9IF9yZWY0JHBlcnNpc3RTZWxlY3RpbyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNCRwZXJzaXN0U2VsZWN0aW8sXG4gICAgICBfcmVmNCRhcyA9IF9yZWY0LmFzLFxuICAgICAgQ29tcCA9IF9yZWY0JGFzID09PSB2b2lkIDAgPyBcInVsXCIgOiBfcmVmNCRhcyxcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjQsIF9leGNsdWRlZDQpO1xuXG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dDMgPSB1c2VDb250ZXh0KENvbWJvYm94Q29udGV4dCksXG4gICAgICBwZXJzaXN0U2VsZWN0aW9uUmVmID0gX1JlYWN0JHVzZUNvbnRleHQzLnBlcnNpc3RTZWxlY3Rpb25SZWYsXG4gICAgICBsaXN0Ym94SWQgPSBfUmVhY3QkdXNlQ29udGV4dDMubGlzdGJveElkO1xuXG4gIGlmIChwZXJzaXN0U2VsZWN0aW9uKSB7XG4gICAgcGVyc2lzdFNlbGVjdGlvblJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChDb21wLCBfZXh0ZW5kcyh7XG4gICAgcm9sZTogXCJsaXN0Ym94XCJcbiAgfSwgcHJvcHMsIHtcbiAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICBcImRhdGEtcmVhY2gtY29tYm9ib3gtbGlzdFwiOiBcIlwiLFxuICAgIGlkOiBsaXN0Ym94SWRcbiAgfSkpO1xufSk7XG4vKipcbiAqIEBzZWUgRG9jcyBodHRwczovL3JlYWNoLnRlY2gvY29tYm9ib3gjY29tYm9ib3hsaXN0LXByb3BzXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBDb21ib2JveExpc3QuZGlzcGxheU5hbWUgPSBcIkNvbWJvYm94TGlzdFwiO1xufSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIENvbWJvYm94T3B0aW9uXG4gKlxuICogQW4gb3B0aW9uIHRoYXQgaXMgc3VnZ2VzdGVkIHRvIHRoZSB1c2VyIGFzIHRoZXkgaW50ZXJhY3Qgd2l0aCB0aGUgY29tYm9ib3guXG4gKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vcmVhY2gudGVjaC9jb21ib2JveCNjb21ib2JveG9wdGlvblxuICovXG5cblxudmFyIENvbWJvYm94T3B0aW9uID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWY1LCBmb3J3YXJkZWRSZWYpIHtcbiAgdmFyIF9yZWY1JGFzID0gX3JlZjUuYXMsXG4gICAgICBDb21wID0gX3JlZjUkYXMgPT09IHZvaWQgMCA/IFwibGlcIiA6IF9yZWY1JGFzLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmNS5jaGlsZHJlbixcbiAgICAgIGluZGV4UHJvcCA9IF9yZWY1LmluZGV4LFxuICAgICAgdmFsdWUgPSBfcmVmNS52YWx1ZSxcbiAgICAgIG9uQ2xpY2sgPSBfcmVmNS5vbkNsaWNrLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmNSwgX2V4Y2x1ZGVkNSk7XG5cbiAgdmFyIF9SZWFjdCR1c2VDb250ZXh0NCA9IHVzZUNvbnRleHQoQ29tYm9ib3hDb250ZXh0KSxcbiAgICAgIG9uU2VsZWN0ID0gX1JlYWN0JHVzZUNvbnRleHQ0Lm9uU2VsZWN0LFxuICAgICAgbmF2aWdhdGlvblZhbHVlID0gX1JlYWN0JHVzZUNvbnRleHQ0LmRhdGEubmF2aWdhdGlvblZhbHVlLFxuICAgICAgdHJhbnNpdGlvbiA9IF9SZWFjdCR1c2VDb250ZXh0NC50cmFuc2l0aW9uLFxuICAgICAgaXNDb250cm9sbGVkUmVmID0gX1JlYWN0JHVzZUNvbnRleHQ0LmlzQ29udHJvbGxlZFJlZjtcblxuICB2YXIgb3duUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIHZhciBfdXNlU3RhdGVmdWxSZWZWYWx1ZSA9IHVzZVN0YXRlZnVsUmVmVmFsdWUob3duUmVmLCBudWxsKSxcbiAgICAgIGVsZW1lbnQgPSBfdXNlU3RhdGVmdWxSZWZWYWx1ZVswXSxcbiAgICAgIGhhbmRsZVJlZlNldCA9IF91c2VTdGF0ZWZ1bFJlZlZhbHVlWzFdO1xuXG4gIHZhciBkZXNjZW5kYW50ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xuICB9LCBbdmFsdWUsIGVsZW1lbnRdKTtcbiAgdmFyIGluZGV4ID0gdXNlRGVzY2VuZGFudChkZXNjZW5kYW50LCBDb21ib2JveERlc2NlbmRhbnRDb250ZXh0LCBpbmRleFByb3ApO1xuICB2YXIgcmVmID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgaGFuZGxlUmVmU2V0KTtcbiAgdmFyIGlzQWN0aXZlID0gbmF2aWdhdGlvblZhbHVlID09PSB2YWx1ZTtcblxuICB2YXIgaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICBvblNlbGVjdCAmJiBvblNlbGVjdCh2YWx1ZSk7XG4gICAgdHJhbnNpdGlvbihTRUxFQ1RfV0lUSF9DTElDSywge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNDb250cm9sbGVkOiBpc0NvbnRyb2xsZWRSZWYuY3VycmVudFxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChPcHRpb25Db250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGluZGV4OiBpbmRleFxuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQ29tcCwgX2V4dGVuZHMoe1xuICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBpc0FjdGl2ZSxcbiAgICByb2xlOiBcIm9wdGlvblwiXG4gIH0sIHByb3BzLCB7XG4gICAgXCJkYXRhLXJlYWNoLWNvbWJvYm94LW9wdGlvblwiOiBcIlwiLFxuICAgIHJlZjogcmVmLFxuICAgIGlkOiBTdHJpbmcobWFrZUhhc2godmFsdWUpKSxcbiAgICBcImRhdGEtaGlnaGxpZ2h0ZWRcIjogaXNBY3RpdmUgPyBcIlwiIDogdW5kZWZpbmVkIC8vIFdpdGhvdXQgdGhpcyB0aGUgbWVudSB3aWxsIGNsb3NlIGZyb20gYG9uQmx1cmAsIGJ1dCB3aXRoIGl0IHRoZVxuICAgIC8vIGVsZW1lbnQgY2FuIGJlIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBhbmQgdGhlbiBvdXIgZm9jdXMgY2hlY2tzIGluXG4gICAgLy8gb25CbHVyIHdpbGwgd29yayBhcyBpbnRlbmRlZFxuICAgICxcbiAgICB0YWJJbmRleDogLTEsXG4gICAgb25DbGljazogY29tcG9zZUV2ZW50SGFuZGxlcnMob25DbGljaywgaGFuZGxlQ2xpY2spXG4gIH0pLCBjaGlsZHJlbiA/IGlzRnVuY3Rpb24oY2hpbGRyZW4pID8gY2hpbGRyZW4oe1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBpbmRleDogaW5kZXhcbiAgfSkgOiBjaGlsZHJlbiA6IC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbWJvYm94T3B0aW9uVGV4dCwgbnVsbCkpKTtcbn0pO1xuLyoqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9yZWFjaC50ZWNoL2NvbWJvYm94I2NvbWJvYm94b3B0aW9uLXByb3BzXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBDb21ib2JveE9wdGlvbi5kaXNwbGF5TmFtZSA9IFwiQ29tYm9ib3hPcHRpb25cIjtcbn0gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBDb21ib2JveE9wdGlvblRleHRcbiAqXG4gKiBSZW5kZXJzIHRoZSB2YWx1ZSBvZiBhIGBDb21ib2JveE9wdGlvbmAgYXMgdGV4dCBidXQgd2l0aCBzcGFucyB3cmFwcGluZyB0aGVcbiAqIG1hdGNoaW5nIGFuZCBub24tbWF0Y2hpbmcgc2VnbWVudHMgb2YgdGV4dC5cbiAqXG4gKiBXZSBkb24ndCBmb3J3YXJkUmVmIG9yIHNwcmVhZCBwcm9wcyBiZWNhdXNlIHdlIHJlbmRlciBtdWx0aXBsZSBzcGFucyBvciBudWxsLFxuICogc2hvdWxkIGJlIGZpbmUg8J+kmVxuICpcbiAqIEBleGFtcGxlXG4gKiAgIDxDb21ib2JveE9wdGlvbiB2YWx1ZT1cIlNlYXR0bGVcIj5cbiAqICAgICDwn4ynIDxDb21ib2JveE9wdGlvblRleHQgLz5cbiAqICAgPC9Db21ib2JveE9wdGlvbj5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9yZWFjaC50ZWNoL2NvbWJvYm94I2NvbWJvYm94b3B0aW9udGV4dFxuICovXG5cblxuZnVuY3Rpb24gQ29tYm9ib3hPcHRpb25UZXh0KCkge1xuICB2YXIgX1JlYWN0JHVzZUNvbnRleHQ1ID0gdXNlQ29udGV4dChPcHRpb25Db250ZXh0KSxcbiAgICAgIHZhbHVlID0gX1JlYWN0JHVzZUNvbnRleHQ1LnZhbHVlO1xuXG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dDYgPSB1c2VDb250ZXh0KENvbWJvYm94Q29udGV4dCksXG4gICAgICBjb250ZXh0VmFsdWUgPSBfUmVhY3QkdXNlQ29udGV4dDYuZGF0YS52YWx1ZTtcblxuICB2YXIgcmVzdWx0cyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBIaWdobGlnaHRXb3Jkcy5maW5kQWxsKHtcbiAgICAgIHNlYXJjaFdvcmRzOiBlc2NhcGVSZWdleHAoY29udGV4dFZhbHVlIHx8IFwiXCIpLnNwbGl0KC9cXHMrLyksXG4gICAgICB0ZXh0VG9IaWdobGlnaHQ6IHZhbHVlXG4gICAgfSk7XG4gIH0sIFtjb250ZXh0VmFsdWUsIHZhbHVlXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgcmVzdWx0cy5sZW5ndGggPyByZXN1bHRzLm1hcChmdW5jdGlvbiAocmVzdWx0LCBpbmRleCkge1xuICAgIHZhciBzdHIgPSB2YWx1ZS5zbGljZShyZXN1bHQuc3RhcnQsIHJlc3VsdC5lbmQpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAga2V5OiBpbmRleCxcbiAgICAgIFwiZGF0YS1yZWFjaC1jb21ib2JveC1vcHRpb24tdGV4dFwiOiBcIlwiLFxuICAgICAgXCJkYXRhLXVzZXItdmFsdWVcIjogcmVzdWx0LmhpZ2hsaWdodCA/IHRydWUgOiB1bmRlZmluZWQsXG4gICAgICBcImRhdGEtc3VnZ2VzdGVkLXZhbHVlXCI6IHJlc3VsdC5oaWdobGlnaHQgPyB1bmRlZmluZWQgOiB0cnVlXG4gICAgfSwgc3RyKTtcbiAgfSkgOiB2YWx1ZSk7XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgQ29tYm9ib3hPcHRpb25UZXh0LmRpc3BsYXlOYW1lID0gXCJDb21ib2JveE9wdGlvblRleHRcIjtcbn0gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBDb21ib2JveEJ1dHRvblxuICovXG5cblxudmFyIENvbWJvYm94QnV0dG9uID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWY2LCBmb3J3YXJkZWRSZWYpIHtcbiAgdmFyIF9yZWY2JGFzID0gX3JlZjYuYXMsXG4gICAgICBDb21wID0gX3JlZjYkYXMgPT09IHZvaWQgMCA/IFwiYnV0dG9uXCIgOiBfcmVmNiRhcyxcbiAgICAgIG9uQ2xpY2sgPSBfcmVmNi5vbkNsaWNrLFxuICAgICAgb25LZXlEb3duID0gX3JlZjYub25LZXlEb3duLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmNiwgX2V4Y2x1ZGVkNik7XG5cbiAgdmFyIF9SZWFjdCR1c2VDb250ZXh0NyA9IHVzZUNvbnRleHQoQ29tYm9ib3hDb250ZXh0KSxcbiAgICAgIHRyYW5zaXRpb24gPSBfUmVhY3QkdXNlQ29udGV4dDcudHJhbnNpdGlvbixcbiAgICAgIHN0YXRlID0gX1JlYWN0JHVzZUNvbnRleHQ3LnN0YXRlLFxuICAgICAgYnV0dG9uUmVmID0gX1JlYWN0JHVzZUNvbnRleHQ3LmJ1dHRvblJlZixcbiAgICAgIGxpc3Rib3hJZCA9IF9SZWFjdCR1c2VDb250ZXh0Ny5saXN0Ym94SWQsXG4gICAgICBpc0V4cGFuZGVkID0gX1JlYWN0JHVzZUNvbnRleHQ3LmlzRXhwYW5kZWQ7XG5cbiAgdmFyIHJlZiA9IHVzZUNvbXBvc2VkUmVmcyhidXR0b25SZWYsIGZvcndhcmRlZFJlZik7XG4gIHZhciBoYW5kbGVLZXlEb3duID0gdXNlS2V5RG93bigpO1xuXG4gIHZhciBoYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKCkge1xuICAgIGlmIChzdGF0ZSA9PT0gSURMRSkge1xuICAgICAgdHJhbnNpdGlvbihPUEVOX1dJVEhfQlVUVE9OKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNpdGlvbihDTE9TRV9XSVRIX0JVVFRPTik7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChDb21wLCBfZXh0ZW5kcyh7XG4gICAgXCJhcmlhLWNvbnRyb2xzXCI6IGxpc3Rib3hJZCxcbiAgICBcImFyaWEtaGFzcG9wdXBcIjogXCJsaXN0Ym94XCIsXG4gICAgXCJhcmlhLWV4cGFuZGVkXCI6IGlzRXhwYW5kZWRcbiAgfSwgcHJvcHMsIHtcbiAgICBcImRhdGEtcmVhY2gtY29tYm9ib3gtYnV0dG9uXCI6IFwiXCIsXG4gICAgcmVmOiByZWYsXG4gICAgb25DbGljazogY29tcG9zZUV2ZW50SGFuZGxlcnMob25DbGljaywgaGFuZGxlQ2xpY2spLFxuICAgIG9uS2V5RG93bjogY29tcG9zZUV2ZW50SGFuZGxlcnMob25LZXlEb3duLCBoYW5kbGVLZXlEb3duKVxuICB9KSk7XG59KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBDb21ib2JveEJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiQ29tYm9ib3hCdXR0b25cIjtcbn0gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBNb3ZlIGZvY3VzIGJhY2sgdG8gdGhlIGlucHV0IGlmIHdlIHN0YXJ0IG5hdmlnYXRpbmcgdy8gdGhlXG4gKiBrZXlib2FyZCBhZnRlciBmb2N1cyBoYXMgbW92ZWQgdG8gYW55IGZvY3VzYWJsZSBjb250ZW50IGluXG4gKiB0aGUgcG9wdXAuXG4gKlxuICogQHBhcmFtIGxhc3RFdmVudFR5cGVcbiAqIEBwYXJhbSBpbnB1dFJlZlxuICovXG5cblxuZnVuY3Rpb24gdXNlRm9jdXNNYW5hZ2VtZW50KGxhc3RFdmVudFR5cGUsIGlucHV0UmVmKSB7XG4gIC8vIHVzZUxheW91dEVmZmVjdCBzbyB0aGF0IHRoZSBjdXJzb3IgZ29lcyB0byB0aGUgZW5kIG9mIHRoZSBpbnB1dCBpbnN0ZWFkXG4gIC8vIG9mIGF3a3dhcmRseSBhdCB0aGUgYmVnaW5uaW5nLCB1bmNsZWFyIHRvIG1lIHdoeSDwn6S34oCN4pmC77iPXG4gIC8vXG4gIC8vIFNob3VsZCBiZSBzYWZlIHRvIHVzZSBoZXJlIHNpbmNlIHdlJ3JlIGp1c3QgZm9jdXNpbmcgYW4gaW5wdXQuXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChsYXN0RXZlbnRUeXBlID09PSBOQVZJR0FURSB8fCBsYXN0RXZlbnRUeXBlID09PSBFU0NBUEUgfHwgbGFzdEV2ZW50VHlwZSA9PT0gU0VMRUNUX1dJVEhfQ0xJQ0sgfHwgbGFzdEV2ZW50VHlwZSA9PT0gT1BFTl9XSVRIX0JVVFRPTikge1xuICAgICAgdmFyIF9pbnB1dFJlZiRjdXJyZW50MjtcblxuICAgICAgKF9pbnB1dFJlZiRjdXJyZW50MiA9IGlucHV0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfaW5wdXRSZWYkY3VycmVudDIuZm9jdXMoKTtcbiAgICB9XG4gIH0sIFtpbnB1dFJlZiwgbGFzdEV2ZW50VHlwZV0pO1xufVxuLyoqXG4gKiBXZSB3YW50IHRoZSBzYW1lIGV2ZW50cyB3aGVuIHRoZSBpbnB1dCBvciB0aGUgcG9wdXAgaGF2ZSBmb2N1cyAoSE9XIENPT0wgQVJFXG4gKiBIT09LUyBCVFc/KSBUaGlzIGlzIHByb2JhYmx5IHRoZSBoYWlyaWVzdCBwaWVjZSBidXQgaXQncyBub3QgYmFkLlxuICovXG5cblxuZnVuY3Rpb24gdXNlS2V5RG93bigpIHtcbiAgdmFyIF9SZWFjdCR1c2VDb250ZXh0OCA9IHVzZUNvbnRleHQoQ29tYm9ib3hDb250ZXh0KSxcbiAgICAgIG5hdmlnYXRpb25WYWx1ZSA9IF9SZWFjdCR1c2VDb250ZXh0OC5kYXRhLm5hdmlnYXRpb25WYWx1ZSxcbiAgICAgIG9uU2VsZWN0ID0gX1JlYWN0JHVzZUNvbnRleHQ4Lm9uU2VsZWN0LFxuICAgICAgc3RhdGUgPSBfUmVhY3QkdXNlQ29udGV4dDguc3RhdGUsXG4gICAgICB0cmFuc2l0aW9uID0gX1JlYWN0JHVzZUNvbnRleHQ4LnRyYW5zaXRpb24sXG4gICAgICBhdXRvY29tcGxldGVQcm9wUmVmID0gX1JlYWN0JHVzZUNvbnRleHQ4LmF1dG9jb21wbGV0ZVByb3BSZWYsXG4gICAgICBwZXJzaXN0U2VsZWN0aW9uUmVmID0gX1JlYWN0JHVzZUNvbnRleHQ4LnBlcnNpc3RTZWxlY3Rpb25SZWYsXG4gICAgICBpc0NvbnRyb2xsZWRSZWYgPSBfUmVhY3QkdXNlQ29udGV4dDguaXNDb250cm9sbGVkUmVmO1xuXG4gIHZhciBvcHRpb25zID0gdXNlRGVzY2VuZGFudHMoQ29tYm9ib3hEZXNjZW5kYW50Q29udGV4dCk7XG4gIHJldHVybiBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgdmFyIGluZGV4ID0gb3B0aW9ucy5maW5kSW5kZXgoZnVuY3Rpb24gKF9yZWY3KSB7XG4gICAgICB2YXIgdmFsdWUgPSBfcmVmNy52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbmF2aWdhdGlvblZhbHVlO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZ2V0TmV4dE9wdGlvbigpIHtcbiAgICAgIHZhciBhdEJvdHRvbSA9IGluZGV4ID09PSBvcHRpb25zLmxlbmd0aCAtIDE7XG5cbiAgICAgIGlmIChhdEJvdHRvbSkge1xuICAgICAgICBpZiAoYXV0b2NvbXBsZXRlUHJvcFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gR28gYmFjayB0byB0aGUgdmFsdWUgdGhlIHVzZXIgaGFzIHR5cGVkIGJlY2F1c2Ugd2UgYXJlXG4gICAgICAgICAgLy8gYXV0b2NvbXBsZXRpbmcgYW5kIHRoZXkgbmVlZCB0byBiZSBhYmxlIHRvIGdldCBiYWNrIHRvIHdoYXRcbiAgICAgICAgICAvLyB0aGV5IGhhZCB0eXBlZCB3L28gaGF2aW5nIHRvIGJhY2tzcGFjZSBvdXQuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY3ljbGUgdGhyb3VnaFxuICAgICAgICAgIHJldHVybiBnZXRGaXJzdE9wdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBHbyB0byB0aGUgbmV4dCBpdGVtIGluIHRoZSBsaXN0XG4gICAgICAgIHJldHVybiBvcHRpb25zWyhpbmRleCArIDEpICUgb3B0aW9ucy5sZW5ndGhdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFByZXZpb3VzT3B0aW9uKCkge1xuICAgICAgdmFyIGF0VG9wID0gaW5kZXggPT09IDA7XG5cbiAgICAgIGlmIChhdFRvcCkge1xuICAgICAgICBpZiAoYXV0b2NvbXBsZXRlUHJvcFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gR28gYmFjayB0byB0aGUgdmFsdWUgdGhlIHVzZXIgaGFzIHR5cGVkIGJlY2F1c2Ugd2UgYXJlXG4gICAgICAgICAgLy8gYXV0b2NvbXBsZXRpbmcgYW5kIHRoZXkgbmVlZCB0byBiZSBhYmxlIHRvIGdldCBiYWNrIHRvIHdoYXRcbiAgICAgICAgICAvLyB0aGV5IGhhZCB0eXBlZCB3L28gaGF2aW5nIHRvIGJhY2tzcGFjZSBvdXQuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY3ljbGUgdGhyb3VnaFxuICAgICAgICAgIHJldHVybiBnZXRMYXN0T3B0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIC8vIGRpc3BsYXlpbmcgdGhlIHVzZXIncyB2YWx1ZSwgc28gZ28gc2VsZWN0IHRoZSBsYXN0IG9uZVxuICAgICAgICByZXR1cm4gZ2V0TGFzdE9wdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm9ybWFsIGNhc2UsIHNlbGVjdCBwcmV2aW91c1xuICAgICAgICByZXR1cm4gb3B0aW9uc1soaW5kZXggLSAxICsgb3B0aW9ucy5sZW5ndGgpICUgb3B0aW9ucy5sZW5ndGhdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEZpcnN0T3B0aW9uKCkge1xuICAgICAgcmV0dXJuIG9wdGlvbnNbMF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TGFzdE9wdGlvbigpIHtcbiAgICAgIHJldHVybiBvcHRpb25zW29wdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgfVxuXG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgLy8gRG9uJ3Qgc2Nyb2xsIHRoZSBwYWdlXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gSURMRSkge1xuICAgICAgICAgIC8vIE9wZW5pbmcgYSBjbG9zZWQgbGlzdFxuICAgICAgICAgIHRyYW5zaXRpb24oTkFWSUdBVEUsIHtcbiAgICAgICAgICAgIHBlcnNpc3RTZWxlY3Rpb246IHBlcnNpc3RTZWxlY3Rpb25SZWYuY3VycmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBuZXh0ID0gZ2V0TmV4dE9wdGlvbigpO1xuICAgICAgICAgIHRyYW5zaXRpb24oTkFWSUdBVEUsIHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXh0ID8gbmV4dC52YWx1ZSA6IG51bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gQSBsb3Qgb2YgZHVwbGljYXRlIGNvZGUgd2l0aCBBcnJvd0Rvd24gdXAgbmV4dCwgSSdtIGFscmVhZHkgb3ZlciBpdC5cblxuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgLy8gRG9uJ3Qgc2Nyb2xsIHRoZSBwYWdlXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBJRExFKSB7XG4gICAgICAgICAgdHJhbnNpdGlvbihOQVZJR0FURSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXYgPSBnZXRQcmV2aW91c09wdGlvbigpO1xuICAgICAgICAgIHRyYW5zaXRpb24oTkFWSUdBVEUsIHtcbiAgICAgICAgICAgIHZhbHVlOiBwcmV2ID8gcHJldi52YWx1ZSA6IG51bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiSG9tZVwiOlxuICAgICAgY2FzZSBcIlBhZ2VVcFwiOlxuICAgICAgICAvLyBEb24ndCBzY3JvbGwgdGhlIHBhZ2VcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUgPT09IElETEUpIHtcbiAgICAgICAgICB0cmFuc2l0aW9uKE5BVklHQVRFKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmFuc2l0aW9uKE5BVklHQVRFLCB7XG4gICAgICAgICAgICB2YWx1ZTogZ2V0Rmlyc3RPcHRpb24oKS52YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJFbmRcIjpcbiAgICAgIGNhc2UgXCJQYWdlRG93blwiOlxuICAgICAgICAvLyBEb24ndCBzY3JvbGwgdGhlIHBhZ2VcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUgPT09IElETEUpIHtcbiAgICAgICAgICB0cmFuc2l0aW9uKE5BVklHQVRFKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmFuc2l0aW9uKE5BVklHQVRFLCB7XG4gICAgICAgICAgICB2YWx1ZTogZ2V0TGFzdE9wdGlvbigpLnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIkVzY2FwZVwiOlxuICAgICAgICBpZiAoc3RhdGUgIT09IElETEUpIHtcbiAgICAgICAgICB0cmFuc2l0aW9uKEVTQ0FQRSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIkVudGVyXCI6XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gTkFWSUdBVElORyAmJiBuYXZpZ2F0aW9uVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBkb24ndCB3YW50IHRvIHN1Ym1pdCBmb3Jtc1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgb25TZWxlY3QgJiYgb25TZWxlY3QobmF2aWdhdGlvblZhbHVlKTtcbiAgICAgICAgICB0cmFuc2l0aW9uKFNFTEVDVF9XSVRIX0tFWUJPQVJELCB7XG4gICAgICAgICAgICBpc0NvbnRyb2xsZWQ6IGlzQ29udHJvbGxlZFJlZi5jdXJyZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUJsdXIoKSB7XG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dDkgPSB1c2VDb250ZXh0KENvbWJvYm94Q29udGV4dCksXG4gICAgICBzdGF0ZSA9IF9SZWFjdCR1c2VDb250ZXh0OS5zdGF0ZSxcbiAgICAgIHRyYW5zaXRpb24gPSBfUmVhY3QkdXNlQ29udGV4dDkudHJhbnNpdGlvbixcbiAgICAgIHBvcG92ZXJSZWYgPSBfUmVhY3QkdXNlQ29udGV4dDkucG9wb3ZlclJlZixcbiAgICAgIGlucHV0UmVmID0gX1JlYWN0JHVzZUNvbnRleHQ5LmlucHV0UmVmLFxuICAgICAgYnV0dG9uUmVmID0gX1JlYWN0JHVzZUNvbnRleHQ5LmJ1dHRvblJlZjtcblxuICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlQmx1cihldmVudCkge1xuICAgIHZhciBwb3BvdmVyID0gcG9wb3ZlclJlZi5jdXJyZW50O1xuICAgIHZhciBpbnB1dCA9IGlucHV0UmVmLmN1cnJlbnQ7XG4gICAgdmFyIGJ1dHRvbiA9IGJ1dHRvblJlZi5jdXJyZW50O1xuICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZXZlbnQucmVsYXRlZFRhcmdldDsgLy8gd2Ugb24gd2FudCB0byBjbG9zZSBvbmx5IGlmIGZvY3VzIHByb3BzcyBvdXRzaWRlIHRoZSBjb21ib2JveFxuXG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQgIT09IGlucHV0ICYmIGFjdGl2ZUVsZW1lbnQgIT09IGJ1dHRvbiAmJiBwb3BvdmVyKSB7XG4gICAgICBpZiAocG9wb3Zlci5jb250YWlucyhhY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAvLyBmb2N1cyBsYW5kZWQgaW5zaWRlIHRoZSBjb21ib2JveCwga2VlcCBpdCBvcGVuXG4gICAgICAgIGlmIChzdGF0ZSAhPT0gSU5URVJBQ1RJTkcpIHtcbiAgICAgICAgICB0cmFuc2l0aW9uKElOVEVSQUNUKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZm9jdXMgbGFuZGVkIG91dHNpZGUgdGhlIGNvbWJvYm94LCBjbG9zZSBpdC5cbiAgICAgICAgdHJhbnNpdGlvbihCTFVSKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG4vKipcbiAqIFRoaXMgbWFuYWdlcyB0cmFuc2l0aW9ucyBiZXR3ZWVuIHN0YXRlcyB3aXRoIGEgYnVpbHQgaW4gcmVkdWNlciB0byBtYW5hZ2VcbiAqIHRoZSBkYXRhIHRoYXQgZ29lcyB3aXRoIHRob3NlIHRyYW5zaXRpb25zLlxuICpcbiAqIEBwYXJhbSBjaGFydFxuICogQHBhcmFtIHJlZHVjZXJcbiAqIEBwYXJhbSBpbml0aWFsRGF0YVxuICovXG5cblxuZnVuY3Rpb24gdXNlUmVkdWNlck1hY2hpbmUoY2hhcnQsIHJlZHVjZXIsIGluaXRpYWxEYXRhKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSB1c2VTdGF0ZShjaGFydC5pbml0aWFsKSxcbiAgICAgIHN0YXRlID0gX1JlYWN0JHVzZVN0YXRlWzBdLFxuICAgICAgc2V0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VSZWR1Y2VyID0gdXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsRGF0YSksXG4gICAgICBkYXRhID0gX1JlYWN0JHVzZVJlZHVjZXJbMF0sXG4gICAgICBkaXNwYXRjaCA9IF9SZWFjdCR1c2VSZWR1Y2VyWzFdO1xuXG4gIHZhciB0cmFuc2l0aW9uID0gZnVuY3Rpb24gdHJhbnNpdGlvbihldmVudCwgcGF5bG9hZCkge1xuICAgIGlmIChwYXlsb2FkID09PSB2b2lkIDApIHtcbiAgICAgIHBheWxvYWQgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudFN0YXRlID0gY2hhcnQuc3RhdGVzW3N0YXRlXTtcbiAgICB2YXIgbmV4dFN0YXRlID0gY3VycmVudFN0YXRlICYmIGN1cnJlbnRTdGF0ZS5vbltldmVudF07XG5cbiAgICBpZiAobmV4dFN0YXRlKSB7XG4gICAgICBkaXNwYXRjaChfZXh0ZW5kcyh7XG4gICAgICAgIHR5cGU6IGV2ZW50LFxuICAgICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICAgIG5leHRTdGF0ZTogc3RhdGVcbiAgICAgIH0sIHBheWxvYWQpKTtcbiAgICAgIHNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBbc3RhdGUsIGRhdGEsIHRyYW5zaXRpb25dO1xufVxuLyoqXG4gKiBXZSBkb24ndCB3YW50IHRvIHRyYWNrIHRoZSBhY3RpdmUgZGVzY2VuZGFudCB3aXRoIGluZGV4ZXMgYmVjYXVzZSBub3RoaW5nIGlzXG4gKiBtb3JlIGFubm95aW5nIGluIGEgY29tYm9ib3ggdGhhbiBoYXZpbmcgaXQgY2hhbmdlIHZhbHVlcyBSSUdIVCBBUyBZT1UgSElUXG4gKiBFTlRFUi4gVGhhdCBvbmx5IGhhcHBlbnMgaWYgeW91IHVzZSB0aGUgaW5kZXggYXMgeW91ciBkYXRhLCByYXRoZXIgdGhhblxuICogKnlvdXIgZGF0YSBhcyB5b3VyIGRhdGEqLiBXZSB1c2UgdGhpcyB0byBnZW5lcmF0ZSBhIHVuaXF1ZSBJRCBiYXNlZCBvbiB0aGVcbiAqIHZhbHVlIG9mIGVhY2ggaXRlbS4gIFRoaXMgZnVuY3Rpb24gaXMgc2hvcnQsIHN3ZWV0LCBhbmQgZ29vZCBlbm91Z2jihKIgKEkgYWxzb1xuICogZG9uJ3Qga25vdyBob3cgaXQgd29ya3MsIHRicWgpXG4gKlxuICogQHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82MTIyNTcxL3NpbXBsZS1ub24tc2VjdXJlLWhhc2gtZnVuY3Rpb24tZm9yLWphdmFzY3JpcHRcbiAqIEBwYXJhbSBzdHJcbiAqL1xuXG5cbmZ1bmN0aW9uIG1ha2VIYXNoKHN0cikge1xuICB2YXIgaGFzaCA9IDA7XG5cbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIF9jaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cbiAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgX2NoYXI7XG4gICAgaGFzaCA9IGhhc2ggJiBoYXNoO1xuICB9XG5cbiAgcmV0dXJuIGhhc2g7XG59IC8vIGZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQobm9kZTogRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQpIHtcbi8vICAgbGV0IGFjdGl2ZUVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbi8vICAgdHJ5IHtcbi8vICAgICAvLyBJZiBFbGVtZW50LmdldFJvb3ROb2RlIGlzIHN1cHBvcnRlZCwgd2UnbGwgcmV0cmlldmUgZWl0aGVyIHRoZSByb290XG4vLyAgICAgLy8gRG9jdW1lbnQgb3Igc2hhZG93IHJvb3QgZGVwZW5kaW5nIG9uIHdoZXJlIHRoZSBjb21wb25lbnQgaXMgcmVuZGVyZWQuXG4vLyAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWNoL3JlYWNoLXVpL2lzc3Vlcy83ODdcbi8vICAgICBhY3RpdmVFbGVtZW50ID0gKG5vZGU/LmdldFJvb3ROb2RlKCkgYXMgU2hhZG93Um9vdCB8IERvY3VtZW50KVxuLy8gICAgICAgLmFjdGl2ZUVsZW1lbnQ7XG4vLyAgIH0gZmluYWxseSB7XG4vLyAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQgfHwgKG5vZGU/Lm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQpLmFjdGl2ZUVsZW1lbnQ7XG4vLyAgIH1cbi8vIH1cblxuXG5mdW5jdGlvbiBnZXREYXRhU3RhdGUoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnRvTG93ZXJDYXNlKCk7XG59XG4vKipcbiAqIEVzY2FwZSByZWdleHAgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIGBzdHJgXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L2VzY2FwZS1yZWdleHAvYmxvYi81Y2U5MjNjMTUxMGM5ODAyYjNkYTk3MmM5MGI2ODYxZGQyODI5YjZiL2luZGV4LmpzXG4gKiBAcGFyYW0gc3RyXG4gKi9cblxuXG5mdW5jdGlvbiBlc2NhcGVSZWdleHAoc3RyKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKC8oWy4qKz89XiE6JHt9KCl8W1xcXS9cXFxcXSkvZywgXCJcXFxcJDFcIik7XG59IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBBIGhvb2sgdGhhdCBleHBvc2VzIGRhdGEgZm9yIGEgZ2l2ZW4gYENvbWJvYm94YCBjb21wb25lbnQgdG8gaXRzIGRlc2NlbmRhbnRzLlxuICpcbiAqIEBzZWUgRG9jcyBodHRwczovL3JlYWNoLnRlY2gvY29tYm9ib3gjdXNlY29tYm9ib3hjb250ZXh0XG4gKi9cblxuZnVuY3Rpb24gdXNlQ29tYm9ib3hDb250ZXh0KCkge1xuICB2YXIgX1JlYWN0JHVzZUNvbnRleHQxMCA9IHVzZUNvbnRleHQoQ29tYm9ib3hDb250ZXh0KSxcbiAgICAgIGlzRXhwYW5kZWQgPSBfUmVhY3QkdXNlQ29udGV4dDEwLmlzRXhwYW5kZWQsXG4gICAgICBjb21ib2JveElkID0gX1JlYWN0JHVzZUNvbnRleHQxMC5jb21ib2JveElkLFxuICAgICAgZGF0YSA9IF9SZWFjdCR1c2VDb250ZXh0MTAuZGF0YSxcbiAgICAgIHN0YXRlID0gX1JlYWN0JHVzZUNvbnRleHQxMC5zdGF0ZTtcblxuICB2YXIgbmF2aWdhdGlvblZhbHVlID0gZGF0YS5uYXZpZ2F0aW9uVmFsdWU7XG4gIHJldHVybiB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNvbWJvYm94SWQsXG4gICAgICBpc0V4cGFuZGVkOiBpc0V4cGFuZGVkLFxuICAgICAgbmF2aWdhdGlvblZhbHVlOiBuYXZpZ2F0aW9uVmFsdWUgIT0gbnVsbCA/IG5hdmlnYXRpb25WYWx1ZSA6IG51bGwsXG4gICAgICBzdGF0ZTogc3RhdGVcbiAgICB9O1xuICB9LCBbY29tYm9ib3hJZCwgaXNFeHBhbmRlZCwgbmF2aWdhdGlvblZhbHVlLCBzdGF0ZV0pO1xufVxuLyoqXG4gKiBBIGhvb2sgdGhhdCBleHBvc2VzIGRhdGEgZm9yIGEgZ2l2ZW4gYENvbWJvYm94T3B0aW9uYCBjb21wb25lbnQgdG8gaXRzIGRlc2NlbmRhbnRzLlxuICpcbiAqIEBzZWUgRG9jcyBodHRwczovL3JlYWNoLnRlY2gvY29tYm9ib3gjdXNlY29tYm9ib3hjb250ZXh0XG4gKi9cblxuZnVuY3Rpb24gdXNlQ29tYm9ib3hPcHRpb25Db250ZXh0KCkge1xuICB2YXIgX1JlYWN0JHVzZUNvbnRleHQxMSA9IHVzZUNvbnRleHQoT3B0aW9uQ29udGV4dCksXG4gICAgICB2YWx1ZSA9IF9SZWFjdCR1c2VDb250ZXh0MTEudmFsdWUsXG4gICAgICBpbmRleCA9IF9SZWFjdCR1c2VDb250ZXh0MTEuaW5kZXg7XG5cbiAgcmV0dXJuIHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpbmRleDogaW5kZXhcbiAgICB9O1xuICB9LCBbdmFsdWUsIGluZGV4XSk7XG59IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXZWxsIGFscmlnaHQsIHlvdSBtYWRlIGl0IGFsbCB0aGUgd2F5IGhlcmUgdG8gbGlrZSAxMTAwIGxpbmVzIG9mIGNvZGUgKGdlZXosXG4vLyB3aGF0IHRoZSBoZWNrPykuIEhhdmUgYSBncmVhdCBkYXkgOkRcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBUeXBlc1xuXG5leHBvcnQgeyBDb21ib2JveCwgQ29tYm9ib3hCdXR0b24sIENvbWJvYm94SW5wdXQsIENvbWJvYm94TGlzdCwgQ29tYm9ib3hPcHRpb24sIENvbWJvYm94T3B0aW9uVGV4dCwgQ29tYm9ib3hQb3BvdmVyLCBlc2NhcGVSZWdleHAsIHVzZUtleURvd24gYXMgdW5zdGFibGVfdXNlS2V5RG93biwgdXNlQ29tYm9ib3hDb250ZXh0LCB1c2VDb21ib2JveE9wdGlvbkNvbnRleHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@reach/combobox/dist/reach-combobox.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/descendants/dist/reach-descendants.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@reach/descendants/dist/reach-descendants.esm.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DescendantProvider\": function() { return /* binding */ DescendantProvider; },\n/* harmony export */   \"createDescendantContext\": function() { return /* binding */ createDescendantContext; },\n/* harmony export */   \"useDescendant\": function() { return /* binding */ useDescendant; },\n/* harmony export */   \"useDescendantKeyDown\": function() { return /* binding */ useDescendantKeyDown; },\n/* harmony export */   \"useDescendants\": function() { return /* binding */ useDescendants; },\n/* harmony export */   \"useDescendantsInit\": function() { return /* binding */ useDescendantsInit; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _reach_utils_use_force_update__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reach/utils/use-force-update */ \"./node_modules/@reach/utils/use-force-update/dist/reach-utils-use-force-update.esm.js\");\n/* harmony import */ var _reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reach/utils/use-isomorphic-layout-effect */ \"./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js\");\n/* harmony import */ var _reach_utils_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reach/utils/context */ \"./node_modules/@reach/utils/context/dist/reach-utils-context.esm.js\");\n/* harmony import */ var _reach_utils_noop__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reach/utils/noop */ \"./node_modules/@reach/utils/noop/dist/reach-utils-noop.esm.js\");\n\n\n\n\n\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar _excluded = [\"element\", \"index\"];\n\nfunction createDescendantContext(name, initialValue) {\n  if (initialValue === void 0) {\n    initialValue = {};\n  }\n\n  var descendants = [];\n  return (0,_reach_utils_context__WEBPACK_IMPORTED_MODULE_3__.createNamedContext)(name, _extends({\n    descendants: descendants,\n    registerDescendant: _reach_utils_noop__WEBPACK_IMPORTED_MODULE_4__.noop,\n    unregisterDescendant: _reach_utils_noop__WEBPACK_IMPORTED_MODULE_4__.noop\n  }, initialValue));\n}\n/**\n * This hook registers our descendant by passing it into an array. We can then\n * search that array by to find its index when registering it in the component.\n * We use this for focus management, keyboard navigation, and typeahead\n * functionality for some components.\n *\n * The hook accepts the element node and (optionally) a key. The key is useful\n * if multiple descendants have identical text values and we need to\n * differentiate siblings for some reason.\n *\n * Our main goals with this are:\n *   1) maximum composability,\n *   2) minimal API friction\n *   3) SSR compatibility*\n *   4) concurrent safe\n *   5) index always up-to-date with the tree despite changes\n *   6) works with memoization of any component in the tree (hopefully)\n *\n * As for SSR, the good news is that we don't actually need the index on the\n * server for most use-cases, as we are only using it to determine the order of\n * composed descendants for keyboard navigation. However, in the few cases where\n * this is not the case, we can require an explicit index from the app.\n */\n\n\nfunction useDescendant(descendant, context, indexProp) {\n  var forceUpdate = (0,_reach_utils_use_force_update__WEBPACK_IMPORTED_MODULE_1__.useForceUpdate)();\n\n  var _React$useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(context),\n      registerDescendant = _React$useContext.registerDescendant,\n      unregisterDescendant = _React$useContext.unregisterDescendant,\n      descendants = _React$useContext.descendants; // This will initially return -1 because we haven't registered the descendant\n  // on the first render. After we register, this will then return the correct\n  // index on the following render and we will re-register descendants so that\n  // everything is up-to-date before the user interacts with a collection.\n\n\n  var index = indexProp != null ? indexProp : descendants.findIndex(function (item) {\n    return item.element === descendant.element;\n  }); // Prevent any flashing\n\n  (0,_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(function () {\n    if (!descendant.element) forceUpdate();\n    registerDescendant(_extends({}, descendant, {\n      index: index\n    }));\n    return function () {\n      unregisterDescendant(descendant.element);\n    };\n  }, [descendant, forceUpdate, index, registerDescendant, unregisterDescendant].concat(Object.values(descendant)));\n  return index;\n}\n\nfunction useDescendantsInit() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n}\n\nfunction useDescendants(ctx) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ctx).descendants;\n}\n\nfunction DescendantProvider(_ref) {\n  var Ctx = _ref.context,\n      children = _ref.children,\n      items = _ref.items,\n      set = _ref.set;\n  var registerDescendant = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (_ref2) {\n    var element = _ref2.element,\n        explicitIndex = _ref2.index,\n        rest = _objectWithoutPropertiesLoose(_ref2, _excluded);\n\n    if (!element) {\n      return;\n    }\n\n    set(function (items) {\n      var newItems;\n\n      if (explicitIndex != null) {\n        return [].concat(items, [_extends({}, rest, {\n          element: element,\n          index: explicitIndex\n        })]).sort(function (a, b) {\n          return a.index - b.index;\n        });\n      } else if (items.length === 0) {\n        // If there are no items, register at index 0 and bail.\n        newItems = [_extends({}, rest, {\n          element: element,\n          index: 0\n        })];\n      } else if (items.find(function (item) {\n        return item.element === element;\n      })) {\n        // If the element is already registered, just use the same array\n        newItems = items;\n      } else {\n        // When registering a descendant, we need to make sure we insert in\n        // into the array in the same order that it appears in the DOM. So as\n        // new descendants are added or maybe some are removed, we always know\n        // that the array is up-to-date and correct.\n        //\n        // So here we look at our registered descendants and see if the new\n        // element we are adding appears earlier than an existing descendant's\n        // DOM node via `node.compareDocumentPosition`. If it does, we insert\n        // the new element at this index. Because `registerDescendant` will be\n        // called in an effect every time the descendants state value changes,\n        // we should be sure that this index is accurate when descendent\n        // elements come or go from our component.\n        var index = items.findIndex(function (item) {\n          if (!item.element || !element) {\n            return false;\n          } // Does this element's DOM node appear before another item in the\n          // array in our DOM tree? If so, return true to grab the index at\n          // this point in the array so we know where to insert the new\n          // element.\n\n\n          return Boolean(item.element.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_PRECEDING);\n        });\n\n        var newItem = _extends({}, rest, {\n          element: element,\n          index: index\n        }); // If an index is not found we will push the element to the end.\n\n\n        if (index === -1) {\n          newItems = [].concat(items, [newItem]);\n        } else {\n          newItems = [].concat(items.slice(0, index), [newItem], items.slice(index));\n        }\n      }\n\n      return newItems.map(function (item, index) {\n        return _extends({}, item, {\n          index: index\n        });\n      });\n    });\n  }, // set is a state setter initialized by the useDescendantsInit hook.\n  // We can safely ignore the lint warning here because it will not change\n  // between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  var unregisterDescendant = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (element) {\n    if (!element) {\n      return;\n    }\n\n    set(function (items) {\n      return items.filter(function (item) {\n        return element !== item.element;\n      });\n    });\n  }, // set is a state setter initialized by the useDescendantsInit hook.\n  // We can safely ignore the lint warning here because it will not change\n  // between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Ctx.Provider, {\n    value: (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n      return {\n        descendants: items,\n        registerDescendant: registerDescendant,\n        unregisterDescendant: unregisterDescendant\n      };\n    }, [items, registerDescendant, unregisterDescendant])\n  }, children);\n}\n/**\n * Testing this as an abstraction for compound components that use keyboard\n * navigation. Hoping this will help us prevent bugs and mismatched behavior\n * across various components, but it may also prove to be too messy of an\n * abstraction in the end.\n *\n * Currently used in:\n *   - Tabs\n *   - Accordion\n *\n * @param context\n * @param options\n */\n\n\nfunction useDescendantKeyDown(context, options) {\n  var _React$useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(context),\n      descendants = _React$useContext2.descendants;\n\n  var callback = options.callback,\n      currentIndex = options.currentIndex,\n      filter = options.filter,\n      _options$key = options.key,\n      key = _options$key === void 0 ? \"index\" : _options$key,\n      _options$orientation = options.orientation,\n      orientation = _options$orientation === void 0 ? \"vertical\" : _options$orientation,\n      _options$rotate = options.rotate,\n      rotate = _options$rotate === void 0 ? true : _options$rotate,\n      _options$rtl = options.rtl,\n      rtl = _options$rtl === void 0 ? false : _options$rtl;\n  return function handleKeyDown(event) {\n    if (![\"ArrowDown\", \"ArrowUp\", \"ArrowLeft\", \"ArrowRight\", \"PageUp\", \"PageDown\", \"Home\", \"End\"].includes(event.key)) {\n      return;\n    }\n\n    var index = currentIndex != null ? currentIndex : -1; // If we use a filter function, we need to re-index our descendants array\n    // so that filtered descendent elements aren't selected.\n\n    var selectableDescendants = filter ? descendants.filter(filter) : descendants; // We need some options for any of this to work!\n\n    if (!selectableDescendants.length) {\n      return;\n    }\n\n    var selectableIndex = selectableDescendants.findIndex(function (descendant) {\n      return descendant.index === currentIndex;\n    });\n\n    function getNextOption() {\n      var atBottom = index === getLastOption().index;\n      return atBottom ? rotate ? getFirstOption() : selectableDescendants[selectableIndex] : selectableDescendants[(selectableIndex + 1) % selectableDescendants.length];\n    }\n\n    function getPreviousOption() {\n      var atTop = index === getFirstOption().index;\n      return atTop ? rotate ? getLastOption() : selectableDescendants[selectableIndex] : selectableDescendants[(selectableIndex - 1 + selectableDescendants.length) % selectableDescendants.length];\n    }\n\n    function getFirstOption() {\n      return selectableDescendants[0];\n    }\n\n    function getLastOption() {\n      return selectableDescendants[selectableDescendants.length - 1];\n    }\n\n    switch (event.key) {\n      case \"ArrowDown\":\n        if (orientation === \"vertical\" || orientation === \"both\") {\n          event.preventDefault();\n          var next = getNextOption();\n          callback(key === \"option\" ? next : next[key]);\n        }\n\n        break;\n\n      case \"ArrowUp\":\n        if (orientation === \"vertical\" || orientation === \"both\") {\n          event.preventDefault();\n          var prev = getPreviousOption();\n          callback(key === \"option\" ? prev : prev[key]);\n        }\n\n        break;\n\n      case \"ArrowLeft\":\n        if (orientation === \"horizontal\" || orientation === \"both\") {\n          event.preventDefault();\n          var nextOrPrev = (rtl ? getNextOption : getPreviousOption)();\n          callback(key === \"option\" ? nextOrPrev : nextOrPrev[key]);\n        }\n\n        break;\n\n      case \"ArrowRight\":\n        if (orientation === \"horizontal\" || orientation === \"both\") {\n          event.preventDefault();\n          var prevOrNext = (rtl ? getPreviousOption : getNextOption)();\n          callback(key === \"option\" ? prevOrNext : prevOrNext[key]);\n        }\n\n        break;\n\n      case \"PageUp\":\n        event.preventDefault();\n        var prevOrFirst = (event.ctrlKey ? getPreviousOption : getFirstOption)();\n        callback(key === \"option\" ? prevOrFirst : prevOrFirst[key]);\n        break;\n\n      case \"Home\":\n        event.preventDefault();\n        var first = getFirstOption();\n        callback(key === \"option\" ? first : first[key]);\n        break;\n\n      case \"PageDown\":\n        event.preventDefault();\n        var nextOrLast = (event.ctrlKey ? getNextOption : getLastOption)();\n        callback(key === \"option\" ? nextOrLast : nextOrLast[key]);\n        break;\n\n      case \"End\":\n        event.preventDefault();\n        var last = getLastOption();\n        callback(key === \"option\" ? last : last[key]);\n        break;\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL2Rlc2NlbmRhbnRzL2Rpc3QvcmVhY2gtZGVzY2VuZGFudHMuZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFrRjtBQUNuQjtBQUN1QjtBQUM1QjtBQUNqQjs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLHdFQUFrQjtBQUMzQjtBQUNBLHdCQUF3QixtREFBSTtBQUM1QiwwQkFBMEIsbURBQUk7QUFDOUIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxvQkFBb0IsNkVBQWM7O0FBRWxDLDBCQUEwQixpREFBVTtBQUNwQztBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLEdBQUcsR0FBRzs7QUFFTixFQUFFLG9HQUF5QjtBQUMzQjtBQUNBLGtDQUFrQztBQUNsQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLFNBQVMsK0NBQVE7QUFDakI7O0FBRUE7QUFDQSxTQUFTLGlEQUFVO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxTQUFTOztBQUVULGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsU0FBUyxHQUFHOzs7QUFHWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrREFBVztBQUN4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0RBQWE7QUFDbkMsV0FBVyw4Q0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLDJCQUEyQixpREFBVTtBQUNyQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMERBQTBEO0FBQzFEOztBQUVBLG1GQUFtRjs7QUFFbkY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUU4SCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWNoL2Rlc2NlbmRhbnRzL2Rpc3QvcmVhY2gtZGVzY2VuZGFudHMuZXNtLmpzPzYyMDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCBjcmVhdGVFbGVtZW50LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRm9yY2VVcGRhdGUgfSBmcm9tICdAcmVhY2gvdXRpbHMvdXNlLWZvcmNlLXVwZGF0ZSc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnQHJlYWNoL3V0aWxzL3VzZS1pc29tb3JwaGljLWxheW91dC1lZmZlY3QnO1xuaW1wb3J0IHsgY3JlYXRlTmFtZWRDb250ZXh0IH0gZnJvbSAnQHJlYWNoL3V0aWxzL2NvbnRleHQnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ0ByZWFjaC91dGlscy9ub29wJztcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJlbGVtZW50XCIsIFwiaW5kZXhcIl07XG5cbmZ1bmN0aW9uIGNyZWF0ZURlc2NlbmRhbnRDb250ZXh0KG5hbWUsIGluaXRpYWxWYWx1ZSkge1xuICBpZiAoaW5pdGlhbFZhbHVlID09PSB2b2lkIDApIHtcbiAgICBpbml0aWFsVmFsdWUgPSB7fTtcbiAgfVxuXG4gIHZhciBkZXNjZW5kYW50cyA9IFtdO1xuICByZXR1cm4gY3JlYXRlTmFtZWRDb250ZXh0KG5hbWUsIF9leHRlbmRzKHtcbiAgICBkZXNjZW5kYW50czogZGVzY2VuZGFudHMsXG4gICAgcmVnaXN0ZXJEZXNjZW5kYW50OiBub29wLFxuICAgIHVucmVnaXN0ZXJEZXNjZW5kYW50OiBub29wXG4gIH0sIGluaXRpYWxWYWx1ZSkpO1xufVxuLyoqXG4gKiBUaGlzIGhvb2sgcmVnaXN0ZXJzIG91ciBkZXNjZW5kYW50IGJ5IHBhc3NpbmcgaXQgaW50byBhbiBhcnJheS4gV2UgY2FuIHRoZW5cbiAqIHNlYXJjaCB0aGF0IGFycmF5IGJ5IHRvIGZpbmQgaXRzIGluZGV4IHdoZW4gcmVnaXN0ZXJpbmcgaXQgaW4gdGhlIGNvbXBvbmVudC5cbiAqIFdlIHVzZSB0aGlzIGZvciBmb2N1cyBtYW5hZ2VtZW50LCBrZXlib2FyZCBuYXZpZ2F0aW9uLCBhbmQgdHlwZWFoZWFkXG4gKiBmdW5jdGlvbmFsaXR5IGZvciBzb21lIGNvbXBvbmVudHMuXG4gKlxuICogVGhlIGhvb2sgYWNjZXB0cyB0aGUgZWxlbWVudCBub2RlIGFuZCAob3B0aW9uYWxseSkgYSBrZXkuIFRoZSBrZXkgaXMgdXNlZnVsXG4gKiBpZiBtdWx0aXBsZSBkZXNjZW5kYW50cyBoYXZlIGlkZW50aWNhbCB0ZXh0IHZhbHVlcyBhbmQgd2UgbmVlZCB0b1xuICogZGlmZmVyZW50aWF0ZSBzaWJsaW5ncyBmb3Igc29tZSByZWFzb24uXG4gKlxuICogT3VyIG1haW4gZ29hbHMgd2l0aCB0aGlzIGFyZTpcbiAqICAgMSkgbWF4aW11bSBjb21wb3NhYmlsaXR5LFxuICogICAyKSBtaW5pbWFsIEFQSSBmcmljdGlvblxuICogICAzKSBTU1IgY29tcGF0aWJpbGl0eSpcbiAqICAgNCkgY29uY3VycmVudCBzYWZlXG4gKiAgIDUpIGluZGV4IGFsd2F5cyB1cC10by1kYXRlIHdpdGggdGhlIHRyZWUgZGVzcGl0ZSBjaGFuZ2VzXG4gKiAgIDYpIHdvcmtzIHdpdGggbWVtb2l6YXRpb24gb2YgYW55IGNvbXBvbmVudCBpbiB0aGUgdHJlZSAoaG9wZWZ1bGx5KVxuICpcbiAqIEFzIGZvciBTU1IsIHRoZSBnb29kIG5ld3MgaXMgdGhhdCB3ZSBkb24ndCBhY3R1YWxseSBuZWVkIHRoZSBpbmRleCBvbiB0aGVcbiAqIHNlcnZlciBmb3IgbW9zdCB1c2UtY2FzZXMsIGFzIHdlIGFyZSBvbmx5IHVzaW5nIGl0IHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2ZcbiAqIGNvbXBvc2VkIGRlc2NlbmRhbnRzIGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uLiBIb3dldmVyLCBpbiB0aGUgZmV3IGNhc2VzIHdoZXJlXG4gKiB0aGlzIGlzIG5vdCB0aGUgY2FzZSwgd2UgY2FuIHJlcXVpcmUgYW4gZXhwbGljaXQgaW5kZXggZnJvbSB0aGUgYXBwLlxuICovXG5cblxuZnVuY3Rpb24gdXNlRGVzY2VuZGFudChkZXNjZW5kYW50LCBjb250ZXh0LCBpbmRleFByb3ApIHtcbiAgdmFyIGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcblxuICB2YXIgX1JlYWN0JHVzZUNvbnRleHQgPSB1c2VDb250ZXh0KGNvbnRleHQpLFxuICAgICAgcmVnaXN0ZXJEZXNjZW5kYW50ID0gX1JlYWN0JHVzZUNvbnRleHQucmVnaXN0ZXJEZXNjZW5kYW50LFxuICAgICAgdW5yZWdpc3RlckRlc2NlbmRhbnQgPSBfUmVhY3QkdXNlQ29udGV4dC51bnJlZ2lzdGVyRGVzY2VuZGFudCxcbiAgICAgIGRlc2NlbmRhbnRzID0gX1JlYWN0JHVzZUNvbnRleHQuZGVzY2VuZGFudHM7IC8vIFRoaXMgd2lsbCBpbml0aWFsbHkgcmV0dXJuIC0xIGJlY2F1c2Ugd2UgaGF2ZW4ndCByZWdpc3RlcmVkIHRoZSBkZXNjZW5kYW50XG4gIC8vIG9uIHRoZSBmaXJzdCByZW5kZXIuIEFmdGVyIHdlIHJlZ2lzdGVyLCB0aGlzIHdpbGwgdGhlbiByZXR1cm4gdGhlIGNvcnJlY3RcbiAgLy8gaW5kZXggb24gdGhlIGZvbGxvd2luZyByZW5kZXIgYW5kIHdlIHdpbGwgcmUtcmVnaXN0ZXIgZGVzY2VuZGFudHMgc28gdGhhdFxuICAvLyBldmVyeXRoaW5nIGlzIHVwLXRvLWRhdGUgYmVmb3JlIHRoZSB1c2VyIGludGVyYWN0cyB3aXRoIGEgY29sbGVjdGlvbi5cblxuXG4gIHZhciBpbmRleCA9IGluZGV4UHJvcCAhPSBudWxsID8gaW5kZXhQcm9wIDogZGVzY2VuZGFudHMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0uZWxlbWVudCA9PT0gZGVzY2VuZGFudC5lbGVtZW50O1xuICB9KTsgLy8gUHJldmVudCBhbnkgZmxhc2hpbmdcblxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWRlc2NlbmRhbnQuZWxlbWVudCkgZm9yY2VVcGRhdGUoKTtcbiAgICByZWdpc3RlckRlc2NlbmRhbnQoX2V4dGVuZHMoe30sIGRlc2NlbmRhbnQsIHtcbiAgICAgIGluZGV4OiBpbmRleFxuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdW5yZWdpc3RlckRlc2NlbmRhbnQoZGVzY2VuZGFudC5lbGVtZW50KTtcbiAgICB9O1xuICB9LCBbZGVzY2VuZGFudCwgZm9yY2VVcGRhdGUsIGluZGV4LCByZWdpc3RlckRlc2NlbmRhbnQsIHVucmVnaXN0ZXJEZXNjZW5kYW50XS5jb25jYXQoT2JqZWN0LnZhbHVlcyhkZXNjZW5kYW50KSkpO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHVzZURlc2NlbmRhbnRzSW5pdCgpIHtcbiAgcmV0dXJuIHVzZVN0YXRlKFtdKTtcbn1cblxuZnVuY3Rpb24gdXNlRGVzY2VuZGFudHMoY3R4KSB7XG4gIHJldHVybiB1c2VDb250ZXh0KGN0eCkuZGVzY2VuZGFudHM7XG59XG5cbmZ1bmN0aW9uIERlc2NlbmRhbnRQcm92aWRlcihfcmVmKSB7XG4gIHZhciBDdHggPSBfcmVmLmNvbnRleHQsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBpdGVtcyA9IF9yZWYuaXRlbXMsXG4gICAgICBzZXQgPSBfcmVmLnNldDtcbiAgdmFyIHJlZ2lzdGVyRGVzY2VuZGFudCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciBlbGVtZW50ID0gX3JlZjIuZWxlbWVudCxcbiAgICAgICAgZXhwbGljaXRJbmRleCA9IF9yZWYyLmluZGV4LFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjIsIF9leGNsdWRlZCk7XG5cbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXQoZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICB2YXIgbmV3SXRlbXM7XG5cbiAgICAgIGlmIChleHBsaWNpdEluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChpdGVtcywgW19leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICBpbmRleDogZXhwbGljaXRJbmRleFxuICAgICAgICB9KV0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGl0ZW1zLCByZWdpc3RlciBhdCBpbmRleCAwIGFuZCBiYWlsLlxuICAgICAgICBuZXdJdGVtcyA9IFtfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgaW5kZXg6IDBcbiAgICAgICAgfSldO1xuICAgICAgfSBlbHNlIGlmIChpdGVtcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmVsZW1lbnQgPT09IGVsZW1lbnQ7XG4gICAgICB9KSkge1xuICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQsIGp1c3QgdXNlIHRoZSBzYW1lIGFycmF5XG4gICAgICAgIG5ld0l0ZW1zID0gaXRlbXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXaGVuIHJlZ2lzdGVyaW5nIGEgZGVzY2VuZGFudCwgd2UgbmVlZCB0byBtYWtlIHN1cmUgd2UgaW5zZXJ0IGluXG4gICAgICAgIC8vIGludG8gdGhlIGFycmF5IGluIHRoZSBzYW1lIG9yZGVyIHRoYXQgaXQgYXBwZWFycyBpbiB0aGUgRE9NLiBTbyBhc1xuICAgICAgICAvLyBuZXcgZGVzY2VuZGFudHMgYXJlIGFkZGVkIG9yIG1heWJlIHNvbWUgYXJlIHJlbW92ZWQsIHdlIGFsd2F5cyBrbm93XG4gICAgICAgIC8vIHRoYXQgdGhlIGFycmF5IGlzIHVwLXRvLWRhdGUgYW5kIGNvcnJlY3QuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNvIGhlcmUgd2UgbG9vayBhdCBvdXIgcmVnaXN0ZXJlZCBkZXNjZW5kYW50cyBhbmQgc2VlIGlmIHRoZSBuZXdcbiAgICAgICAgLy8gZWxlbWVudCB3ZSBhcmUgYWRkaW5nIGFwcGVhcnMgZWFybGllciB0aGFuIGFuIGV4aXN0aW5nIGRlc2NlbmRhbnQnc1xuICAgICAgICAvLyBET00gbm9kZSB2aWEgYG5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb25gLiBJZiBpdCBkb2VzLCB3ZSBpbnNlcnRcbiAgICAgICAgLy8gdGhlIG5ldyBlbGVtZW50IGF0IHRoaXMgaW5kZXguIEJlY2F1c2UgYHJlZ2lzdGVyRGVzY2VuZGFudGAgd2lsbCBiZVxuICAgICAgICAvLyBjYWxsZWQgaW4gYW4gZWZmZWN0IGV2ZXJ5IHRpbWUgdGhlIGRlc2NlbmRhbnRzIHN0YXRlIHZhbHVlIGNoYW5nZXMsXG4gICAgICAgIC8vIHdlIHNob3VsZCBiZSBzdXJlIHRoYXQgdGhpcyBpbmRleCBpcyBhY2N1cmF0ZSB3aGVuIGRlc2NlbmRlbnRcbiAgICAgICAgLy8gZWxlbWVudHMgY29tZSBvciBnbyBmcm9tIG91ciBjb21wb25lbnQuXG4gICAgICAgIHZhciBpbmRleCA9IGl0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIGlmICghaXRlbS5lbGVtZW50IHx8ICFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSAvLyBEb2VzIHRoaXMgZWxlbWVudCdzIERPTSBub2RlIGFwcGVhciBiZWZvcmUgYW5vdGhlciBpdGVtIGluIHRoZVxuICAgICAgICAgIC8vIGFycmF5IGluIG91ciBET00gdHJlZT8gSWYgc28sIHJldHVybiB0cnVlIHRvIGdyYWIgdGhlIGluZGV4IGF0XG4gICAgICAgICAgLy8gdGhpcyBwb2ludCBpbiB0aGUgYXJyYXkgc28gd2Uga25vdyB3aGVyZSB0byBpbnNlcnQgdGhlIG5ld1xuICAgICAgICAgIC8vIGVsZW1lbnQuXG5cblxuICAgICAgICAgIHJldHVybiBCb29sZWFuKGl0ZW0uZWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlbGVtZW50KSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fUFJFQ0VESU5HKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIG5ld0l0ZW0gPSBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH0pOyAvLyBJZiBhbiBpbmRleCBpcyBub3QgZm91bmQgd2Ugd2lsbCBwdXNoIHRoZSBlbGVtZW50IHRvIHRoZSBlbmQuXG5cblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgbmV3SXRlbXMgPSBbXS5jb25jYXQoaXRlbXMsIFtuZXdJdGVtXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3SXRlbXMgPSBbXS5jb25jYXQoaXRlbXMuc2xpY2UoMCwgaW5kZXgpLCBbbmV3SXRlbV0sIGl0ZW1zLnNsaWNlKGluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld0l0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBpdGVtLCB7XG4gICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIC8vIHNldCBpcyBhIHN0YXRlIHNldHRlciBpbml0aWFsaXplZCBieSB0aGUgdXNlRGVzY2VuZGFudHNJbml0IGhvb2suXG4gIC8vIFdlIGNhbiBzYWZlbHkgaWdub3JlIHRoZSBsaW50IHdhcm5pbmcgaGVyZSBiZWNhdXNlIGl0IHdpbGwgbm90IGNoYW5nZVxuICAvLyBiZXR3ZWVuIHJlbmRlcnMuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgW10pO1xuICB2YXIgdW5yZWdpc3RlckRlc2NlbmRhbnQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldChmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQgIT09IGl0ZW0uZWxlbWVudDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCAvLyBzZXQgaXMgYSBzdGF0ZSBzZXR0ZXIgaW5pdGlhbGl6ZWQgYnkgdGhlIHVzZURlc2NlbmRhbnRzSW5pdCBob29rLlxuICAvLyBXZSBjYW4gc2FmZWx5IGlnbm9yZSB0aGUgbGludCB3YXJuaW5nIGhlcmUgYmVjYXVzZSBpdCB3aWxsIG5vdCBjaGFuZ2VcbiAgLy8gYmV0d2VlbiByZW5kZXJzLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIFtdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KEN0eC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlc2NlbmRhbnRzOiBpdGVtcyxcbiAgICAgICAgcmVnaXN0ZXJEZXNjZW5kYW50OiByZWdpc3RlckRlc2NlbmRhbnQsXG4gICAgICAgIHVucmVnaXN0ZXJEZXNjZW5kYW50OiB1bnJlZ2lzdGVyRGVzY2VuZGFudFxuICAgICAgfTtcbiAgICB9LCBbaXRlbXMsIHJlZ2lzdGVyRGVzY2VuZGFudCwgdW5yZWdpc3RlckRlc2NlbmRhbnRdKVxuICB9LCBjaGlsZHJlbik7XG59XG4vKipcbiAqIFRlc3RpbmcgdGhpcyBhcyBhbiBhYnN0cmFjdGlvbiBmb3IgY29tcG91bmQgY29tcG9uZW50cyB0aGF0IHVzZSBrZXlib2FyZFxuICogbmF2aWdhdGlvbi4gSG9waW5nIHRoaXMgd2lsbCBoZWxwIHVzIHByZXZlbnQgYnVncyBhbmQgbWlzbWF0Y2hlZCBiZWhhdmlvclxuICogYWNyb3NzIHZhcmlvdXMgY29tcG9uZW50cywgYnV0IGl0IG1heSBhbHNvIHByb3ZlIHRvIGJlIHRvbyBtZXNzeSBvZiBhblxuICogYWJzdHJhY3Rpb24gaW4gdGhlIGVuZC5cbiAqXG4gKiBDdXJyZW50bHkgdXNlZCBpbjpcbiAqICAgLSBUYWJzXG4gKiAgIC0gQWNjb3JkaW9uXG4gKlxuICogQHBhcmFtIGNvbnRleHRcbiAqIEBwYXJhbSBvcHRpb25zXG4gKi9cblxuXG5mdW5jdGlvbiB1c2VEZXNjZW5kYW50S2V5RG93bihjb250ZXh0LCBvcHRpb25zKSB7XG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dDIgPSB1c2VDb250ZXh0KGNvbnRleHQpLFxuICAgICAgZGVzY2VuZGFudHMgPSBfUmVhY3QkdXNlQ29udGV4dDIuZGVzY2VuZGFudHM7XG5cbiAgdmFyIGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayxcbiAgICAgIGN1cnJlbnRJbmRleCA9IG9wdGlvbnMuY3VycmVudEluZGV4LFxuICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXIsXG4gICAgICBfb3B0aW9ucyRrZXkgPSBvcHRpb25zLmtleSxcbiAgICAgIGtleSA9IF9vcHRpb25zJGtleSA9PT0gdm9pZCAwID8gXCJpbmRleFwiIDogX29wdGlvbnMka2V5LFxuICAgICAgX29wdGlvbnMkb3JpZW50YXRpb24gPSBvcHRpb25zLm9yaWVudGF0aW9uLFxuICAgICAgb3JpZW50YXRpb24gPSBfb3B0aW9ucyRvcmllbnRhdGlvbiA9PT0gdm9pZCAwID8gXCJ2ZXJ0aWNhbFwiIDogX29wdGlvbnMkb3JpZW50YXRpb24sXG4gICAgICBfb3B0aW9ucyRyb3RhdGUgPSBvcHRpb25zLnJvdGF0ZSxcbiAgICAgIHJvdGF0ZSA9IF9vcHRpb25zJHJvdGF0ZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHJvdGF0ZSxcbiAgICAgIF9vcHRpb25zJHJ0bCA9IG9wdGlvbnMucnRsLFxuICAgICAgcnRsID0gX29wdGlvbnMkcnRsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHJ0bDtcbiAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICBpZiAoIVtcIkFycm93RG93blwiLCBcIkFycm93VXBcIiwgXCJBcnJvd0xlZnRcIiwgXCJBcnJvd1JpZ2h0XCIsIFwiUGFnZVVwXCIsIFwiUGFnZURvd25cIiwgXCJIb21lXCIsIFwiRW5kXCJdLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXggPSBjdXJyZW50SW5kZXggIT0gbnVsbCA/IGN1cnJlbnRJbmRleCA6IC0xOyAvLyBJZiB3ZSB1c2UgYSBmaWx0ZXIgZnVuY3Rpb24sIHdlIG5lZWQgdG8gcmUtaW5kZXggb3VyIGRlc2NlbmRhbnRzIGFycmF5XG4gICAgLy8gc28gdGhhdCBmaWx0ZXJlZCBkZXNjZW5kZW50IGVsZW1lbnRzIGFyZW4ndCBzZWxlY3RlZC5cblxuICAgIHZhciBzZWxlY3RhYmxlRGVzY2VuZGFudHMgPSBmaWx0ZXIgPyBkZXNjZW5kYW50cy5maWx0ZXIoZmlsdGVyKSA6IGRlc2NlbmRhbnRzOyAvLyBXZSBuZWVkIHNvbWUgb3B0aW9ucyBmb3IgYW55IG9mIHRoaXMgdG8gd29yayFcblxuICAgIGlmICghc2VsZWN0YWJsZURlc2NlbmRhbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzZWxlY3RhYmxlSW5kZXggPSBzZWxlY3RhYmxlRGVzY2VuZGFudHMuZmluZEluZGV4KGZ1bmN0aW9uIChkZXNjZW5kYW50KSB7XG4gICAgICByZXR1cm4gZGVzY2VuZGFudC5pbmRleCA9PT0gY3VycmVudEluZGV4O1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZ2V0TmV4dE9wdGlvbigpIHtcbiAgICAgIHZhciBhdEJvdHRvbSA9IGluZGV4ID09PSBnZXRMYXN0T3B0aW9uKCkuaW5kZXg7XG4gICAgICByZXR1cm4gYXRCb3R0b20gPyByb3RhdGUgPyBnZXRGaXJzdE9wdGlvbigpIDogc2VsZWN0YWJsZURlc2NlbmRhbnRzW3NlbGVjdGFibGVJbmRleF0gOiBzZWxlY3RhYmxlRGVzY2VuZGFudHNbKHNlbGVjdGFibGVJbmRleCArIDEpICUgc2VsZWN0YWJsZURlc2NlbmRhbnRzLmxlbmd0aF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UHJldmlvdXNPcHRpb24oKSB7XG4gICAgICB2YXIgYXRUb3AgPSBpbmRleCA9PT0gZ2V0Rmlyc3RPcHRpb24oKS5pbmRleDtcbiAgICAgIHJldHVybiBhdFRvcCA/IHJvdGF0ZSA/IGdldExhc3RPcHRpb24oKSA6IHNlbGVjdGFibGVEZXNjZW5kYW50c1tzZWxlY3RhYmxlSW5kZXhdIDogc2VsZWN0YWJsZURlc2NlbmRhbnRzWyhzZWxlY3RhYmxlSW5kZXggLSAxICsgc2VsZWN0YWJsZURlc2NlbmRhbnRzLmxlbmd0aCkgJSBzZWxlY3RhYmxlRGVzY2VuZGFudHMubGVuZ3RoXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRGaXJzdE9wdGlvbigpIHtcbiAgICAgIHJldHVybiBzZWxlY3RhYmxlRGVzY2VuZGFudHNbMF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TGFzdE9wdGlvbigpIHtcbiAgICAgIHJldHVybiBzZWxlY3RhYmxlRGVzY2VuZGFudHNbc2VsZWN0YWJsZURlc2NlbmRhbnRzLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiIHx8IG9yaWVudGF0aW9uID09PSBcImJvdGhcIikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIG5leHQgPSBnZXROZXh0T3B0aW9uKCk7XG4gICAgICAgICAgY2FsbGJhY2soa2V5ID09PSBcIm9wdGlvblwiID8gbmV4dCA6IG5leHRba2V5XSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgfHwgb3JpZW50YXRpb24gPT09IFwiYm90aFwiKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgcHJldiA9IGdldFByZXZpb3VzT3B0aW9uKCk7XG4gICAgICAgICAgY2FsbGJhY2soa2V5ID09PSBcIm9wdGlvblwiID8gcHJldiA6IHByZXZba2V5XSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiIHx8IG9yaWVudGF0aW9uID09PSBcImJvdGhcIikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIG5leHRPclByZXYgPSAocnRsID8gZ2V0TmV4dE9wdGlvbiA6IGdldFByZXZpb3VzT3B0aW9uKSgpO1xuICAgICAgICAgIGNhbGxiYWNrKGtleSA9PT0gXCJvcHRpb25cIiA/IG5leHRPclByZXYgOiBuZXh0T3JQcmV2W2tleV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgfHwgb3JpZW50YXRpb24gPT09IFwiYm90aFwiKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgcHJldk9yTmV4dCA9IChydGwgPyBnZXRQcmV2aW91c09wdGlvbiA6IGdldE5leHRPcHRpb24pKCk7XG4gICAgICAgICAgY2FsbGJhY2soa2V5ID09PSBcIm9wdGlvblwiID8gcHJldk9yTmV4dCA6IHByZXZPck5leHRba2V5XSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIlBhZ2VVcFwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgcHJldk9yRmlyc3QgPSAoZXZlbnQuY3RybEtleSA/IGdldFByZXZpb3VzT3B0aW9uIDogZ2V0Rmlyc3RPcHRpb24pKCk7XG4gICAgICAgIGNhbGxiYWNrKGtleSA9PT0gXCJvcHRpb25cIiA/IHByZXZPckZpcnN0IDogcHJldk9yRmlyc3Rba2V5XSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiSG9tZVwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZmlyc3QgPSBnZXRGaXJzdE9wdGlvbigpO1xuICAgICAgICBjYWxsYmFjayhrZXkgPT09IFwib3B0aW9uXCIgPyBmaXJzdCA6IGZpcnN0W2tleV0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIlBhZ2VEb3duXCI6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBuZXh0T3JMYXN0ID0gKGV2ZW50LmN0cmxLZXkgPyBnZXROZXh0T3B0aW9uIDogZ2V0TGFzdE9wdGlvbikoKTtcbiAgICAgICAgY2FsbGJhY2soa2V5ID09PSBcIm9wdGlvblwiID8gbmV4dE9yTGFzdCA6IG5leHRPckxhc3Rba2V5XSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiRW5kXCI6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBsYXN0ID0gZ2V0TGFzdE9wdGlvbigpO1xuICAgICAgICBjYWxsYmFjayhrZXkgPT09IFwib3B0aW9uXCIgPyBsYXN0IDogbGFzdFtrZXldKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xufSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgeyBEZXNjZW5kYW50UHJvdmlkZXIsIGNyZWF0ZURlc2NlbmRhbnRDb250ZXh0LCB1c2VEZXNjZW5kYW50LCB1c2VEZXNjZW5kYW50S2V5RG93biwgdXNlRGVzY2VuZGFudHMsIHVzZURlc2NlbmRhbnRzSW5pdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/descendants/dist/reach-descendants.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/observe-rect/dist/observe-rect.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@reach/observe-rect/dist/observe-rect.esm.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar props = [\"bottom\", \"height\", \"left\", \"right\", \"top\", \"width\"];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes = /*#__PURE__*/new Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (observeRect);\n//# sourceMappingURL=observe-rect.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL29ic2VydmUtcmVjdC9kaXN0L29ic2VydmUtcmVjdC5lc20uanMuanMiLCJtYXBwaW5ncyI6IjtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7O0FBRTFELG9FQUFvRTs7QUFFcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrREFBZSxXQUFXLEVBQUM7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjaC9vYnNlcnZlLXJlY3QvZGlzdC9vYnNlcnZlLXJlY3QuZXNtLmpzPzA5ZDgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHByb3BzID0gW1wiYm90dG9tXCIsIFwiaGVpZ2h0XCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwid2lkdGhcIl07XG5cbnZhciByZWN0Q2hhbmdlZCA9IGZ1bmN0aW9uIHJlY3RDaGFuZ2VkKGEsIGIpIHtcbiAgaWYgKGEgPT09IHZvaWQgMCkge1xuICAgIGEgPSB7fTtcbiAgfVxuXG4gIGlmIChiID09PSB2b2lkIDApIHtcbiAgICBiID0ge307XG4gIH1cblxuICByZXR1cm4gcHJvcHMuc29tZShmdW5jdGlvbiAocHJvcCkge1xuICAgIHJldHVybiBhW3Byb3BdICE9PSBiW3Byb3BdO1xuICB9KTtcbn07XG5cbnZhciBvYnNlcnZlZE5vZGVzID0gLyojX19QVVJFX18qL25ldyBNYXAoKTtcbnZhciByYWZJZDtcblxudmFyIHJ1biA9IGZ1bmN0aW9uIHJ1bigpIHtcbiAgdmFyIGNoYW5nZWRTdGF0ZXMgPSBbXTtcbiAgb2JzZXJ2ZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgbm9kZSkge1xuICAgIHZhciBuZXdSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGlmIChyZWN0Q2hhbmdlZChuZXdSZWN0LCBzdGF0ZS5yZWN0KSkge1xuICAgICAgc3RhdGUucmVjdCA9IG5ld1JlY3Q7XG4gICAgICBjaGFuZ2VkU3RhdGVzLnB1c2goc3RhdGUpO1xuICAgIH1cbiAgfSk7XG4gIGNoYW5nZWRTdGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICBzdGF0ZS5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHtcbiAgICAgIHJldHVybiBjYihzdGF0ZS5yZWN0KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJhZklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShydW4pO1xufTtcblxuZnVuY3Rpb24gb2JzZXJ2ZVJlY3Qobm9kZSwgY2IpIHtcbiAgcmV0dXJuIHtcbiAgICBvYnNlcnZlOiBmdW5jdGlvbiBvYnNlcnZlKCkge1xuICAgICAgdmFyIHdhc0VtcHR5ID0gb2JzZXJ2ZWROb2Rlcy5zaXplID09PSAwO1xuXG4gICAgICBpZiAob2JzZXJ2ZWROb2Rlcy5oYXMobm9kZSkpIHtcbiAgICAgICAgb2JzZXJ2ZWROb2Rlcy5nZXQobm9kZSkuY2FsbGJhY2tzLnB1c2goY2IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JzZXJ2ZWROb2Rlcy5zZXQobm9kZSwge1xuICAgICAgICAgIHJlY3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgICBoYXNSZWN0Q2hhbmdlZDogZmFsc2UsXG4gICAgICAgICAgY2FsbGJhY2tzOiBbY2JdXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAod2FzRW1wdHkpIHJ1bigpO1xuICAgIH0sXG4gICAgdW5vYnNlcnZlOiBmdW5jdGlvbiB1bm9ic2VydmUoKSB7XG4gICAgICB2YXIgc3RhdGUgPSBvYnNlcnZlZE5vZGVzLmdldChub2RlKTtcblxuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgY2FsbGJhY2tcbiAgICAgICAgdmFyIGluZGV4ID0gc3RhdGUuY2FsbGJhY2tzLmluZGV4T2YoY2IpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkgc3RhdGUuY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7IC8vIFJlbW92ZSB0aGUgbm9kZSByZWZlcmVuY2VcblxuICAgICAgICBpZiAoIXN0YXRlLmNhbGxiYWNrcy5sZW5ndGgpIG9ic2VydmVkTm9kZXNbXCJkZWxldGVcIl0obm9kZSk7IC8vIFN0b3AgdGhlIGxvb3BcblxuICAgICAgICBpZiAoIW9ic2VydmVkTm9kZXMuc2l6ZSkgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmSWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgb2JzZXJ2ZVJlY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlLXJlY3QuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/observe-rect/dist/observe-rect.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/popover/dist/reach-popover.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@reach/popover/dist/reach-popover.esm.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Popover\": function() { return /* binding */ Popover; },\n/* harmony export */   \"getCollisions\": function() { return /* binding */ getCollisions; },\n/* harmony export */   \"positionDefault\": function() { return /* binding */ positionDefault; },\n/* harmony export */   \"positionMatchWidth\": function() { return /* binding */ positionMatchWidth; },\n/* harmony export */   \"positionRight\": function() { return /* binding */ positionRight; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _reach_portal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reach/portal */ \"./node_modules/@reach/portal/dist/reach-portal.esm.js\");\n/* harmony import */ var _reach_rect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reach/rect */ \"./node_modules/@reach/rect/dist/reach-rect.esm.js\");\n/* harmony import */ var _reach_utils_owner_document__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reach/utils/owner-document */ \"./node_modules/@reach/utils/owner-document/dist/reach-utils-owner-document.esm.js\");\n/* harmony import */ var _reach_utils_compose_refs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reach/utils/compose-refs */ \"./node_modules/@reach/utils/compose-refs/dist/reach-utils-compose-refs.esm.js\");\n/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tabbable */ \"./node_modules/tabbable/index.js\");\n/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tabbable__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar _excluded = [\"as\", \"targetRef\", \"position\", \"unstable_observableRefs\"];\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Popover\n */\nvar Popover = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function Popover(props, ref) {\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_reach_portal__WEBPACK_IMPORTED_MODULE_4__.Portal, null, /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(PopoverImpl, _extends({\n    ref: ref\n  }, props)));\n});\n\nif (true) {\n  Popover.displayName = \"Popover\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * PopoverImpl\n *\n * Popover is conditionally rendered so we can't start measuring until it shows\n * up, so useRect needs to live down here not up in Popover\n */\n\n\nvar PopoverImpl = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function PopoverImpl(_ref, forwardedRef) {\n  var _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\n      targetRef = _ref.targetRef,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? positionDefault : _ref$position,\n      _ref$unstable_observa = _ref.unstable_observableRefs,\n      unstable_observableRefs = _ref$unstable_observa === void 0 ? [] : _ref$unstable_observa,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var popoverRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var popoverRect = (0,_reach_rect__WEBPACK_IMPORTED_MODULE_5__.useRect)(popoverRef, {\n    observe: !props.hidden\n  });\n  var targetRect = (0,_reach_rect__WEBPACK_IMPORTED_MODULE_5__.useRect)(targetRef, {\n    observe: !props.hidden\n  });\n  var ref = (0,_reach_utils_compose_refs__WEBPACK_IMPORTED_MODULE_2__.useComposedRefs)(popoverRef, forwardedRef);\n  useSimulateTabNavigationForReactTree(targetRef, popoverRef);\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Comp, _extends({\n    \"data-reach-popover\": \"\",\n    ref: ref\n  }, props, {\n    style: _extends({\n      position: \"absolute\"\n    }, getStyles.apply(void 0, [position, targetRect, popoverRect].concat(unstable_observableRefs)), props.style)\n  }));\n});\n\nif (true) {\n  PopoverImpl.displayName = \"PopoverImpl\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction getStyles(position, targetRect, popoverRect) {\n  for (var _len = arguments.length, unstable_observableRefs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    unstable_observableRefs[_key - 3] = arguments[_key];\n  }\n\n  return popoverRect ? position.apply(void 0, [targetRect, popoverRect].concat(unstable_observableRefs.map(function (ref) {\n    return ref.current;\n  }))) : {\n    visibility: \"hidden\"\n  };\n}\n\nfunction getTopPosition(targetRect, popoverRect, isDirectionUp) {\n  return {\n    top: isDirectionUp ? targetRect.top - popoverRect.height + window.pageYOffset + \"px\" : targetRect.top + targetRect.height + window.pageYOffset + \"px\"\n  };\n}\n\nvar positionDefault = function positionDefault(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions = getCollisions(targetRect, popoverRect),\n      directionRight = _getCollisions.directionRight,\n      directionUp = _getCollisions.directionUp;\n\n  return _extends({\n    left: directionRight ? targetRect.right - popoverRect.width + window.pageXOffset + \"px\" : targetRect.left + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionRight = function positionRight(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions2 = getCollisions(targetRect, popoverRect),\n      directionLeft = _getCollisions2.directionLeft,\n      directionUp = _getCollisions2.directionUp;\n\n  return _extends({\n    left: directionLeft ? targetRect.left + window.pageXOffset + \"px\" : targetRect.right - popoverRect.width + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionMatchWidth = function positionMatchWidth(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions3 = getCollisions(targetRect, popoverRect),\n      directionUp = _getCollisions3.directionUp;\n\n  return _extends({\n    width: targetRect.width,\n    left: targetRect.left\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nfunction getCollisions(targetRect, popoverRect, offsetLeft, offsetBottom) {\n  if (offsetLeft === void 0) {\n    offsetLeft = 0;\n  }\n\n  if (offsetBottom === void 0) {\n    offsetBottom = 0;\n  }\n\n  var collisions = {\n    top: targetRect.top - popoverRect.height < 0,\n    right: window.innerWidth < targetRect.left + popoverRect.width - offsetLeft,\n    bottom: window.innerHeight < targetRect.bottom + popoverRect.height - offsetBottom,\n    left: targetRect.left + targetRect.width - popoverRect.width < 0\n  };\n  var directionRight = collisions.right && !collisions.left;\n  var directionLeft = collisions.left && !collisions.right;\n  var directionUp = collisions.bottom && !collisions.top;\n  var directionDown = collisions.top && !collisions.bottom;\n  return {\n    directionRight: directionRight,\n    directionLeft: directionLeft,\n    directionUp: directionUp,\n    directionDown: directionDown\n  };\n} // Heads up, my jQuery past haunts this function. This hook scopes the tab\n// order to the React element tree, instead of the DOM tree. This way, when the\n// user navigates with tab from the targetRef, the tab order moves into the\n// popup, and then out of the popup back to the rest of the document.\n// (We call targetRef, triggerRef inside this function to avoid confusion with\n// event.target)\n\n\nfunction useSimulateTabNavigationForReactTree(triggerRef, popoverRef) {\n  var ownerDocument = (0,_reach_utils_owner_document__WEBPACK_IMPORTED_MODULE_1__.getOwnerDocument)(triggerRef.current);\n\n  function handleKeyDown(event) {\n    if (event.key === \"Tab\" && popoverRef.current && tabbable__WEBPACK_IMPORTED_MODULE_3___default()(popoverRef.current).length === 0) {\n      return;\n    }\n\n    if (event.key === \"Tab\" && event.shiftKey) {\n      if (shiftTabbedFromElementAfterTrigger(event)) {\n        focusLastTabbableInPopover(event);\n      } else if (shiftTabbedOutOfPopover(event)) {\n        focusTriggerRef(event);\n      } else if (shiftTabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    } else if (event.key === \"Tab\") {\n      if (tabbedFromTriggerToPopover()) {\n        focusFirstPopoverTabbable(event);\n      } else if (tabbedOutOfPopover()) {\n        focusTabbableAfterTrigger(event);\n      } else if (tabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    }\n  }\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown);\n    return function () {\n      ownerDocument.removeEventListener(\"keydown\", handleKeyDown);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function getElementAfterTrigger() {\n    var elements = tabbable__WEBPACK_IMPORTED_MODULE_3___default()(ownerDocument);\n    var targetIndex = elements && triggerRef.current ? elements.indexOf(triggerRef.current) : -1;\n    var elementAfterTrigger = elements && elements[targetIndex + 1];\n    return popoverRef.current && popoverRef.current.contains(elementAfterTrigger || null) ? false : elementAfterTrigger;\n  }\n\n  function tabbedFromTriggerToPopover() {\n    return triggerRef.current ? triggerRef.current === ownerDocument.activeElement : false;\n  }\n\n  function focusFirstPopoverTabbable(event) {\n    var elements = popoverRef.current && tabbable__WEBPACK_IMPORTED_MODULE_3___default()(popoverRef.current);\n\n    if (elements && elements[0]) {\n      event.preventDefault();\n      elements[0].focus();\n    }\n  }\n\n  function tabbedOutOfPopover() {\n    var inPopover = popoverRef.current ? popoverRef.current.contains(ownerDocument.activeElement || null) : false;\n\n    if (inPopover) {\n      var elements = popoverRef.current && tabbable__WEBPACK_IMPORTED_MODULE_3___default()(popoverRef.current);\n      return Boolean(elements && elements[elements.length - 1] === ownerDocument.activeElement);\n    }\n\n    return false;\n  }\n\n  function focusTabbableAfterTrigger(event) {\n    var elementAfterTrigger = getElementAfterTrigger();\n\n    if (elementAfterTrigger) {\n      event.preventDefault();\n      elementAfterTrigger.focus();\n    }\n  }\n\n  function shiftTabbedFromElementAfterTrigger(event) {\n    if (!event.shiftKey) return;\n    var elementAfterTrigger = getElementAfterTrigger();\n    return event.target === elementAfterTrigger;\n  }\n\n  function focusLastTabbableInPopover(event) {\n    var elements = popoverRef.current && tabbable__WEBPACK_IMPORTED_MODULE_3___default()(popoverRef.current);\n    var last = elements && elements[elements.length - 1];\n\n    if (last) {\n      event.preventDefault();\n      last.focus();\n    }\n  }\n\n  function shiftTabbedOutOfPopover(event) {\n    var elements = popoverRef.current && tabbable__WEBPACK_IMPORTED_MODULE_3___default()(popoverRef.current);\n\n    if (elements) {\n      return elements.length === 0 ? false : event.target === elements[0];\n    }\n\n    return false;\n  }\n\n  function focusTriggerRef(event) {\n    var _triggerRef$current;\n\n    event.preventDefault();\n    (_triggerRef$current = triggerRef.current) == null ? void 0 : _triggerRef$current.focus();\n  }\n\n  function tabbedToBrowserChrome(event) {\n    var elements = popoverRef.current ? tabbable__WEBPACK_IMPORTED_MODULE_3___default()(ownerDocument).filter(function (element) {\n      return !popoverRef.current.contains(element);\n    }) : null;\n    return elements ? event.target === elements[elements.length - 1] : false;\n  }\n\n  function shiftTabbedToBrowserChrome(event) {\n    // we're assuming the popover will never contain the first tabbable\n    // element, and it better not, because the trigger needs to be tabbable!\n    return event.target === tabbable__WEBPACK_IMPORTED_MODULE_3___default()(ownerDocument)[0];\n  }\n\n  var restoreTabIndexTuplÃ©s = [];\n\n  function disableTabbablesInPopover() {\n    var elements = popoverRef.current && tabbable__WEBPACK_IMPORTED_MODULE_3___default()(popoverRef.current);\n\n    if (elements) {\n      elements.forEach(function (element) {\n        restoreTabIndexTuplÃ©s.push([element, element.tabIndex]);\n        element.tabIndex = -1;\n      });\n      ownerDocument.addEventListener(\"focusin\", enableTabbablesInPopover);\n    }\n  }\n\n  function enableTabbablesInPopover() {\n    ownerDocument.removeEventListener(\"focusin\", enableTabbablesInPopover);\n    restoreTabIndexTuplÃ©s.forEach(function (_ref2) {\n      var element = _ref2[0],\n          tabIndex = _ref2[1];\n      element.tabIndex = tabIndex;\n    });\n  }\n} ////////////////////////////////////////////////////////////////////////////////\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Popover);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3BvcG92ZXIvZGlzdC9yZWFjaC1wb3BvdmVyLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXFFO0FBQzlCO0FBQ0Q7QUFDeUI7QUFDSDtBQUM1Qjs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsaURBQVU7QUFDckMsc0JBQXNCLG9EQUFhLENBQUMsaURBQU0scUJBQXFCLG9EQUFhO0FBQzVFO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQsSUFBSSxJQUFxQztBQUN6QztBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSwrQkFBK0IsaURBQVU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsNkNBQU07QUFDekIsb0JBQW9CLG9EQUFPO0FBQzNCO0FBQ0EsR0FBRztBQUNILG1CQUFtQixvREFBTztBQUMxQjtBQUNBLEdBQUc7QUFDSCxZQUFZLDBFQUFlO0FBQzNCO0FBQ0Esc0JBQXNCLG9EQUFhO0FBQ25DO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCxJQUFJLElBQXFDO0FBQ3pDO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQSw0R0FBNEcsYUFBYTtBQUN6SDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0Esc0JBQXNCLDZFQUFnQjs7QUFFdEM7QUFDQSxxREFBcUQsK0NBQVE7QUFDN0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsR0FBRzs7QUFFSDtBQUNBLG1CQUFtQiwrQ0FBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUMsK0NBQVE7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQywrQ0FBUTtBQUNuRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUMsK0NBQVE7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QywrQ0FBUTs7QUFFakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsK0NBQVE7QUFDaEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0NBQVE7QUFDcEM7O0FBRUE7O0FBRUE7QUFDQSx5Q0FBeUMsK0NBQVE7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxFQUFFOztBQUVGLCtEQUFlLE9BQU8sRUFBQztBQUMrRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWNoL3BvcG92ZXIvZGlzdC9yZWFjaC1wb3BvdmVyLmVzbS5qcz82YmNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcndhcmRSZWYsIGNyZWF0ZUVsZW1lbnQsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAnQHJlYWNoL3BvcnRhbCc7XG5pbXBvcnQgeyB1c2VSZWN0IH0gZnJvbSAnQHJlYWNoL3JlY3QnO1xuaW1wb3J0IHsgZ2V0T3duZXJEb2N1bWVudCB9IGZyb20gJ0ByZWFjaC91dGlscy9vd25lci1kb2N1bWVudCc7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tICdAcmVhY2gvdXRpbHMvY29tcG9zZS1yZWZzJztcbmltcG9ydCB0YWJiYWJsZSBmcm9tICd0YWJiYWJsZSc7XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wiYXNcIiwgXCJ0YXJnZXRSZWZcIiwgXCJwb3NpdGlvblwiLCBcInVuc3RhYmxlX29ic2VydmFibGVSZWZzXCJdO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBQb3BvdmVyXG4gKi9cbnZhciBQb3BvdmVyID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gUG9wb3Zlcihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChQb3J0YWwsIG51bGwsIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KFBvcG92ZXJJbXBsLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWZcbiAgfSwgcHJvcHMpKSk7XG59KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBQb3BvdmVyLmRpc3BsYXlOYW1lID0gXCJQb3BvdmVyXCI7XG59IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogUG9wb3ZlckltcGxcbiAqXG4gKiBQb3BvdmVyIGlzIGNvbmRpdGlvbmFsbHkgcmVuZGVyZWQgc28gd2UgY2FuJ3Qgc3RhcnQgbWVhc3VyaW5nIHVudGlsIGl0IHNob3dzXG4gKiB1cCwgc28gdXNlUmVjdCBuZWVkcyB0byBsaXZlIGRvd24gaGVyZSBub3QgdXAgaW4gUG9wb3ZlclxuICovXG5cblxudmFyIFBvcG92ZXJJbXBsID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gUG9wb3ZlckltcGwoX3JlZiwgZm9yd2FyZGVkUmVmKSB7XG4gIHZhciBfcmVmJGFzID0gX3JlZi5hcyxcbiAgICAgIENvbXAgPSBfcmVmJGFzID09PSB2b2lkIDAgPyBcImRpdlwiIDogX3JlZiRhcyxcbiAgICAgIHRhcmdldFJlZiA9IF9yZWYudGFyZ2V0UmVmLFxuICAgICAgX3JlZiRwb3NpdGlvbiA9IF9yZWYucG9zaXRpb24sXG4gICAgICBwb3NpdGlvbiA9IF9yZWYkcG9zaXRpb24gPT09IHZvaWQgMCA/IHBvc2l0aW9uRGVmYXVsdCA6IF9yZWYkcG9zaXRpb24sXG4gICAgICBfcmVmJHVuc3RhYmxlX29ic2VydmEgPSBfcmVmLnVuc3RhYmxlX29ic2VydmFibGVSZWZzLFxuICAgICAgdW5zdGFibGVfb2JzZXJ2YWJsZVJlZnMgPSBfcmVmJHVuc3RhYmxlX29ic2VydmEgPT09IHZvaWQgMCA/IFtdIDogX3JlZiR1bnN0YWJsZV9vYnNlcnZhLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBfZXhjbHVkZWQpO1xuXG4gIHZhciBwb3BvdmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcG9wb3ZlclJlY3QgPSB1c2VSZWN0KHBvcG92ZXJSZWYsIHtcbiAgICBvYnNlcnZlOiAhcHJvcHMuaGlkZGVuXG4gIH0pO1xuICB2YXIgdGFyZ2V0UmVjdCA9IHVzZVJlY3QodGFyZ2V0UmVmLCB7XG4gICAgb2JzZXJ2ZTogIXByb3BzLmhpZGRlblxuICB9KTtcbiAgdmFyIHJlZiA9IHVzZUNvbXBvc2VkUmVmcyhwb3BvdmVyUmVmLCBmb3J3YXJkZWRSZWYpO1xuICB1c2VTaW11bGF0ZVRhYk5hdmlnYXRpb25Gb3JSZWFjdFRyZWUodGFyZ2V0UmVmLCBwb3BvdmVyUmVmKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbXAsIF9leHRlbmRzKHtcbiAgICBcImRhdGEtcmVhY2gtcG9wb3ZlclwiOiBcIlwiLFxuICAgIHJlZjogcmVmXG4gIH0sIHByb3BzLCB7XG4gICAgc3R5bGU6IF9leHRlbmRzKHtcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICB9LCBnZXRTdHlsZXMuYXBwbHkodm9pZCAwLCBbcG9zaXRpb24sIHRhcmdldFJlY3QsIHBvcG92ZXJSZWN0XS5jb25jYXQodW5zdGFibGVfb2JzZXJ2YWJsZVJlZnMpKSwgcHJvcHMuc3R5bGUpXG4gIH0pKTtcbn0pO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFBvcG92ZXJJbXBsLmRpc3BsYXlOYW1lID0gXCJQb3BvdmVySW1wbFwiO1xufSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwb3NpdGlvbiwgdGFyZ2V0UmVjdCwgcG9wb3ZlclJlY3QpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHVuc3RhYmxlX29ic2VydmFibGVSZWZzID0gbmV3IEFycmF5KF9sZW4gPiAzID8gX2xlbiAtIDMgOiAwKSwgX2tleSA9IDM7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB1bnN0YWJsZV9vYnNlcnZhYmxlUmVmc1tfa2V5IC0gM10gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gcG9wb3ZlclJlY3QgPyBwb3NpdGlvbi5hcHBseSh2b2lkIDAsIFt0YXJnZXRSZWN0LCBwb3BvdmVyUmVjdF0uY29uY2F0KHVuc3RhYmxlX29ic2VydmFibGVSZWZzLm1hcChmdW5jdGlvbiAocmVmKSB7XG4gICAgcmV0dXJuIHJlZi5jdXJyZW50O1xuICB9KSkpIDoge1xuICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCJcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0VG9wUG9zaXRpb24odGFyZ2V0UmVjdCwgcG9wb3ZlclJlY3QsIGlzRGlyZWN0aW9uVXApIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IGlzRGlyZWN0aW9uVXAgPyB0YXJnZXRSZWN0LnRvcCAtIHBvcG92ZXJSZWN0LmhlaWdodCArIHdpbmRvdy5wYWdlWU9mZnNldCArIFwicHhcIiA6IHRhcmdldFJlY3QudG9wICsgdGFyZ2V0UmVjdC5oZWlnaHQgKyB3aW5kb3cucGFnZVlPZmZzZXQgKyBcInB4XCJcbiAgfTtcbn1cblxudmFyIHBvc2l0aW9uRGVmYXVsdCA9IGZ1bmN0aW9uIHBvc2l0aW9uRGVmYXVsdCh0YXJnZXRSZWN0LCBwb3BvdmVyUmVjdCkge1xuICBpZiAoIXRhcmdldFJlY3QgfHwgIXBvcG92ZXJSZWN0KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgdmFyIF9nZXRDb2xsaXNpb25zID0gZ2V0Q29sbGlzaW9ucyh0YXJnZXRSZWN0LCBwb3BvdmVyUmVjdCksXG4gICAgICBkaXJlY3Rpb25SaWdodCA9IF9nZXRDb2xsaXNpb25zLmRpcmVjdGlvblJpZ2h0LFxuICAgICAgZGlyZWN0aW9uVXAgPSBfZ2V0Q29sbGlzaW9ucy5kaXJlY3Rpb25VcDtcblxuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIGxlZnQ6IGRpcmVjdGlvblJpZ2h0ID8gdGFyZ2V0UmVjdC5yaWdodCAtIHBvcG92ZXJSZWN0LndpZHRoICsgd2luZG93LnBhZ2VYT2Zmc2V0ICsgXCJweFwiIDogdGFyZ2V0UmVjdC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0ICsgXCJweFwiXG4gIH0sIGdldFRvcFBvc2l0aW9uKHRhcmdldFJlY3QsIHBvcG92ZXJSZWN0LCBkaXJlY3Rpb25VcCkpO1xufTtcblxudmFyIHBvc2l0aW9uUmlnaHQgPSBmdW5jdGlvbiBwb3NpdGlvblJpZ2h0KHRhcmdldFJlY3QsIHBvcG92ZXJSZWN0KSB7XG4gIGlmICghdGFyZ2V0UmVjdCB8fCAhcG9wb3ZlclJlY3QpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICB2YXIgX2dldENvbGxpc2lvbnMyID0gZ2V0Q29sbGlzaW9ucyh0YXJnZXRSZWN0LCBwb3BvdmVyUmVjdCksXG4gICAgICBkaXJlY3Rpb25MZWZ0ID0gX2dldENvbGxpc2lvbnMyLmRpcmVjdGlvbkxlZnQsXG4gICAgICBkaXJlY3Rpb25VcCA9IF9nZXRDb2xsaXNpb25zMi5kaXJlY3Rpb25VcDtcblxuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIGxlZnQ6IGRpcmVjdGlvbkxlZnQgPyB0YXJnZXRSZWN0LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgKyBcInB4XCIgOiB0YXJnZXRSZWN0LnJpZ2h0IC0gcG9wb3ZlclJlY3Qud2lkdGggKyB3aW5kb3cucGFnZVhPZmZzZXQgKyBcInB4XCJcbiAgfSwgZ2V0VG9wUG9zaXRpb24odGFyZ2V0UmVjdCwgcG9wb3ZlclJlY3QsIGRpcmVjdGlvblVwKSk7XG59O1xuXG52YXIgcG9zaXRpb25NYXRjaFdpZHRoID0gZnVuY3Rpb24gcG9zaXRpb25NYXRjaFdpZHRoKHRhcmdldFJlY3QsIHBvcG92ZXJSZWN0KSB7XG4gIGlmICghdGFyZ2V0UmVjdCB8fCAhcG9wb3ZlclJlY3QpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICB2YXIgX2dldENvbGxpc2lvbnMzID0gZ2V0Q29sbGlzaW9ucyh0YXJnZXRSZWN0LCBwb3BvdmVyUmVjdCksXG4gICAgICBkaXJlY3Rpb25VcCA9IF9nZXRDb2xsaXNpb25zMy5kaXJlY3Rpb25VcDtcblxuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIHdpZHRoOiB0YXJnZXRSZWN0LndpZHRoLFxuICAgIGxlZnQ6IHRhcmdldFJlY3QubGVmdFxuICB9LCBnZXRUb3BQb3NpdGlvbih0YXJnZXRSZWN0LCBwb3BvdmVyUmVjdCwgZGlyZWN0aW9uVXApKTtcbn07XG5cbmZ1bmN0aW9uIGdldENvbGxpc2lvbnModGFyZ2V0UmVjdCwgcG9wb3ZlclJlY3QsIG9mZnNldExlZnQsIG9mZnNldEJvdHRvbSkge1xuICBpZiAob2Zmc2V0TGVmdCA9PT0gdm9pZCAwKSB7XG4gICAgb2Zmc2V0TGVmdCA9IDA7XG4gIH1cblxuICBpZiAob2Zmc2V0Qm90dG9tID09PSB2b2lkIDApIHtcbiAgICBvZmZzZXRCb3R0b20gPSAwO1xuICB9XG5cbiAgdmFyIGNvbGxpc2lvbnMgPSB7XG4gICAgdG9wOiB0YXJnZXRSZWN0LnRvcCAtIHBvcG92ZXJSZWN0LmhlaWdodCA8IDAsXG4gICAgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoIDwgdGFyZ2V0UmVjdC5sZWZ0ICsgcG9wb3ZlclJlY3Qud2lkdGggLSBvZmZzZXRMZWZ0LFxuICAgIGJvdHRvbTogd2luZG93LmlubmVySGVpZ2h0IDwgdGFyZ2V0UmVjdC5ib3R0b20gKyBwb3BvdmVyUmVjdC5oZWlnaHQgLSBvZmZzZXRCb3R0b20sXG4gICAgbGVmdDogdGFyZ2V0UmVjdC5sZWZ0ICsgdGFyZ2V0UmVjdC53aWR0aCAtIHBvcG92ZXJSZWN0LndpZHRoIDwgMFxuICB9O1xuICB2YXIgZGlyZWN0aW9uUmlnaHQgPSBjb2xsaXNpb25zLnJpZ2h0ICYmICFjb2xsaXNpb25zLmxlZnQ7XG4gIHZhciBkaXJlY3Rpb25MZWZ0ID0gY29sbGlzaW9ucy5sZWZ0ICYmICFjb2xsaXNpb25zLnJpZ2h0O1xuICB2YXIgZGlyZWN0aW9uVXAgPSBjb2xsaXNpb25zLmJvdHRvbSAmJiAhY29sbGlzaW9ucy50b3A7XG4gIHZhciBkaXJlY3Rpb25Eb3duID0gY29sbGlzaW9ucy50b3AgJiYgIWNvbGxpc2lvbnMuYm90dG9tO1xuICByZXR1cm4ge1xuICAgIGRpcmVjdGlvblJpZ2h0OiBkaXJlY3Rpb25SaWdodCxcbiAgICBkaXJlY3Rpb25MZWZ0OiBkaXJlY3Rpb25MZWZ0LFxuICAgIGRpcmVjdGlvblVwOiBkaXJlY3Rpb25VcCxcbiAgICBkaXJlY3Rpb25Eb3duOiBkaXJlY3Rpb25Eb3duXG4gIH07XG59IC8vIEhlYWRzIHVwLCBteSBqUXVlcnkgcGFzdCBoYXVudHMgdGhpcyBmdW5jdGlvbi4gVGhpcyBob29rIHNjb3BlcyB0aGUgdGFiXG4vLyBvcmRlciB0byB0aGUgUmVhY3QgZWxlbWVudCB0cmVlLCBpbnN0ZWFkIG9mIHRoZSBET00gdHJlZS4gVGhpcyB3YXksIHdoZW4gdGhlXG4vLyB1c2VyIG5hdmlnYXRlcyB3aXRoIHRhYiBmcm9tIHRoZSB0YXJnZXRSZWYsIHRoZSB0YWIgb3JkZXIgbW92ZXMgaW50byB0aGVcbi8vIHBvcHVwLCBhbmQgdGhlbiBvdXQgb2YgdGhlIHBvcHVwIGJhY2sgdG8gdGhlIHJlc3Qgb2YgdGhlIGRvY3VtZW50LlxuLy8gKFdlIGNhbGwgdGFyZ2V0UmVmLCB0cmlnZ2VyUmVmIGluc2lkZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIGNvbmZ1c2lvbiB3aXRoXG4vLyBldmVudC50YXJnZXQpXG5cblxuZnVuY3Rpb24gdXNlU2ltdWxhdGVUYWJOYXZpZ2F0aW9uRm9yUmVhY3RUcmVlKHRyaWdnZXJSZWYsIHBvcG92ZXJSZWYpIHtcbiAgdmFyIG93bmVyRG9jdW1lbnQgPSBnZXRPd25lckRvY3VtZW50KHRyaWdnZXJSZWYuY3VycmVudCk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiVGFiXCIgJiYgcG9wb3ZlclJlZi5jdXJyZW50ICYmIHRhYmJhYmxlKHBvcG92ZXJSZWYuY3VycmVudCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJUYWJcIiAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgaWYgKHNoaWZ0VGFiYmVkRnJvbUVsZW1lbnRBZnRlclRyaWdnZXIoZXZlbnQpKSB7XG4gICAgICAgIGZvY3VzTGFzdFRhYmJhYmxlSW5Qb3BvdmVyKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoc2hpZnRUYWJiZWRPdXRPZlBvcG92ZXIoZXZlbnQpKSB7XG4gICAgICAgIGZvY3VzVHJpZ2dlclJlZihldmVudCk7XG4gICAgICB9IGVsc2UgaWYgKHNoaWZ0VGFiYmVkVG9Ccm93c2VyQ2hyb21lKGV2ZW50KSkge1xuICAgICAgICBkaXNhYmxlVGFiYmFibGVzSW5Qb3BvdmVyKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiVGFiXCIpIHtcbiAgICAgIGlmICh0YWJiZWRGcm9tVHJpZ2dlclRvUG9wb3ZlcigpKSB7XG4gICAgICAgIGZvY3VzRmlyc3RQb3BvdmVyVGFiYmFibGUoZXZlbnQpO1xuICAgICAgfSBlbHNlIGlmICh0YWJiZWRPdXRPZlBvcG92ZXIoKSkge1xuICAgICAgICBmb2N1c1RhYmJhYmxlQWZ0ZXJUcmlnZ2VyKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAodGFiYmVkVG9Ccm93c2VyQ2hyb21lKGV2ZW50KSkge1xuICAgICAgICBkaXNhYmxlVGFiYmFibGVzSW5Qb3BvdmVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBvd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBvd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRBZnRlclRyaWdnZXIoKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gdGFiYmFibGUob3duZXJEb2N1bWVudCk7XG4gICAgdmFyIHRhcmdldEluZGV4ID0gZWxlbWVudHMgJiYgdHJpZ2dlclJlZi5jdXJyZW50ID8gZWxlbWVudHMuaW5kZXhPZih0cmlnZ2VyUmVmLmN1cnJlbnQpIDogLTE7XG4gICAgdmFyIGVsZW1lbnRBZnRlclRyaWdnZXIgPSBlbGVtZW50cyAmJiBlbGVtZW50c1t0YXJnZXRJbmRleCArIDFdO1xuICAgIHJldHVybiBwb3BvdmVyUmVmLmN1cnJlbnQgJiYgcG9wb3ZlclJlZi5jdXJyZW50LmNvbnRhaW5zKGVsZW1lbnRBZnRlclRyaWdnZXIgfHwgbnVsbCkgPyBmYWxzZSA6IGVsZW1lbnRBZnRlclRyaWdnZXI7XG4gIH1cblxuICBmdW5jdGlvbiB0YWJiZWRGcm9tVHJpZ2dlclRvUG9wb3ZlcigpIHtcbiAgICByZXR1cm4gdHJpZ2dlclJlZi5jdXJyZW50ID8gdHJpZ2dlclJlZi5jdXJyZW50ID09PSBvd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgOiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvY3VzRmlyc3RQb3BvdmVyVGFiYmFibGUoZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBwb3BvdmVyUmVmLmN1cnJlbnQgJiYgdGFiYmFibGUocG9wb3ZlclJlZi5jdXJyZW50KTtcblxuICAgIGlmIChlbGVtZW50cyAmJiBlbGVtZW50c1swXSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGVsZW1lbnRzWzBdLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGFiYmVkT3V0T2ZQb3BvdmVyKCkge1xuICAgIHZhciBpblBvcG92ZXIgPSBwb3BvdmVyUmVmLmN1cnJlbnQgPyBwb3BvdmVyUmVmLmN1cnJlbnQuY29udGFpbnMob3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8IG51bGwpIDogZmFsc2U7XG5cbiAgICBpZiAoaW5Qb3BvdmVyKSB7XG4gICAgICB2YXIgZWxlbWVudHMgPSBwb3BvdmVyUmVmLmN1cnJlbnQgJiYgdGFiYmFibGUocG9wb3ZlclJlZi5jdXJyZW50KTtcbiAgICAgIHJldHVybiBCb29sZWFuKGVsZW1lbnRzICYmIGVsZW1lbnRzW2VsZW1lbnRzLmxlbmd0aCAtIDFdID09PSBvd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvY3VzVGFiYmFibGVBZnRlclRyaWdnZXIoZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudEFmdGVyVHJpZ2dlciA9IGdldEVsZW1lbnRBZnRlclRyaWdnZXIoKTtcblxuICAgIGlmIChlbGVtZW50QWZ0ZXJUcmlnZ2VyKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZWxlbWVudEFmdGVyVHJpZ2dlci5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNoaWZ0VGFiYmVkRnJvbUVsZW1lbnRBZnRlclRyaWdnZXIoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50LnNoaWZ0S2V5KSByZXR1cm47XG4gICAgdmFyIGVsZW1lbnRBZnRlclRyaWdnZXIgPSBnZXRFbGVtZW50QWZ0ZXJUcmlnZ2VyKCk7XG4gICAgcmV0dXJuIGV2ZW50LnRhcmdldCA9PT0gZWxlbWVudEFmdGVyVHJpZ2dlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvY3VzTGFzdFRhYmJhYmxlSW5Qb3BvdmVyKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnRzID0gcG9wb3ZlclJlZi5jdXJyZW50ICYmIHRhYmJhYmxlKHBvcG92ZXJSZWYuY3VycmVudCk7XG4gICAgdmFyIGxhc3QgPSBlbGVtZW50cyAmJiBlbGVtZW50c1tlbGVtZW50cy5sZW5ndGggLSAxXTtcblxuICAgIGlmIChsYXN0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGFzdC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNoaWZ0VGFiYmVkT3V0T2ZQb3BvdmVyKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnRzID0gcG9wb3ZlclJlZi5jdXJyZW50ICYmIHRhYmJhYmxlKHBvcG92ZXJSZWYuY3VycmVudCk7XG5cbiAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBlbGVtZW50cy5sZW5ndGggPT09IDAgPyBmYWxzZSA6IGV2ZW50LnRhcmdldCA9PT0gZWxlbWVudHNbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9jdXNUcmlnZ2VyUmVmKGV2ZW50KSB7XG4gICAgdmFyIF90cmlnZ2VyUmVmJGN1cnJlbnQ7XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIChfdHJpZ2dlclJlZiRjdXJyZW50ID0gdHJpZ2dlclJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3RyaWdnZXJSZWYkY3VycmVudC5mb2N1cygpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGFiYmVkVG9Ccm93c2VyQ2hyb21lKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnRzID0gcG9wb3ZlclJlZi5jdXJyZW50ID8gdGFiYmFibGUob3duZXJEb2N1bWVudCkuZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gIXBvcG92ZXJSZWYuY3VycmVudC5jb250YWlucyhlbGVtZW50KTtcbiAgICB9KSA6IG51bGw7XG4gICAgcmV0dXJuIGVsZW1lbnRzID8gZXZlbnQudGFyZ2V0ID09PSBlbGVtZW50c1tlbGVtZW50cy5sZW5ndGggLSAxXSA6IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hpZnRUYWJiZWRUb0Jyb3dzZXJDaHJvbWUoZXZlbnQpIHtcbiAgICAvLyB3ZSdyZSBhc3N1bWluZyB0aGUgcG9wb3ZlciB3aWxsIG5ldmVyIGNvbnRhaW4gdGhlIGZpcnN0IHRhYmJhYmxlXG4gICAgLy8gZWxlbWVudCwgYW5kIGl0IGJldHRlciBub3QsIGJlY2F1c2UgdGhlIHRyaWdnZXIgbmVlZHMgdG8gYmUgdGFiYmFibGUhXG4gICAgcmV0dXJuIGV2ZW50LnRhcmdldCA9PT0gdGFiYmFibGUob3duZXJEb2N1bWVudClbMF07XG4gIH1cblxuICB2YXIgcmVzdG9yZVRhYkluZGV4VHVwbMOpcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGRpc2FibGVUYWJiYWJsZXNJblBvcG92ZXIoKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gcG9wb3ZlclJlZi5jdXJyZW50ICYmIHRhYmJhYmxlKHBvcG92ZXJSZWYuY3VycmVudCk7XG5cbiAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmVzdG9yZVRhYkluZGV4VHVwbMOpcy5wdXNoKFtlbGVtZW50LCBlbGVtZW50LnRhYkluZGV4XSk7XG4gICAgICAgIGVsZW1lbnQudGFiSW5kZXggPSAtMTtcbiAgICAgIH0pO1xuICAgICAgb3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLCBlbmFibGVUYWJiYWJsZXNJblBvcG92ZXIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVuYWJsZVRhYmJhYmxlc0luUG9wb3ZlcigpIHtcbiAgICBvd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsIGVuYWJsZVRhYmJhYmxlc0luUG9wb3Zlcik7XG4gICAgcmVzdG9yZVRhYkluZGV4VHVwbMOpcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIGVsZW1lbnQgPSBfcmVmMlswXSxcbiAgICAgICAgICB0YWJJbmRleCA9IF9yZWYyWzFdO1xuICAgICAgZWxlbWVudC50YWJJbmRleCA9IHRhYkluZGV4O1xuICAgIH0pO1xuICB9XG59IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBkZWZhdWx0IFBvcG92ZXI7XG5leHBvcnQgeyBQb3BvdmVyLCBnZXRDb2xsaXNpb25zLCBwb3NpdGlvbkRlZmF1bHQsIHBvc2l0aW9uTWF0Y2hXaWR0aCwgcG9zaXRpb25SaWdodCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/popover/dist/reach-popover.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/portal/dist/reach-portal.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/@reach/portal/dist/reach-portal.esm.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Portal\": function() { return /* binding */ Portal; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reach/utils/use-isomorphic-layout-effect */ \"./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js\");\n/* harmony import */ var _reach_utils_use_force_update__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reach/utils/use-force-update */ \"./node_modules/@reach/utils/use-force-update/dist/reach-utils-use-force-update.esm.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var tiny_warning__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tiny-warning */ \"./node_modules/tiny-warning/dist/tiny-warning.esm.js\");\n\n\n\n\n\n\n/**\n * Welcome to @reach/portal!\n *\n * Creates and appends a DOM node to the end of `document.body` and renders a\n * React tree into it. Useful for rendering a natural React element hierarchy\n * with a different DOM hierarchy to prevent parent styles from clipping or\n * hiding content (for popovers, dropdowns, and modals).\n *\n * @see Docs   https://reach.tech/portal\n * @see Source https://github.com/reach/reach-ui/tree/main/packages/portal\n * @see React  https://reactjs.org/docs/portals.html\n */\n/**\n * Portal\n *\n * @see Docs https://reach.tech/portal#portal\n */\n\nvar Portal = function Portal(_ref) {\n  var children = _ref.children,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? \"reach-portal\" : _ref$type,\n      containerRef = _ref.containerRef;\n  var mountNode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var portalNode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var forceUpdate = (0,_reach_utils_use_force_update__WEBPACK_IMPORTED_MODULE_2__.useForceUpdate)();\n\n  if (true) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n      if (containerRef != null) {\n         true ? (0,tiny_warning__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(typeof containerRef === \"object\" && \"current\" in containerRef, \"@reach/portal: Invalid value passed to the `containerRef` of a \" + \"`Portal`. The portal will be appended to the document body, but if \" + \"you want to attach it to another DOM node you must pass a valid \" + \"React ref object to `containerRef`.\") : 0;\n         true ? (0,tiny_warning__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(containerRef ? containerRef.current != null : true, \"@reach/portal: A ref was passed to the `containerRef` prop of a \" + \"`Portal`, but no DOM node was attached to it. Be sure to pass the \" + \"ref to a DOM component.\\n\\nIf you are forwarding the ref from \" + \"another component, be sure to use the React.forwardRef API. \" + \"See https://reactjs.org/docs/forwarding-refs.html.\") : 0;\n      }\n    }, [containerRef]);\n  }\n\n  (0,_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__.useIsomorphicLayoutEffect)(function () {\n    // This ref may be null when a hot-loader replaces components on the page\n    if (!mountNode.current) return; // It's possible that the content of the portal has, itself, been portaled.\n    // In that case, it's important to append to the correct document element.\n\n    var ownerDocument = mountNode.current.ownerDocument;\n    var body = (containerRef == null ? void 0 : containerRef.current) || ownerDocument.body;\n    portalNode.current = ownerDocument == null ? void 0 : ownerDocument.createElement(type);\n    body.appendChild(portalNode.current);\n    forceUpdate();\n    return function () {\n      if (portalNode.current && body) {\n        body.removeChild(portalNode.current);\n      }\n    };\n  }, [type, forceUpdate, containerRef]);\n  return portalNode.current ? /*#__PURE__*/(0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)(children, portalNode.current) : /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"span\", {\n    ref: mountNode\n  });\n};\n/**\n * @see Docs https://reach.tech/portal#portal-props\n */\n\n\nif (true) {\n  Portal.displayName = \"Portal\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Portal);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3BvcnRhbC9kaXN0L3JlYWNoLXBvcnRhbC5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDNkI7QUFDdkI7QUFDdEI7QUFDTjs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDZDQUFNO0FBQ3hCLG1CQUFtQiw2Q0FBTTtBQUN6QixvQkFBb0IsNkVBQWM7O0FBRWxDLE1BQU0sSUFBcUM7QUFDM0M7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQSxRQUFRLEtBQXFDLEdBQUcsd0RBQU8sMFRBQTBULENBQU07QUFDdlgsUUFBUSxLQUFxQyxHQUFHLHdEQUFPLDZYQUE2WCxDQUFNO0FBQzFiO0FBQ0EsS0FBSztBQUNMOztBQUVBLEVBQUUsb0dBQXlCO0FBQzNCO0FBQ0Esb0NBQW9DO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDJDQUEyQyx1REFBWSw4Q0FBOEMsb0RBQWE7QUFDbEg7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLElBQUksSUFBcUM7QUFDekM7QUFDQSxFQUFFOztBQUVGLCtEQUFlLE1BQU0sRUFBQztBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY2gvcG9ydGFsL2Rpc3QvcmVhY2gtcG9ydGFsLmVzbS5qcz84Yzg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0LCBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJ0ByZWFjaC91dGlscy91c2UtaXNvbW9ycGhpYy1sYXlvdXQtZWZmZWN0JztcbmltcG9ydCB7IHVzZUZvcmNlVXBkYXRlIH0gZnJvbSAnQHJlYWNoL3V0aWxzL3VzZS1mb3JjZS11cGRhdGUnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5cbi8qKlxuICogV2VsY29tZSB0byBAcmVhY2gvcG9ydGFsIVxuICpcbiAqIENyZWF0ZXMgYW5kIGFwcGVuZHMgYSBET00gbm9kZSB0byB0aGUgZW5kIG9mIGBkb2N1bWVudC5ib2R5YCBhbmQgcmVuZGVycyBhXG4gKiBSZWFjdCB0cmVlIGludG8gaXQuIFVzZWZ1bCBmb3IgcmVuZGVyaW5nIGEgbmF0dXJhbCBSZWFjdCBlbGVtZW50IGhpZXJhcmNoeVxuICogd2l0aCBhIGRpZmZlcmVudCBET00gaGllcmFyY2h5IHRvIHByZXZlbnQgcGFyZW50IHN0eWxlcyBmcm9tIGNsaXBwaW5nIG9yXG4gKiBoaWRpbmcgY29udGVudCAoZm9yIHBvcG92ZXJzLCBkcm9wZG93bnMsIGFuZCBtb2RhbHMpLlxuICpcbiAqIEBzZWUgRG9jcyAgIGh0dHBzOi8vcmVhY2gudGVjaC9wb3J0YWxcbiAqIEBzZWUgU291cmNlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjaC9yZWFjaC11aS90cmVlL21haW4vcGFja2FnZXMvcG9ydGFsXG4gKiBAc2VlIFJlYWN0ICBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcG9ydGFscy5odG1sXG4gKi9cbi8qKlxuICogUG9ydGFsXG4gKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vcmVhY2gudGVjaC9wb3J0YWwjcG9ydGFsXG4gKi9cblxudmFyIFBvcnRhbCA9IGZ1bmN0aW9uIFBvcnRhbChfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBfcmVmJHR5cGUgPSBfcmVmLnR5cGUsXG4gICAgICB0eXBlID0gX3JlZiR0eXBlID09PSB2b2lkIDAgPyBcInJlYWNoLXBvcnRhbFwiIDogX3JlZiR0eXBlLFxuICAgICAgY29udGFpbmVyUmVmID0gX3JlZi5jb250YWluZXJSZWY7XG4gIHZhciBtb3VudE5vZGUgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBwb3J0YWxOb2RlID0gdXNlUmVmKG51bGwpO1xuICB2YXIgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGNvbnRhaW5lclJlZiAhPSBudWxsKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcodHlwZW9mIGNvbnRhaW5lclJlZiA9PT0gXCJvYmplY3RcIiAmJiBcImN1cnJlbnRcIiBpbiBjb250YWluZXJSZWYsIFwiQHJlYWNoL3BvcnRhbDogSW52YWxpZCB2YWx1ZSBwYXNzZWQgdG8gdGhlIGBjb250YWluZXJSZWZgIG9mIGEgXCIgKyBcImBQb3J0YWxgLiBUaGUgcG9ydGFsIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50IGJvZHksIGJ1dCBpZiBcIiArIFwieW91IHdhbnQgdG8gYXR0YWNoIGl0IHRvIGFub3RoZXIgRE9NIG5vZGUgeW91IG11c3QgcGFzcyBhIHZhbGlkIFwiICsgXCJSZWFjdCByZWYgb2JqZWN0IHRvIGBjb250YWluZXJSZWZgLlwiKSA6IHZvaWQgMDtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhjb250YWluZXJSZWYgPyBjb250YWluZXJSZWYuY3VycmVudCAhPSBudWxsIDogdHJ1ZSwgXCJAcmVhY2gvcG9ydGFsOiBBIHJlZiB3YXMgcGFzc2VkIHRvIHRoZSBgY29udGFpbmVyUmVmYCBwcm9wIG9mIGEgXCIgKyBcImBQb3J0YWxgLCBidXQgbm8gRE9NIG5vZGUgd2FzIGF0dGFjaGVkIHRvIGl0LiBCZSBzdXJlIHRvIHBhc3MgdGhlIFwiICsgXCJyZWYgdG8gYSBET00gY29tcG9uZW50LlxcblxcbklmIHlvdSBhcmUgZm9yd2FyZGluZyB0aGUgcmVmIGZyb20gXCIgKyBcImFub3RoZXIgY29tcG9uZW50LCBiZSBzdXJlIHRvIHVzZSB0aGUgUmVhY3QuZm9yd2FyZFJlZiBBUEkuIFwiICsgXCJTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2ZvcndhcmRpbmctcmVmcy5odG1sLlwiKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9LCBbY29udGFpbmVyUmVmXSk7XG4gIH1cblxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUaGlzIHJlZiBtYXkgYmUgbnVsbCB3aGVuIGEgaG90LWxvYWRlciByZXBsYWNlcyBjb21wb25lbnRzIG9uIHRoZSBwYWdlXG4gICAgaWYgKCFtb3VudE5vZGUuY3VycmVudCkgcmV0dXJuOyAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlIGNvbnRlbnQgb2YgdGhlIHBvcnRhbCBoYXMsIGl0c2VsZiwgYmVlbiBwb3J0YWxlZC5cbiAgICAvLyBJbiB0aGF0IGNhc2UsIGl0J3MgaW1wb3J0YW50IHRvIGFwcGVuZCB0byB0aGUgY29ycmVjdCBkb2N1bWVudCBlbGVtZW50LlxuXG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSBtb3VudE5vZGUuY3VycmVudC5vd25lckRvY3VtZW50O1xuICAgIHZhciBib2R5ID0gKGNvbnRhaW5lclJlZiA9PSBudWxsID8gdm9pZCAwIDogY29udGFpbmVyUmVmLmN1cnJlbnQpIHx8IG93bmVyRG9jdW1lbnQuYm9keTtcbiAgICBwb3J0YWxOb2RlLmN1cnJlbnQgPSBvd25lckRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgYm9keS5hcHBlbmRDaGlsZChwb3J0YWxOb2RlLmN1cnJlbnQpO1xuICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwb3J0YWxOb2RlLmN1cnJlbnQgJiYgYm9keSkge1xuICAgICAgICBib2R5LnJlbW92ZUNoaWxkKHBvcnRhbE5vZGUuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3R5cGUsIGZvcmNlVXBkYXRlLCBjb250YWluZXJSZWZdKTtcbiAgcmV0dXJuIHBvcnRhbE5vZGUuY3VycmVudCA/IC8qI19fUFVSRV9fKi9jcmVhdGVQb3J0YWwoY2hpbGRyZW4sIHBvcnRhbE5vZGUuY3VycmVudCkgOiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIHJlZjogbW91bnROb2RlXG4gIH0pO1xufTtcbi8qKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vcmVhY2gudGVjaC9wb3J0YWwjcG9ydGFsLXByb3BzXG4gKi9cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFBvcnRhbC5kaXNwbGF5TmFtZSA9IFwiUG9ydGFsXCI7XG59IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBkZWZhdWx0IFBvcnRhbDtcbmV4cG9ydCB7IFBvcnRhbCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/portal/dist/reach-portal.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/rect/dist/reach-rect.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/@reach/rect/dist/reach-rect.esm.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Rect\": function() { return /* binding */ Rect; },\n/* harmony export */   \"useRect\": function() { return /* binding */ useRect; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _reach_observe_rect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reach/observe-rect */ \"./node_modules/@reach/observe-rect/dist/observe-rect.esm.js\");\n/* harmony import */ var _reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reach/utils/use-isomorphic-layout-effect */ \"./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js\");\n/* harmony import */ var _reach_utils_type_check__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reach/utils/type-check */ \"./node_modules/@reach/utils/type-check/dist/reach-utils-type-check.esm.js\");\n/* harmony import */ var tiny_warning__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tiny-warning */ \"./node_modules/tiny-warning/dist/tiny-warning.esm.js\");\n\n\n\n\n\n\n\n/**\n * Welcome to @reach/rect!\n *\n * Measures DOM elements (aka. bounding client rect).\n *\n * @see getBoundingClientRect https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n * @see Docs                  https://reach.tech/rect\n * @see Source                https://github.com/reach/reach-ui/tree/main/packages/rect\n */\n\n/**\n * Rect\n *\n * @param props\n */\n\nvar Rect = function Rect(_ref) {\n  var onChange = _ref.onChange,\n      _ref$observe = _ref.observe,\n      observe = _ref$observe === void 0 ? true : _ref$observe,\n      children = _ref.children;\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var rect = useRect(ref, {\n    observe: observe,\n    onChange: onChange\n  });\n  return children({\n    ref: ref,\n    rect: rect\n  });\n};\n/**\n * @see Docs https://reach.tech/rect#rect-props\n */\n\n\nif (true) {\n  Rect.displayName = \"Rect\";\n  Rect.propTypes = {\n    children: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func.isRequired),\n    observe: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),\n    onChange: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func)\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n\n/**\n * useRect\n *\n * @param nodeRef\n * @param observe\n * @param onChange\n */\nfunction useRect(nodeRef, observeOrOptions, deprecated_onChange) {\n  var observe;\n  var onChange;\n\n  if ((0,_reach_utils_type_check__WEBPACK_IMPORTED_MODULE_3__.isBoolean)(observeOrOptions)) {\n    observe = observeOrOptions;\n  } else {\n    var _observeOrOptions$obs;\n\n    observe = (_observeOrOptions$obs = observeOrOptions == null ? void 0 : observeOrOptions.observe) != null ? _observeOrOptions$obs : true;\n    onChange = observeOrOptions == null ? void 0 : observeOrOptions.onChange;\n  }\n\n  if ((0,_reach_utils_type_check__WEBPACK_IMPORTED_MODULE_3__.isFunction)(deprecated_onChange)) {\n    onChange = deprecated_onChange;\n  }\n\n  if (true) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n       true ? (0,tiny_warning__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(!(0,_reach_utils_type_check__WEBPACK_IMPORTED_MODULE_3__.isBoolean)(observeOrOptions), \"Passing `observe` as the second argument to `useRect` is deprecated and will be removed in a future version of Reach UI. Instead, you can pass an object of options with an `observe` property as the second argument (`useRect(ref, { observe })`).\\n\" + \"See https://reach.tech/rect#userect-observe\") : 0;\n    }, [observeOrOptions]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n       true ? (0,tiny_warning__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(!(0,_reach_utils_type_check__WEBPACK_IMPORTED_MODULE_3__.isFunction)(deprecated_onChange), \"Passing `onChange` as the third argument to `useRect` is deprecated and will be removed in a future version of Reach UI. Instead, you can pass an object of options with an `onChange` property as the second argument (`useRect(ref, { onChange })`).\\n\" + \"See https://reach.tech/rect#userect-onchange\") : 0;\n    }, [deprecated_onChange]);\n  }\n\n  var _React$useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(nodeRef.current),\n      element = _React$useState[0],\n      setElement = _React$useState[1];\n\n  var initialRectIsSet = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  var initialRefIsSet = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n\n  var _React$useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n      rect = _React$useState2[0],\n      setRect = _React$useState2[1];\n\n  var onChangeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onChange); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  (0,_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(function () {\n    onChangeRef.current = onChange;\n\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  (0,_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(function () {\n    if (element && !initialRectIsSet.current) {\n      initialRectIsSet.current = true;\n      setRect(element.getBoundingClientRect());\n    }\n  }, [element]);\n  (0,_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(function () {\n    if (!observe) {\n      return;\n    }\n\n    var elem = element; // State initializes before refs are placed, meaning the element state will\n    // be undefined on the first render. We still want the rect on the first\n    // render, so initially we'll use the nodeRef that was passed instead of\n    // state for our measurements.\n\n    if (!initialRefIsSet.current) {\n      initialRefIsSet.current = true;\n      elem = nodeRef.current;\n    }\n\n    if (!elem) {\n      if (true) {\n        console.warn(\"You need to place the ref\");\n      }\n\n      return;\n    }\n\n    var observer = (0,_reach_observe_rect__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(elem, function (rect) {\n      onChangeRef.current == null ? void 0 : onChangeRef.current(rect);\n      setRect(rect);\n    });\n    observer.observe();\n    return function () {\n      observer.unobserve();\n    };\n  }, [observe, element, nodeRef]);\n  return rect;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Rect);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3JlY3QvZGlzdC9yZWFjaC1yZWN0LmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ2pCO0FBQ1c7QUFDd0M7QUFDdEI7QUFDN0I7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLElBQUksSUFBcUM7QUFDekM7QUFDQTtBQUNBLGNBQWMsbUVBQXlCO0FBQ3ZDLGFBQWEsd0RBQWM7QUFDM0IsY0FBYyx3REFBYztBQUM1QjtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU0sa0VBQVM7QUFDZjtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxtRUFBVTtBQUNoQjtBQUNBOztBQUVBLE1BQU0sSUFBcUM7QUFDM0M7QUFDQSxJQUFJLGdEQUFTO0FBQ2IsTUFBTSxLQUFxQyxHQUFHLHdEQUFPLEVBQUUsa0VBQVMsNFBBQTRQLFNBQVMsMkRBQTJELENBQU07QUFDdFksS0FBSyx1QkFBdUI7O0FBRTVCLElBQUksZ0RBQVM7QUFDYixNQUFNLEtBQXFDLEdBQUcsd0RBQU8sRUFBRSxtRUFBVSxnUUFBZ1EsVUFBVSw0REFBNEQsQ0FBTTtBQUM3WSxLQUFLO0FBQ0w7O0FBRUEsd0JBQXdCLCtDQUFRO0FBQ2hDO0FBQ0E7O0FBRUEseUJBQXlCLDZDQUFNO0FBQy9CLHdCQUF3Qiw2Q0FBTTs7QUFFOUIseUJBQXlCLCtDQUFRO0FBQ2pDO0FBQ0E7O0FBRUEsb0JBQW9CLDZDQUFNLFlBQVk7O0FBRXRDLEVBQUUsb0dBQXlCO0FBQzNCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLG9HQUF5QjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLG9HQUF5QjtBQUMzQjtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsSUFBcUM7QUFDL0M7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1CQUFtQiwrREFBVztBQUM5QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEsK0RBQWUsSUFBSSxFQUFDO0FBQ0siLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjaC9yZWN0L2Rpc3QvcmVhY2gtcmVjdC5lc20uanM/YjFjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IG9ic2VydmVSZWN0IGZyb20gJ0ByZWFjaC9vYnNlcnZlLXJlY3QnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJ0ByZWFjaC91dGlscy91c2UtaXNvbW9ycGhpYy1sYXlvdXQtZWZmZWN0JztcbmltcG9ydCB7IGlzQm9vbGVhbiwgaXNGdW5jdGlvbiB9IGZyb20gJ0ByZWFjaC91dGlscy90eXBlLWNoZWNrJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5cbi8qKlxuICogV2VsY29tZSB0byBAcmVhY2gvcmVjdCFcbiAqXG4gKiBNZWFzdXJlcyBET00gZWxlbWVudHMgKGFrYS4gYm91bmRpbmcgY2xpZW50IHJlY3QpLlxuICpcbiAqIEBzZWUgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L2dldEJvdW5kaW5nQ2xpZW50UmVjdFxuICogQHNlZSBEb2NzICAgICAgICAgICAgICAgICAgaHR0cHM6Ly9yZWFjaC50ZWNoL3JlY3RcbiAqIEBzZWUgU291cmNlICAgICAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjaC9yZWFjaC11aS90cmVlL21haW4vcGFja2FnZXMvcmVjdFxuICovXG5cbi8qKlxuICogUmVjdFxuICpcbiAqIEBwYXJhbSBwcm9wc1xuICovXG5cbnZhciBSZWN0ID0gZnVuY3Rpb24gUmVjdChfcmVmKSB7XG4gIHZhciBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgICBfcmVmJG9ic2VydmUgPSBfcmVmLm9ic2VydmUsXG4gICAgICBvYnNlcnZlID0gX3JlZiRvYnNlcnZlID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRvYnNlcnZlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcmVjdCA9IHVzZVJlY3QocmVmLCB7XG4gICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgfSk7XG4gIHJldHVybiBjaGlsZHJlbih7XG4gICAgcmVmOiByZWYsXG4gICAgcmVjdDogcmVjdFxuICB9KTtcbn07XG4vKipcbiAqIEBzZWUgRG9jcyBodHRwczovL3JlYWNoLnRlY2gvcmVjdCNyZWN0LXByb3BzXG4gKi9cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFJlY3QuZGlzcGxheU5hbWUgPSBcIlJlY3RcIjtcbiAgUmVjdC5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb2JzZXJ2ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jXG4gIH07XG59IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLyoqXG4gKiB1c2VSZWN0XG4gKlxuICogQHBhcmFtIG5vZGVSZWZcbiAqIEBwYXJhbSBvYnNlcnZlXG4gKiBAcGFyYW0gb25DaGFuZ2VcbiAqL1xuZnVuY3Rpb24gdXNlUmVjdChub2RlUmVmLCBvYnNlcnZlT3JPcHRpb25zLCBkZXByZWNhdGVkX29uQ2hhbmdlKSB7XG4gIHZhciBvYnNlcnZlO1xuICB2YXIgb25DaGFuZ2U7XG5cbiAgaWYgKGlzQm9vbGVhbihvYnNlcnZlT3JPcHRpb25zKSkge1xuICAgIG9ic2VydmUgPSBvYnNlcnZlT3JPcHRpb25zO1xuICB9IGVsc2Uge1xuICAgIHZhciBfb2JzZXJ2ZU9yT3B0aW9ucyRvYnM7XG5cbiAgICBvYnNlcnZlID0gKF9vYnNlcnZlT3JPcHRpb25zJG9icyA9IG9ic2VydmVPck9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9ic2VydmVPck9wdGlvbnMub2JzZXJ2ZSkgIT0gbnVsbCA/IF9vYnNlcnZlT3JPcHRpb25zJG9icyA6IHRydWU7XG4gICAgb25DaGFuZ2UgPSBvYnNlcnZlT3JPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvYnNlcnZlT3JPcHRpb25zLm9uQ2hhbmdlO1xuICB9XG5cbiAgaWYgKGlzRnVuY3Rpb24oZGVwcmVjYXRlZF9vbkNoYW5nZSkpIHtcbiAgICBvbkNoYW5nZSA9IGRlcHJlY2F0ZWRfb25DaGFuZ2U7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIWlzQm9vbGVhbihvYnNlcnZlT3JPcHRpb25zKSwgXCJQYXNzaW5nIGBvYnNlcnZlYCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGB1c2VSZWN0YCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBSZWFjaCBVSS4gSW5zdGVhZCwgeW91IGNhbiBwYXNzIGFuIG9iamVjdCBvZiBvcHRpb25zIHdpdGggYW4gYG9ic2VydmVgIHByb3BlcnR5IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgKGB1c2VSZWN0KHJlZiwgeyBvYnNlcnZlIH0pYCkuXFxuXCIgKyBcIlNlZSBodHRwczovL3JlYWNoLnRlY2gvcmVjdCN1c2VyZWN0LW9ic2VydmVcIikgOiB2b2lkIDA7XG4gICAgfSwgW29ic2VydmVPck9wdGlvbnNdKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG5cbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghaXNGdW5jdGlvbihkZXByZWNhdGVkX29uQ2hhbmdlKSwgXCJQYXNzaW5nIGBvbkNoYW5nZWAgYXMgdGhlIHRoaXJkIGFyZ3VtZW50IHRvIGB1c2VSZWN0YCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBSZWFjaCBVSS4gSW5zdGVhZCwgeW91IGNhbiBwYXNzIGFuIG9iamVjdCBvZiBvcHRpb25zIHdpdGggYW4gYG9uQ2hhbmdlYCBwcm9wZXJ0eSBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IChgdXNlUmVjdChyZWYsIHsgb25DaGFuZ2UgfSlgKS5cXG5cIiArIFwiU2VlIGh0dHBzOi8vcmVhY2gudGVjaC9yZWN0I3VzZXJlY3Qtb25jaGFuZ2VcIikgOiB2b2lkIDA7XG4gICAgfSwgW2RlcHJlY2F0ZWRfb25DaGFuZ2VdKTtcbiAgfVxuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSB1c2VTdGF0ZShub2RlUmVmLmN1cnJlbnQpLFxuICAgICAgZWxlbWVudCA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldEVsZW1lbnQgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgdmFyIGluaXRpYWxSZWN0SXNTZXQgPSB1c2VSZWYoZmFsc2UpO1xuICB2YXIgaW5pdGlhbFJlZklzU2V0ID0gdXNlUmVmKGZhbHNlKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMiA9IHVzZVN0YXRlKG51bGwpLFxuICAgICAgcmVjdCA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRSZWN0ID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgb25DaGFuZ2VSZWYgPSB1c2VSZWYob25DaGFuZ2UpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG5cbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgb25DaGFuZ2VSZWYuY3VycmVudCA9IG9uQ2hhbmdlO1xuXG4gICAgaWYgKG5vZGVSZWYuY3VycmVudCAhPT0gZWxlbWVudCkge1xuICAgICAgc2V0RWxlbWVudChub2RlUmVmLmN1cnJlbnQpO1xuICAgIH1cbiAgfSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChlbGVtZW50ICYmICFpbml0aWFsUmVjdElzU2V0LmN1cnJlbnQpIHtcbiAgICAgIGluaXRpYWxSZWN0SXNTZXQuY3VycmVudCA9IHRydWU7XG4gICAgICBzZXRSZWN0KGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgIH1cbiAgfSwgW2VsZW1lbnRdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFvYnNlcnZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVsZW0gPSBlbGVtZW50OyAvLyBTdGF0ZSBpbml0aWFsaXplcyBiZWZvcmUgcmVmcyBhcmUgcGxhY2VkLCBtZWFuaW5nIHRoZSBlbGVtZW50IHN0YXRlIHdpbGxcbiAgICAvLyBiZSB1bmRlZmluZWQgb24gdGhlIGZpcnN0IHJlbmRlci4gV2Ugc3RpbGwgd2FudCB0aGUgcmVjdCBvbiB0aGUgZmlyc3RcbiAgICAvLyByZW5kZXIsIHNvIGluaXRpYWxseSB3ZSdsbCB1c2UgdGhlIG5vZGVSZWYgdGhhdCB3YXMgcGFzc2VkIGluc3RlYWQgb2ZcbiAgICAvLyBzdGF0ZSBmb3Igb3VyIG1lYXN1cmVtZW50cy5cblxuICAgIGlmICghaW5pdGlhbFJlZklzU2V0LmN1cnJlbnQpIHtcbiAgICAgIGluaXRpYWxSZWZJc1NldC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIGVsZW0gPSBub2RlUmVmLmN1cnJlbnQ7XG4gICAgfVxuXG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIllvdSBuZWVkIHRvIHBsYWNlIHRoZSByZWZcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb2JzZXJ2ZXIgPSBvYnNlcnZlUmVjdChlbGVtLCBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgb25DaGFuZ2VSZWYuY3VycmVudCA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2VSZWYuY3VycmVudChyZWN0KTtcbiAgICAgIHNldFJlY3QocmVjdCk7XG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSgpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBvYnNlcnZlci51bm9ic2VydmUoKTtcbiAgICB9O1xuICB9LCBbb2JzZXJ2ZSwgZWxlbWVudCwgbm9kZVJlZl0pO1xuICByZXR1cm4gcmVjdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVjdDtcbmV4cG9ydCB7IFJlY3QsIHVzZVJlY3QgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@reach/rect/dist/reach-rect.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"canUseDOM\": function() { return /* binding */ canUseDOM; }\n/* harmony export */ });\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL2Nhbi11c2UtZG9tL2Rpc3QvcmVhY2gtdXRpbHMtY2FuLXVzZS1kb20uZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBRXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY2gvdXRpbHMvY2FuLXVzZS1kb20vZGlzdC9yZWFjaC11dGlscy1jYW4tdXNlLWRvbS5lc20uanM/NTM1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjYW5Vc2VET00oKSB7XG4gIHJldHVybiAhISh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG59XG5cbmV4cG9ydCB7IGNhblVzZURPTSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/compose-event-handlers/dist/reach-utils-compose-event-handlers.esm.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@reach/utils/compose-event-handlers/dist/reach-utils-compose-event-handlers.esm.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"composeEventHandlers\": function() { return /* binding */ composeEventHandlers; }\n/* harmony export */ });\n/**\n * Wraps a lib-defined event handler and a user-defined event handler, returning\n * a single handler that allows a user to prevent lib-defined handlers from\n * firing.\n *\n * @param theirHandler User-supplied event handler\n * @param ourHandler Library-supplied event handler\n */\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return function (event) {\n    theirHandler && theirHandler(event);\n\n    if (!event.defaultPrevented) {\n      return ourHandler(event);\n    }\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL2NvbXBvc2UtZXZlbnQtaGFuZGxlcnMvZGlzdC9yZWFjaC11dGlscy1jb21wb3NlLWV2ZW50LWhhbmRsZXJzLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL2NvbXBvc2UtZXZlbnQtaGFuZGxlcnMvZGlzdC9yZWFjaC11dGlscy1jb21wb3NlLWV2ZW50LWhhbmRsZXJzLmVzbS5qcz80MDYzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogV3JhcHMgYSBsaWItZGVmaW5lZCBldmVudCBoYW5kbGVyIGFuZCBhIHVzZXItZGVmaW5lZCBldmVudCBoYW5kbGVyLCByZXR1cm5pbmdcbiAqIGEgc2luZ2xlIGhhbmRsZXIgdGhhdCBhbGxvd3MgYSB1c2VyIHRvIHByZXZlbnQgbGliLWRlZmluZWQgaGFuZGxlcnMgZnJvbVxuICogZmlyaW5nLlxuICpcbiAqIEBwYXJhbSB0aGVpckhhbmRsZXIgVXNlci1zdXBwbGllZCBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0gb3VySGFuZGxlciBMaWJyYXJ5LXN1cHBsaWVkIGV2ZW50IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gY29tcG9zZUV2ZW50SGFuZGxlcnModGhlaXJIYW5kbGVyLCBvdXJIYW5kbGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB0aGVpckhhbmRsZXIgJiYgdGhlaXJIYW5kbGVyKGV2ZW50KTtcblxuICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuIG91ckhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IHsgY29tcG9zZUV2ZW50SGFuZGxlcnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/compose-event-handlers/dist/reach-utils-compose-event-handlers.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/compose-refs/dist/reach-utils-compose-refs.esm.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@reach/utils/compose-refs/dist/reach-utils-compose-refs.esm.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"assignRef\": function() { return /* binding */ assignRef; },\n/* harmony export */   \"useComposedRefs\": function() { return /* binding */ useComposedRefs; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _type_check_dist_reach_utils_type_check_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../type-check/dist/reach-utils-type-check.esm.js */ \"./node_modules/@reach/utils/type-check/dist/reach-utils-type-check.esm.js\");\n\n\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  it = o[Symbol.iterator]();\n  return it.next.bind(it);\n}\n\n/**\n * Passes or assigns an arbitrary value to a ref function or object.\n *\n * @param ref\n * @param value\n */\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if ((0,_type_check_dist_reach_utils_type_check_esm_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(ref)) {\n    ref(value);\n  } else {\n    try {\n      ref.current = value;\n    } catch (error) {\n      throw new Error(\"Cannot assign value \\\"\" + value + \"\\\" to ref \\\"\" + ref + \"\\\"\");\n    }\n  }\n}\n/**\n * Passes or assigns a value to multiple refs (typically a DOM node). Useful for\n * dealing with components that need an explicit ref for DOM calculations but\n * also forwards refs assigned by an app.\n *\n * @param refs Refs to fork\n */\n\nfunction useComposedRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (node) {\n    for (var _iterator = _createForOfIteratorHelperLoose(refs), _step; !(_step = _iterator()).done;) {\n      var ref = _step.value;\n      assignRef(ref, node);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, refs);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL2NvbXBvc2UtcmVmcy9kaXN0L3JlYWNoLXV0aWxzLWNvbXBvc2UtcmVmcy5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBb0M7QUFDNkM7O0FBRWpGO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7O0FBRWxEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLDBGQUFVO0FBQ2hCO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNFQUFzRSxhQUFhO0FBQ25GO0FBQ0E7O0FBRUEsU0FBUyxrREFBVztBQUNwQix1RUFBdUUsNEJBQTRCO0FBQ25HO0FBQ0E7QUFDQSxNQUFNOztBQUVOLEdBQUc7QUFDSDs7QUFFc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjaC91dGlscy9jb21wb3NlLXJlZnMvZGlzdC9yZWFjaC11dGlscy1jb21wb3NlLXJlZnMuZXNtLmpzP2Q4YWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vLi4vdHlwZS1jaGVjay9kaXN0L3JlYWNoLXV0aWxzLXR5cGUtY2hlY2suZXNtLmpzJztcblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UobywgYWxsb3dBcnJheUxpa2UpIHtcbiAgdmFyIGl0O1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgaWYgKGl0KSBvID0gaXQ7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHtcbiAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IG9baSsrXVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gIH1cblxuICBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpO1xuICByZXR1cm4gaXQubmV4dC5iaW5kKGl0KTtcbn1cblxuLyoqXG4gKiBQYXNzZXMgb3IgYXNzaWducyBhbiBhcmJpdHJhcnkgdmFsdWUgdG8gYSByZWYgZnVuY3Rpb24gb3Igb2JqZWN0LlxuICpcbiAqIEBwYXJhbSByZWZcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5mdW5jdGlvbiBhc3NpZ25SZWYocmVmLCB2YWx1ZSkge1xuICBpZiAocmVmID09IG51bGwpIHJldHVybjtcblxuICBpZiAoaXNGdW5jdGlvbihyZWYpKSB7XG4gICAgcmVmKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFzc2lnbiB2YWx1ZSBcXFwiXCIgKyB2YWx1ZSArIFwiXFxcIiB0byByZWYgXFxcIlwiICsgcmVmICsgXCJcXFwiXCIpO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBQYXNzZXMgb3IgYXNzaWducyBhIHZhbHVlIHRvIG11bHRpcGxlIHJlZnMgKHR5cGljYWxseSBhIERPTSBub2RlKS4gVXNlZnVsIGZvclxuICogZGVhbGluZyB3aXRoIGNvbXBvbmVudHMgdGhhdCBuZWVkIGFuIGV4cGxpY2l0IHJlZiBmb3IgRE9NIGNhbGN1bGF0aW9ucyBidXRcbiAqIGFsc28gZm9yd2FyZHMgcmVmcyBhc3NpZ25lZCBieSBhbiBhcHAuXG4gKlxuICogQHBhcmFtIHJlZnMgUmVmcyB0byBmb3JrXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29tcG9zZWRSZWZzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVmcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICByZWZzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShyZWZzKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgIHZhciByZWYgPSBfc3RlcC52YWx1ZTtcbiAgICAgIGFzc2lnblJlZihyZWYsIG5vZGUpO1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuXG4gIH0sIHJlZnMpO1xufVxuXG5leHBvcnQgeyBhc3NpZ25SZWYsIHVzZUNvbXBvc2VkUmVmcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/compose-refs/dist/reach-utils-compose-refs.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/context/dist/reach-utils-context.esm.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@reach/utils/context/dist/reach-utils-context.esm.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createNamedContext\": function() { return /* binding */ createNamedContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction createNamedContext(name, defaultValue) {\n  var Ctx = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(defaultValue);\n\n  if (true) {\n    Ctx.displayName = name;\n  }\n\n  return Ctx;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL2NvbnRleHQvZGlzdC9yZWFjaC11dGlscy1jb250ZXh0LmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7O0FBRXRDO0FBQ0EseUJBQXlCLG9EQUFhOztBQUV0QyxNQUFNLElBQXFDO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjaC91dGlscy9jb250ZXh0L2Rpc3QvcmVhY2gtdXRpbHMtY29udGV4dC5lc20uanM/YjJkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBjcmVhdGVOYW1lZENvbnRleHQobmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBDdHggPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICBDdHguZGlzcGxheU5hbWUgPSBuYW1lO1xuICB9XG5cbiAgcmV0dXJuIEN0eDtcbn1cblxuZXhwb3J0IHsgY3JlYXRlTmFtZWRDb250ZXh0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/context/dist/reach-utils-context.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/dev-utils/dist/reach-utils-dev-utils.esm.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@reach/utils/dev-utils/dist/reach-utils-dev-utils.esm.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"checkStyles\": function() { return /* binding */ checkStyles; },\n/* harmony export */   \"useCheckStyles\": function() { return /* binding */ useCheckStyles; },\n/* harmony export */   \"useControlledSwitchWarning\": function() { return /* binding */ useControlledSwitchWarning; },\n/* harmony export */   \"useStateLogger\": function() { return /* binding */ useStateLogger; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n\n\n/* eslint-disable react-hooks/rules-of-hooks */\nvar checkedPkgs = {};\n/**\n * Just a lil state logger\n *\n * @param state\n * @param DEBUG\n */\n\nfunction useStateLogger(state, DEBUG) {\n  if (DEBUG === void 0) {\n    DEBUG = false;\n  }\n\n  if (true) {\n    var debugRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(DEBUG);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n      debugRef.current = DEBUG;\n    }, [DEBUG]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n      if (debugRef.current) {\n        console.group(\"State Updated\");\n        console.log(\"%c\" + state, \"font-weight: normal; font-size: 120%; font-style: italic;\");\n        console.groupEnd();\n      }\n    }, [state]);\n  }\n}\n/**\n * When in dev mode, checks that styles for a given `@reach` package are loaded.\n *\n * @param packageName Name of the package to check.\n * @example checkStyles(\"dialog\") will check for styles for @reach/dialog\n */\n\nfunction checkStyles(packageName) {\n  if (true) {\n    // In CJS files, process.env.NODE_ENV is stripped from our build, but we\n    // need it to prevent style checks from clogging up user logs while testing.\n    // This is a workaround until we can tweak the build a bit to accommodate.\n    var _ref = typeof process !== \"undefined\" ? process.env : {\n      NODE_ENV: \"development\"\n    },\n        environment = _ref.NODE_ENV; // only check once per package\n\n\n    if (checkedPkgs[packageName]) return;\n    checkedPkgs[packageName] = true;\n\n    if (environment === \"development\" && parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--reach-\" + packageName), 10) !== 1) {\n      console.warn(\"@reach/\" + packageName + \" styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\\n  \\n      import \\\"@reach/\" + packageName + \"/styles.css\\\";\\n  \\n    Otherwise you'll need to include them some other way:\\n  \\n      <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"node_modules/@reach/\" + packageName + \"/styles.css\\\" />\\n  \\n    For more information visit https://ui.reach.tech/styling.\\n    \");\n    }\n  }\n}\n/**\n * When in dev mode, checks that styles for a given `@reach` package are loaded.\n *\n * @param packageName Name of the package to check.\n * @example useCheckStyles(\"dialog\") will check for styles for @reach/dialog\n */\n\nfunction useCheckStyles(packageName) {\n  if (true) {\n    var name = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(packageName);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n      return void (name.current = packageName);\n    }, [packageName]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n      return checkStyles(name.current);\n    }, []);\n  }\n}\n/**\n * Logs a warning in dev mode when a component switches from controlled to\n * uncontrolled, or vice versa\n *\n * A single prop should typically be used to determine whether or not a\n * component is controlled or not.\n *\n * @param controlledValue\n * @param controlledPropName\n * @param componentName\n */\n\nfunction useControlledSwitchWarning(controlledValue, controlledPropName, componentName) {\n  if (true) {\n    var controlledRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(controlledValue != null);\n    var nameCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n      componentName: componentName,\n      controlledPropName: controlledPropName\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n      nameCache.current = {\n        componentName: componentName,\n        controlledPropName: controlledPropName\n      };\n    }, [componentName, controlledPropName]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n      var wasControlled = controlledRef.current;\n      var _nameCache$current = nameCache.current,\n          componentName = _nameCache$current.componentName,\n          controlledPropName = _nameCache$current.controlledPropName;\n      var isControlled = controlledValue != null;\n\n      if (wasControlled !== isControlled) {\n        console.error(\"A component is changing an \" + (wasControlled ? \"\" : \"un\") + \"controlled `\" + controlledPropName + \"` state of \" + componentName + \" to be \" + (wasControlled ? \"un\" : \"\") + \"controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled \" + componentName + \" element for the lifetime of the component.\\n      More info: https://fb.me/react-controlled-components\");\n      }\n    }, [controlledValue]);\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL2Rldi11dGlscy9kaXN0L3JlYWNoLXV0aWxzLWRldi11dGlscy5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEwQzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLElBQXFDO0FBQzNDLG1CQUFtQiw2Q0FBTTtBQUN6QixJQUFJLGdEQUFTO0FBQ2I7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSx3REFBd0QsaUJBQWlCLG1CQUFtQjtBQUM1RjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLElBQXFDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixPQUFPLG1CQUFtQixPQUFPO0FBQ3ZEO0FBQ0EsS0FBSztBQUNMLHFDQUFxQzs7O0FBR3JDO0FBQ0E7O0FBRUE7QUFDQSx5UEFBeVA7QUFDelA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQyxlQUFlLDZDQUFNO0FBQ3JCLElBQUksZ0RBQVM7QUFDYjtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLElBQXFDO0FBQzNDLHdCQUF3Qiw2Q0FBTTtBQUM5QixvQkFBb0IsNkNBQU07QUFDMUI7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRW1GIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY2gvdXRpbHMvZGV2LXV0aWxzL2Rpc3QvcmVhY2gtdXRpbHMtZGV2LXV0aWxzLmVzbS5qcz80ZDYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rcyAqL1xudmFyIGNoZWNrZWRQa2dzID0ge307XG4vKipcbiAqIEp1c3QgYSBsaWwgc3RhdGUgbG9nZ2VyXG4gKlxuICogQHBhcmFtIHN0YXRlXG4gKiBAcGFyYW0gREVCVUdcbiAqL1xuXG5mdW5jdGlvbiB1c2VTdGF0ZUxvZ2dlcihzdGF0ZSwgREVCVUcpIHtcbiAgaWYgKERFQlVHID09PSB2b2lkIDApIHtcbiAgICBERUJVRyA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHZhciBkZWJ1Z1JlZiA9IHVzZVJlZihERUJVRyk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlYnVnUmVmLmN1cnJlbnQgPSBERUJVRztcbiAgICB9LCBbREVCVUddKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGRlYnVnUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc29sZS5ncm91cChcIlN0YXRlIFVwZGF0ZWRcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiJWNcIiArIHN0YXRlLCBcImZvbnQtd2VpZ2h0OiBub3JtYWw7IGZvbnQtc2l6ZTogMTIwJTsgZm9udC1zdHlsZTogaXRhbGljO1wiKTtcbiAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgfVxuICAgIH0sIFtzdGF0ZV0pO1xuICB9XG59XG4vKipcbiAqIFdoZW4gaW4gZGV2IG1vZGUsIGNoZWNrcyB0aGF0IHN0eWxlcyBmb3IgYSBnaXZlbiBgQHJlYWNoYCBwYWNrYWdlIGFyZSBsb2FkZWQuXG4gKlxuICogQHBhcmFtIHBhY2thZ2VOYW1lIE5hbWUgb2YgdGhlIHBhY2thZ2UgdG8gY2hlY2suXG4gKiBAZXhhbXBsZSBjaGVja1N0eWxlcyhcImRpYWxvZ1wiKSB3aWxsIGNoZWNrIGZvciBzdHlsZXMgZm9yIEByZWFjaC9kaWFsb2dcbiAqL1xuXG5mdW5jdGlvbiBjaGVja1N0eWxlcyhwYWNrYWdlTmFtZSkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgLy8gSW4gQ0pTIGZpbGVzLCBwcm9jZXNzLmVudi5OT0RFX0VOViBpcyBzdHJpcHBlZCBmcm9tIG91ciBidWlsZCwgYnV0IHdlXG4gICAgLy8gbmVlZCBpdCB0byBwcmV2ZW50IHN0eWxlIGNoZWNrcyBmcm9tIGNsb2dnaW5nIHVwIHVzZXIgbG9ncyB3aGlsZSB0ZXN0aW5nLlxuICAgIC8vIFRoaXMgaXMgYSB3b3JrYXJvdW5kIHVudGlsIHdlIGNhbiB0d2VhayB0aGUgYnVpbGQgYSBiaXQgdG8gYWNjb21tb2RhdGUuXG4gICAgdmFyIF9yZWYgPSB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiA/IHByb2Nlc3MuZW52IDoge1xuICAgICAgTk9ERV9FTlY6IFwiZGV2ZWxvcG1lbnRcIlxuICAgIH0sXG4gICAgICAgIGVudmlyb25tZW50ID0gX3JlZi5OT0RFX0VOVjsgLy8gb25seSBjaGVjayBvbmNlIHBlciBwYWNrYWdlXG5cblxuICAgIGlmIChjaGVja2VkUGtnc1twYWNrYWdlTmFtZV0pIHJldHVybjtcbiAgICBjaGVja2VkUGtnc1twYWNrYWdlTmFtZV0gPSB0cnVlO1xuXG4gICAgaWYgKGVudmlyb25tZW50ID09PSBcImRldmVsb3BtZW50XCIgJiYgcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZ2V0UHJvcGVydHlWYWx1ZShcIi0tcmVhY2gtXCIgKyBwYWNrYWdlTmFtZSksIDEwKSAhPT0gMSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQHJlYWNoL1wiICsgcGFja2FnZU5hbWUgKyBcIiBzdHlsZXMgbm90IGZvdW5kLiBJZiB5b3UgYXJlIHVzaW5nIGEgYnVuZGxlciBsaWtlIHdlYnBhY2sgb3IgcGFyY2VsIGluY2x1ZGUgdGhpcyBpbiB0aGUgZW50cnkgZmlsZSBvZiB5b3VyIGFwcCBiZWZvcmUgYW55IG9mIHlvdXIgb3duIHN0eWxlczpcXG4gIFxcbiAgICAgIGltcG9ydCBcXFwiQHJlYWNoL1wiICsgcGFja2FnZU5hbWUgKyBcIi9zdHlsZXMuY3NzXFxcIjtcXG4gIFxcbiAgICBPdGhlcndpc2UgeW91J2xsIG5lZWQgdG8gaW5jbHVkZSB0aGVtIHNvbWUgb3RoZXIgd2F5OlxcbiAgXFxuICAgICAgPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwibm9kZV9tb2R1bGVzL0ByZWFjaC9cIiArIHBhY2thZ2VOYW1lICsgXCIvc3R5bGVzLmNzc1xcXCIgLz5cXG4gIFxcbiAgICBGb3IgbW9yZSBpbmZvcm1hdGlvbiB2aXNpdCBodHRwczovL3VpLnJlYWNoLnRlY2gvc3R5bGluZy5cXG4gICAgXCIpO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBXaGVuIGluIGRldiBtb2RlLCBjaGVja3MgdGhhdCBzdHlsZXMgZm9yIGEgZ2l2ZW4gYEByZWFjaGAgcGFja2FnZSBhcmUgbG9hZGVkLlxuICpcbiAqIEBwYXJhbSBwYWNrYWdlTmFtZSBOYW1lIG9mIHRoZSBwYWNrYWdlIHRvIGNoZWNrLlxuICogQGV4YW1wbGUgdXNlQ2hlY2tTdHlsZXMoXCJkaWFsb2dcIikgd2lsbCBjaGVjayBmb3Igc3R5bGVzIGZvciBAcmVhY2gvZGlhbG9nXG4gKi9cblxuZnVuY3Rpb24gdXNlQ2hlY2tTdHlsZXMocGFja2FnZU5hbWUpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHZhciBuYW1lID0gdXNlUmVmKHBhY2thZ2VOYW1lKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHZvaWQgKG5hbWUuY3VycmVudCA9IHBhY2thZ2VOYW1lKTtcbiAgICB9LCBbcGFja2FnZU5hbWVdKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNoZWNrU3R5bGVzKG5hbWUuY3VycmVudCk7XG4gICAgfSwgW10pO1xuICB9XG59XG4vKipcbiAqIExvZ3MgYSB3YXJuaW5nIGluIGRldiBtb2RlIHdoZW4gYSBjb21wb25lbnQgc3dpdGNoZXMgZnJvbSBjb250cm9sbGVkIHRvXG4gKiB1bmNvbnRyb2xsZWQsIG9yIHZpY2UgdmVyc2FcbiAqXG4gKiBBIHNpbmdsZSBwcm9wIHNob3VsZCB0eXBpY2FsbHkgYmUgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgYVxuICogY29tcG9uZW50IGlzIGNvbnRyb2xsZWQgb3Igbm90LlxuICpcbiAqIEBwYXJhbSBjb250cm9sbGVkVmFsdWVcbiAqIEBwYXJhbSBjb250cm9sbGVkUHJvcE5hbWVcbiAqIEBwYXJhbSBjb21wb25lbnROYW1lXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29udHJvbGxlZFN3aXRjaFdhcm5pbmcoY29udHJvbGxlZFZhbHVlLCBjb250cm9sbGVkUHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHZhciBjb250cm9sbGVkUmVmID0gdXNlUmVmKGNvbnRyb2xsZWRWYWx1ZSAhPSBudWxsKTtcbiAgICB2YXIgbmFtZUNhY2hlID0gdXNlUmVmKHtcbiAgICAgIGNvbXBvbmVudE5hbWU6IGNvbXBvbmVudE5hbWUsXG4gICAgICBjb250cm9sbGVkUHJvcE5hbWU6IGNvbnRyb2xsZWRQcm9wTmFtZVxuICAgIH0pO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICBuYW1lQ2FjaGUuY3VycmVudCA9IHtcbiAgICAgICAgY29tcG9uZW50TmFtZTogY29tcG9uZW50TmFtZSxcbiAgICAgICAgY29udHJvbGxlZFByb3BOYW1lOiBjb250cm9sbGVkUHJvcE5hbWVcbiAgICAgIH07XG4gICAgfSwgW2NvbXBvbmVudE5hbWUsIGNvbnRyb2xsZWRQcm9wTmFtZV0pO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgd2FzQ29udHJvbGxlZCA9IGNvbnRyb2xsZWRSZWYuY3VycmVudDtcbiAgICAgIHZhciBfbmFtZUNhY2hlJGN1cnJlbnQgPSBuYW1lQ2FjaGUuY3VycmVudCxcbiAgICAgICAgICBjb21wb25lbnROYW1lID0gX25hbWVDYWNoZSRjdXJyZW50LmNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgY29udHJvbGxlZFByb3BOYW1lID0gX25hbWVDYWNoZSRjdXJyZW50LmNvbnRyb2xsZWRQcm9wTmFtZTtcbiAgICAgIHZhciBpc0NvbnRyb2xsZWQgPSBjb250cm9sbGVkVmFsdWUgIT0gbnVsbDtcblxuICAgICAgaWYgKHdhc0NvbnRyb2xsZWQgIT09IGlzQ29udHJvbGxlZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgYW4gXCIgKyAod2FzQ29udHJvbGxlZCA/IFwiXCIgOiBcInVuXCIpICsgXCJjb250cm9sbGVkIGBcIiArIGNvbnRyb2xsZWRQcm9wTmFtZSArIFwiYCBzdGF0ZSBvZiBcIiArIGNvbXBvbmVudE5hbWUgKyBcIiB0byBiZSBcIiArICh3YXNDb250cm9sbGVkID8gXCJ1blwiIDogXCJcIikgKyBcImNvbnRyb2xsZWQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSB0aGUgdmFsdWUgY2hhbmdpbmcgZnJvbSB1bmRlZmluZWQgdG8gYSBkZWZpbmVkIHZhbHVlLCB3aGljaCBzaG91bGQgbm90IGhhcHBlbi4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBcIiArIGNvbXBvbmVudE5hbWUgKyBcIiBlbGVtZW50IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC5cXG4gICAgICBNb3JlIGluZm86IGh0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzXCIpO1xuICAgICAgfVxuICAgIH0sIFtjb250cm9sbGVkVmFsdWVdKTtcbiAgfVxufVxuXG5leHBvcnQgeyBjaGVja1N0eWxlcywgdXNlQ2hlY2tTdHlsZXMsIHVzZUNvbnRyb2xsZWRTd2l0Y2hXYXJuaW5nLCB1c2VTdGF0ZUxvZ2dlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/dev-utils/dist/reach-utils-dev-utils.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/make-id/dist/reach-utils-make-id.esm.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@reach/utils/make-id/dist/reach-utils-make-id.esm.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"makeId\": function() { return /* binding */ makeId; }\n/* harmony export */ });\n/**\n * Joins strings to format IDs for compound components.\n *\n * @param args\n */\nfunction makeId() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.filter(function (val) {\n    return val != null;\n  }).join(\"--\");\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL21ha2UtaWQvZGlzdC9yZWFjaC11dGlscy1tYWtlLWlkLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLGFBQWE7QUFDbkY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVrQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL21ha2UtaWQvZGlzdC9yZWFjaC11dGlscy1tYWtlLWlkLmVzbS5qcz84YTMwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSm9pbnMgc3RyaW5ncyB0byBmb3JtYXQgSURzIGZvciBjb21wb3VuZCBjb21wb25lbnRzLlxuICpcbiAqIEBwYXJhbSBhcmdzXG4gKi9cbmZ1bmN0aW9uIG1ha2VJZCgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBhcmdzLmZpbHRlcihmdW5jdGlvbiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbCAhPSBudWxsO1xuICB9KS5qb2luKFwiLS1cIik7XG59XG5cbmV4cG9ydCB7IG1ha2VJZCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/make-id/dist/reach-utils-make-id.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/noop/dist/reach-utils-noop.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@reach/utils/noop/dist/reach-utils-noop.esm.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"noop\": function() { return /* binding */ noop; }\n/* harmony export */ });\nfunction noop() {}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL25vb3AvZGlzdC9yZWFjaC11dGlscy1ub29wLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBRWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY2gvdXRpbHMvbm9vcC9kaXN0L3JlYWNoLXV0aWxzLW5vb3AuZXNtLmpzP2RhZDAiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmV4cG9ydCB7IG5vb3AgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/noop/dist/reach-utils-noop.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/owner-document/dist/reach-utils-owner-document.esm.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@reach/utils/owner-document/dist/reach-utils-owner-document.esm.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getOwnerDocument\": function() { return /* binding */ getOwnerDocument; },\n/* harmony export */   \"getOwnerWindow\": function() { return /* binding */ getOwnerWindow; }\n/* harmony export */ });\n/* harmony import */ var _can_use_dom_dist_reach_utils_can_use_dom_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../can-use-dom/dist/reach-utils-can-use-dom.esm.js */ \"./node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js\");\n\n\n/**\n * Get an element's owner document. Useful when components are used in iframes\n * or other environments like dev tools.\n *\n * @param element\n */\n\nfunction getOwnerDocument(element) {\n  return (0,_can_use_dom_dist_reach_utils_can_use_dom_esm_js__WEBPACK_IMPORTED_MODULE_0__.canUseDOM)() ? element ? element.ownerDocument : document : null;\n}\n/**\n * TODO: Remove in 1.0\n */\n\nfunction getOwnerWindow(element) {\n  var ownerDocument = getOwnerDocument(element);\n  return ownerDocument ? ownerDocument.defaultView || window : null;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL293bmVyLWRvY3VtZW50L2Rpc3QvcmVhY2gtdXRpbHMtb3duZXItZG9jdW1lbnQuZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrRjs7QUFFbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUywyRkFBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjaC91dGlscy9vd25lci1kb2N1bWVudC9kaXN0L3JlYWNoLXV0aWxzLW93bmVyLWRvY3VtZW50LmVzbS5qcz83ZjI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhblVzZURPTSB9IGZyb20gJy4uLy4uL2Nhbi11c2UtZG9tL2Rpc3QvcmVhY2gtdXRpbHMtY2FuLXVzZS1kb20uZXNtLmpzJztcblxuLyoqXG4gKiBHZXQgYW4gZWxlbWVudCdzIG93bmVyIGRvY3VtZW50LiBVc2VmdWwgd2hlbiBjb21wb25lbnRzIGFyZSB1c2VkIGluIGlmcmFtZXNcbiAqIG9yIG90aGVyIGVudmlyb25tZW50cyBsaWtlIGRldiB0b29scy5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudFxuICovXG5cbmZ1bmN0aW9uIGdldE93bmVyRG9jdW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gY2FuVXNlRE9NKCkgPyBlbGVtZW50ID8gZWxlbWVudC5vd25lckRvY3VtZW50IDogZG9jdW1lbnQgOiBudWxsO1xufVxuLyoqXG4gKiBUT0RPOiBSZW1vdmUgaW4gMS4wXG4gKi9cblxuZnVuY3Rpb24gZ2V0T3duZXJXaW5kb3coZWxlbWVudCkge1xuICB2YXIgb3duZXJEb2N1bWVudCA9IGdldE93bmVyRG9jdW1lbnQoZWxlbWVudCk7XG4gIHJldHVybiBvd25lckRvY3VtZW50ID8gb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3cgOiBudWxsO1xufVxuXG5leHBvcnQgeyBnZXRPd25lckRvY3VtZW50LCBnZXRPd25lcldpbmRvdyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/owner-document/dist/reach-utils-owner-document.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/type-check/dist/reach-utils-type-check.esm.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@reach/utils/type-check/dist/reach-utils-type-check.esm.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isBoolean\": function() { return /* binding */ isBoolean; },\n/* harmony export */   \"isFunction\": function() { return /* binding */ isFunction; },\n/* harmony export */   \"isNumber\": function() { return /* binding */ isNumber; },\n/* harmony export */   \"isString\": function() { return /* binding */ isString; }\n/* harmony export */ });\n/**\n * Checks whether or not a value is a boolean.\n *\n * @param value\n */\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\n/**\n * Checks whether or not a value is a function.\n *\n * @param value\n */\n\nfunction isFunction(value) {\n  // eslint-disable-next-line eqeqeq\n  return !!(value && {}.toString.call(value) == \"[object Function]\");\n}\n/**\n * Checks whether or not a value is a number.\n *\n * @param value\n */\n\nfunction isNumber(value) {\n  return typeof value === \"number\" && !isNaN(value);\n}\n/**\n * Checks whether or not a value is a string.\n *\n * @param value\n */\n\nfunction isString(value) {\n  return typeof value === \"string\";\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL3R5cGUtY2hlY2svZGlzdC9yZWFjaC11dGlscy10eXBlLWNoZWNrLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRXFEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY2gvdXRpbHMvdHlwZS1jaGVjay9kaXN0L3JlYWNoLXV0aWxzLXR5cGUtY2hlY2suZXNtLmpzP2MwMTciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgYSB2YWx1ZSBpcyBhIGJvb2xlYW4uXG4gKlxuICogQHBhcmFtIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIjtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGEgdmFsdWUgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gdmFsdWVcbiAqL1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgcmV0dXJuICEhKHZhbHVlICYmIHt9LnRvU3RyaW5nLmNhbGwodmFsdWUpID09IFwiW29iamVjdCBGdW5jdGlvbl1cIik7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCBhIHZhbHVlIGlzIGEgbnVtYmVyLlxuICpcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgIWlzTmFOKHZhbHVlKTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGEgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHZhbHVlXG4gKi9cblxuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIjtcbn1cblxuZXhwb3J0IHsgaXNCb29sZWFuLCBpc0Z1bmN0aW9uLCBpc051bWJlciwgaXNTdHJpbmcgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/type-check/dist/reach-utils-type-check.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/use-force-update/dist/reach-utils-use-force-update.esm.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@reach/utils/use-force-update/dist/reach-utils-use-force-update.esm.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useForceUpdate\": function() { return /* binding */ useForceUpdate; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/**\n * Forces a re-render, similar to `forceUpdate` in class components.\n */\n\nfunction useForceUpdate() {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Object.create(null)),\n      dispatch = _useState[1];\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    dispatch(Object.create(null));\n  }, []);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL3VzZS1mb3JjZS11cGRhdGUvZGlzdC9yZWFjaC11dGlscy11c2UtZm9yY2UtdXBkYXRlLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7O0FBRTlDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQiwrQ0FBUTtBQUMxQjs7QUFFQSxTQUFTLGtEQUFXO0FBQ3BCO0FBQ0EsR0FBRztBQUNIOztBQUUwQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL3VzZS1mb3JjZS11cGRhdGUvZGlzdC9yZWFjaC11dGlscy11c2UtZm9yY2UtdXBkYXRlLmVzbS5qcz81MDMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBGb3JjZXMgYSByZS1yZW5kZXIsIHNpbWlsYXIgdG8gYGZvcmNlVXBkYXRlYCBpbiBjbGFzcyBjb21wb25lbnRzLlxuICovXG5cbmZ1bmN0aW9uIHVzZUZvcmNlVXBkYXRlKCkge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoT2JqZWN0LmNyZWF0ZShudWxsKSksXG4gICAgICBkaXNwYXRjaCA9IF91c2VTdGF0ZVsxXTtcblxuICByZXR1cm4gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGRpc3BhdGNoKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICB9LCBbXSk7XG59XG5cbmV4cG9ydCB7IHVzZUZvcmNlVXBkYXRlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/use-force-update/dist/reach-utils-use-force-update.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js ***!
  \*********************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useIsomorphicLayoutEffect\": function() { return /* binding */ useIsomorphicLayoutEffect; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _can_use_dom_dist_reach_utils_can_use_dom_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../can-use-dom/dist/reach-utils-can-use-dom.esm.js */ \"./node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js\");\n\n\n\n/**\n * React currently throws a warning when using useLayoutEffect on the server. To\n * get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\n * ensure we don't get a render flash for certain operations, but we may also\n * need affected components to render on the server. One example is when setting\n * a component's descendants to retrieve their index values.\n *\n * Important to note that using this hook as an escape hatch will break the\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\n * any server/client mismatch.\n *\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\n * likely that the component in question shouldn't be rendered on the server at\n * all, so a better approach would be to lazily render those in a parent\n * component after client-side hydration.\n *\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\n *\n * @param effect\n * @param deps\n */\n\nvar useIsomorphicLayoutEffect = /*#__PURE__*/(0,_can_use_dom_dist_reach_utils_can_use_dom_esm_js__WEBPACK_IMPORTED_MODULE_1__.canUseDOM)() ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL3VzZS1pc29tb3JwaGljLWxheW91dC1lZmZlY3QvZGlzdC9yZWFjaC11dGlscy11c2UtaXNvbW9ycGhpYy1sYXlvdXQtZWZmZWN0LmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1EO0FBQytCOztBQUVsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDLDJGQUFTLEtBQUssa0RBQWUsR0FBRyw0Q0FBUzs7QUFFakQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjaC91dGlscy91c2UtaXNvbW9ycGhpYy1sYXlvdXQtZWZmZWN0L2Rpc3QvcmVhY2gtdXRpbHMtdXNlLWlzb21vcnBoaWMtbGF5b3V0LWVmZmVjdC5lc20uanM/OWQzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNhblVzZURPTSB9IGZyb20gJy4uLy4uL2Nhbi11c2UtZG9tL2Rpc3QvcmVhY2gtdXRpbHMtY2FuLXVzZS1kb20uZXNtLmpzJztcblxuLyoqXG4gKiBSZWFjdCBjdXJyZW50bHkgdGhyb3dzIGEgd2FybmluZyB3aGVuIHVzaW5nIHVzZUxheW91dEVmZmVjdCBvbiB0aGUgc2VydmVyLiBUb1xuICogZ2V0IGFyb3VuZCBpdCwgd2UgY2FuIGNvbmRpdGlvbmFsbHkgdXNlRWZmZWN0IG9uIHRoZSBzZXJ2ZXIgKG5vLW9wKSBhbmRcbiAqIHVzZUxheW91dEVmZmVjdCBpbiB0aGUgYnJvd3Nlci4gV2Ugb2NjYXNpb25hbGx5IG5lZWQgdXNlTGF5b3V0RWZmZWN0IHRvXG4gKiBlbnN1cmUgd2UgZG9uJ3QgZ2V0IGEgcmVuZGVyIGZsYXNoIGZvciBjZXJ0YWluIG9wZXJhdGlvbnMsIGJ1dCB3ZSBtYXkgYWxzb1xuICogbmVlZCBhZmZlY3RlZCBjb21wb25lbnRzIHRvIHJlbmRlciBvbiB0aGUgc2VydmVyLiBPbmUgZXhhbXBsZSBpcyB3aGVuIHNldHRpbmdcbiAqIGEgY29tcG9uZW50J3MgZGVzY2VuZGFudHMgdG8gcmV0cmlldmUgdGhlaXIgaW5kZXggdmFsdWVzLlxuICpcbiAqIEltcG9ydGFudCB0byBub3RlIHRoYXQgdXNpbmcgdGhpcyBob29rIGFzIGFuIGVzY2FwZSBoYXRjaCB3aWxsIGJyZWFrIHRoZVxuICogZXNsaW50IGRlcGVuZGVuY3kgd2FybmluZ3MgdW5sZXNzIHlvdSByZW5hbWUgdGhlIGltcG9ydCB0byBgdXNlTGF5b3V0RWZmZWN0YC5cbiAqIFVzZSBzcGFyaW5nbHkgb25seSB3aGVuIHRoZSBlZmZlY3Qgd29uJ3QgZWZmZWN0IHRoZSByZW5kZXJlZCBIVE1MIHRvIGF2b2lkXG4gKiBhbnkgc2VydmVyL2NsaWVudCBtaXNtYXRjaC5cbiAqXG4gKiBJZiBhIHVzZUxheW91dEVmZmVjdCBpcyBuZWVkZWQgYW5kIHRoZSByZXN1bHQgd291bGQgY3JlYXRlIGEgbWlzbWF0Y2gsIGl0J3NcbiAqIGxpa2VseSB0aGF0IHRoZSBjb21wb25lbnQgaW4gcXVlc3Rpb24gc2hvdWxkbid0IGJlIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXIgYXRcbiAqIGFsbCwgc28gYSBiZXR0ZXIgYXBwcm9hY2ggd291bGQgYmUgdG8gbGF6aWx5IHJlbmRlciB0aG9zZSBpbiBhIHBhcmVudFxuICogY29tcG9uZW50IGFmdGVyIGNsaWVudC1zaWRlIGh5ZHJhdGlvbi5cbiAqXG4gKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9nYWVhcm9uL2U3ZDk3Y2RmMzhhMjkwNzkyNGVhMTJlNGViZGYzYzg1XG4gKiBodHRwczovL2dpdGh1Yi5jb20vcmVkdXhqcy9yZWFjdC1yZWR1eC9ibG9iL21hc3Rlci9zcmMvdXRpbHMvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC5qc1xuICpcbiAqIEBwYXJhbSBlZmZlY3RcbiAqIEBwYXJhbSBkZXBzXG4gKi9cblxudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSAvKiNfX1BVUkVfXyovY2FuVXNlRE9NKCkgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG5cbmV4cG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/use-stateful-ref-value/dist/reach-utils-use-stateful-ref-value.esm.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@reach/utils/use-stateful-ref-value/dist/reach-utils-use-stateful-ref-value.esm.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useStatefulRefValue\": function() { return /* binding */ useStatefulRefValue; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction useStatefulRefValue(ref, initialState) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var callbackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (refValue) {\n    ref.current = refValue;\n    setState(refValue); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return [state, callbackRef];\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL3VzZS1zdGF0ZWZ1bC1yZWYtdmFsdWUvZGlzdC9yZWFjaC11dGlscy11c2Utc3RhdGVmdWwtcmVmLXZhbHVlLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7O0FBRTlDO0FBQ0Esa0JBQWtCLCtDQUFRO0FBQzFCO0FBQ0E7O0FBRUEsb0JBQW9CLGtEQUFXO0FBQy9CO0FBQ0Esd0JBQXdCO0FBQ3hCLEdBQUc7QUFDSDtBQUNBOztBQUUrQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL3VzZS1zdGF0ZWZ1bC1yZWYtdmFsdWUvZGlzdC9yZWFjaC11dGlscy11c2Utc3RhdGVmdWwtcmVmLXZhbHVlLmVzbS5qcz8xNjk3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlU3RhdGVmdWxSZWZWYWx1ZShyZWYsIGluaXRpYWxTdGF0ZSkge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoaW5pdGlhbFN0YXRlKSxcbiAgICAgIHN0YXRlID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0U3RhdGUgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIGNhbGxiYWNrUmVmID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHJlZlZhbHVlKSB7XG4gICAgcmVmLmN1cnJlbnQgPSByZWZWYWx1ZTtcbiAgICBzZXRTdGF0ZShyZWZWYWx1ZSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuICByZXR1cm4gW3N0YXRlLCBjYWxsYmFja1JlZl07XG59XG5cbmV4cG9ydCB7IHVzZVN0YXRlZnVsUmVmVmFsdWUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/use-stateful-ref-value/dist/reach-utils-use-stateful-ref-value.esm.js\n");

/***/ }),

/***/ "./node_modules/@reach/utils/use-update-effect/dist/reach-utils-use-update-effect.esm.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@reach/utils/use-update-effect/dist/reach-utils-use-update-effect.esm.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useUpdateEffect\": function() { return /* binding */ useUpdateEffect; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/**\n * Call an effect after a component update, skipping the initial mount.\n *\n * @param effect Effect to call\n * @param deps Effect dependency list\n */\nfunction useUpdateEffect(effect, deps) {\n  var mounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (mounted.current) {\n      effect();\n    } else {\n      mounted.current = true;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, deps);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL3V0aWxzL3VzZS11cGRhdGUtZWZmZWN0L2Rpc3QvcmVhY2gtdXRpbHMtdXNlLXVwZGF0ZS1lZmZlY3QuZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkNBQU07QUFDdEIsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNOztBQUVOLEdBQUc7QUFDSDs7QUFFMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjaC91dGlscy91c2UtdXBkYXRlLWVmZmVjdC9kaXN0L3JlYWNoLXV0aWxzLXVzZS11cGRhdGUtZWZmZWN0LmVzbS5qcz8xNzJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIENhbGwgYW4gZWZmZWN0IGFmdGVyIGEgY29tcG9uZW50IHVwZGF0ZSwgc2tpcHBpbmcgdGhlIGluaXRpYWwgbW91bnQuXG4gKlxuICogQHBhcmFtIGVmZmVjdCBFZmZlY3QgdG8gY2FsbFxuICogQHBhcmFtIGRlcHMgRWZmZWN0IGRlcGVuZGVuY3kgbGlzdFxuICovXG5mdW5jdGlvbiB1c2VVcGRhdGVFZmZlY3QoZWZmZWN0LCBkZXBzKSB7XG4gIHZhciBtb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobW91bnRlZC5jdXJyZW50KSB7XG4gICAgICBlZmZlY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcblxuICB9LCBkZXBzKTtcbn1cblxuZXhwb3J0IHsgdXNlVXBkYXRlRWZmZWN0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@reach/utils/use-update-effect/dist/reach-utils-use-update-effect.esm.js\n");

/***/ }),

/***/ "./node_modules/@react-google-maps/api/dist/esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/@react-google-maps/api/dist/esm.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Autocomplete\": function() { return /* binding */ Autocomplete; },\n/* harmony export */   \"BicyclingLayer\": function() { return /* binding */ BicyclingLayer; },\n/* harmony export */   \"BicyclingLayerF\": function() { return /* binding */ BicyclingLayerF; },\n/* harmony export */   \"Circle\": function() { return /* binding */ Circle; },\n/* harmony export */   \"CircleF\": function() { return /* binding */ CircleF; },\n/* harmony export */   \"Data\": function() { return /* binding */ Data; },\n/* harmony export */   \"DataF\": function() { return /* binding */ DataF; },\n/* harmony export */   \"DirectionsRenderer\": function() { return /* binding */ DirectionsRenderer; },\n/* harmony export */   \"DirectionsService\": function() { return /* binding */ DirectionsService; },\n/* harmony export */   \"DistanceMatrixService\": function() { return /* binding */ DistanceMatrixService; },\n/* harmony export */   \"DrawingManager\": function() { return /* binding */ DrawingManager; },\n/* harmony export */   \"DrawingManagerF\": function() { return /* binding */ DrawingManagerF; },\n/* harmony export */   \"FLOAT_PANE\": function() { return /* binding */ FLOAT_PANE; },\n/* harmony export */   \"GoogleMap\": function() { return /* binding */ GoogleMap; },\n/* harmony export */   \"GoogleMapsMarkerClusterer\": function() { return /* binding */ index_esm; },\n/* harmony export */   \"GoogleMarkerClusterer\": function() { return /* binding */ GoogleMarkerClusterer$1; },\n/* harmony export */   \"GroundOverlay\": function() { return /* binding */ GroundOverlay; },\n/* harmony export */   \"HeatmapLayer\": function() { return /* binding */ HeatmapLayer; },\n/* harmony export */   \"InfoBox\": function() { return /* binding */ InfoBoxComponent; },\n/* harmony export */   \"InfoBoxF\": function() { return /* binding */ InfoBoxF; },\n/* harmony export */   \"InfoWindow\": function() { return /* binding */ InfoWindow; },\n/* harmony export */   \"InfoWindowF\": function() { return /* binding */ InfoWindowF; },\n/* harmony export */   \"KmlLayer\": function() { return /* binding */ KmlLayer; },\n/* harmony export */   \"LoadScript\": function() { return /* binding */ LoadScript; },\n/* harmony export */   \"LoadScriptNext\": function() { return /* binding */ LoadScriptNext$1; },\n/* harmony export */   \"MAP_PANE\": function() { return /* binding */ MAP_PANE; },\n/* harmony export */   \"MARKER_LAYER\": function() { return /* binding */ MARKER_LAYER; },\n/* harmony export */   \"MapContext\": function() { return /* binding */ MapContext; },\n/* harmony export */   \"Marker\": function() { return /* binding */ Marker; },\n/* harmony export */   \"MarkerClusterer\": function() { return /* binding */ ClustererComponent; },\n/* harmony export */   \"MarkerF\": function() { return /* binding */ MarkerF; },\n/* harmony export */   \"OVERLAY_LAYER\": function() { return /* binding */ OVERLAY_LAYER; },\n/* harmony export */   \"OVERLAY_MOUSE_TARGET\": function() { return /* binding */ OVERLAY_MOUSE_TARGET; },\n/* harmony export */   \"OverlayView\": function() { return /* binding */ OverlayView; },\n/* harmony export */   \"OverlayViewF\": function() { return /* binding */ OverlayViewF; },\n/* harmony export */   \"Polygon\": function() { return /* binding */ Polygon; },\n/* harmony export */   \"PolygonF\": function() { return /* binding */ PolygonF; },\n/* harmony export */   \"Polyline\": function() { return /* binding */ Polyline; },\n/* harmony export */   \"PolylineF\": function() { return /* binding */ PolylineF; },\n/* harmony export */   \"Rectangle\": function() { return /* binding */ Rectangle; },\n/* harmony export */   \"RectangleF\": function() { return /* binding */ RectangleF; },\n/* harmony export */   \"StandaloneSearchBox\": function() { return /* binding */ StandaloneSearchBox; },\n/* harmony export */   \"StreetViewPanorama\": function() { return /* binding */ StreetViewPanorama; },\n/* harmony export */   \"StreetViewService\": function() { return /* binding */ StreetViewService; },\n/* harmony export */   \"TrafficLayer\": function() { return /* binding */ TrafficLayer; },\n/* harmony export */   \"TrafficLayerF\": function() { return /* binding */ TrafficLayerF; },\n/* harmony export */   \"TransitLayer\": function() { return /* binding */ TransitLayer; },\n/* harmony export */   \"TransitLayerF\": function() { return /* binding */ TransitLayerF; },\n/* harmony export */   \"useGoogleMap\": function() { return /* binding */ useGoogleMap; },\n/* harmony export */   \"useJsApiLoader\": function() { return /* binding */ useJsApiLoader; },\n/* harmony export */   \"useLoadScript\": function() { return /* binding */ useLoadScript; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : typeof self !== 'undefined' ? self : {};\n\nvar jsxRuntime = {exports: {}};\n\nvar reactJsxRuntime_production_min = {};\n\n/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar hasRequiredReactJsxRuntime_production_min;\n\nfunction requireReactJsxRuntime_production_min () {\n\tif (hasRequiredReactJsxRuntime_production_min) return reactJsxRuntime_production_min;\n\thasRequiredReactJsxRuntime_production_min = 1;\nvar f=(react__WEBPACK_IMPORTED_MODULE_0___default()),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\n\tfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return {$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;\n\treturn reactJsxRuntime_production_min;\n}\n\nvar reactJsxRuntime_development = {};\n\n/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar hasRequiredReactJsxRuntime_development;\n\nfunction requireReactJsxRuntime_development () {\n\tif (hasRequiredReactJsxRuntime_development) return reactJsxRuntime_development;\n\thasRequiredReactJsxRuntime_development = 1;\n\n\tif (true) {\n\t  (function() {\n\n\tvar React = (react__WEBPACK_IMPORTED_MODULE_0___default());\n\n\t// ATTENTION\n\t// When adding new symbols to this file,\n\t// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\t// The Symbol used to tag the ReactElement-like types.\n\tvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\n\tvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\n\tvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\n\tvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\n\tvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\n\tvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\n\tvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\n\tvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\n\tvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\n\tvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\n\tvar REACT_MEMO_TYPE = Symbol.for('react.memo');\n\tvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\n\tvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\n\tvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\n\tvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\tfunction getIteratorFn(maybeIterable) {\n\t  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n\t    return null;\n\t  }\n\n\t  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n\t  if (typeof maybeIterator === 'function') {\n\t    return maybeIterator;\n\t  }\n\n\t  return null;\n\t}\n\n\tvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\n\tfunction error(format) {\n\t  {\n\t    {\n\t      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t        args[_key2 - 1] = arguments[_key2];\n\t      }\n\n\t      printWarning('error', format, args);\n\t    }\n\t  }\n\t}\n\n\tfunction printWarning(level, format, args) {\n\t  // When changing this logic, you might want to also\n\t  // update consoleWithStackDev.www.js as well.\n\t  {\n\t    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\t    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n\t    if (stack !== '') {\n\t      format += '%s';\n\t      args = args.concat([stack]);\n\t    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n\t    var argsWithFormat = args.map(function (item) {\n\t      return String(item);\n\t    }); // Careful: RN currently depends on this prefix\n\n\t    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n\t    // breaks IE9: https://github.com/facebook/react/issues/13610\n\t    // eslint-disable-next-line react-internal/no-production-logging\n\n\t    Function.prototype.apply.call(console[level], console, argsWithFormat);\n\t  }\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\tvar enableScopeAPI = false; // Experimental Create Event Handle API.\n\tvar enableCacheElement = false;\n\tvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\n\tvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n\t// stuff. Intended to enable React core members to more easily debug scheduling\n\t// issues in DEV builds.\n\n\tvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\n\tvar REACT_MODULE_REFERENCE;\n\n\t{\n\t  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n\t}\n\n\tfunction isValidElementType(type) {\n\t  if (typeof type === 'string' || typeof type === 'function') {\n\t    return true;\n\t  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n\t  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n\t    return true;\n\t  }\n\n\t  if (typeof type === 'object' && type !== null) {\n\t    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n\t    // types supported by any Flight configuration anywhere since\n\t    // we don't know which Flight build this will end up being used\n\t    // with.\n\t    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n\t      return true;\n\t    }\n\t  }\n\n\t  return false;\n\t}\n\n\tfunction getWrappedName(outerType, innerType, wrapperName) {\n\t  var displayName = outerType.displayName;\n\n\t  if (displayName) {\n\t    return displayName;\n\t  }\n\n\t  var functionName = innerType.displayName || innerType.name || '';\n\t  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n\t} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\n\tfunction getContextName(type) {\n\t  return type.displayName || 'Context';\n\t} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\n\tfunction getComponentNameFromType(type) {\n\t  if (type == null) {\n\t    // Host root, text node or just invalid type.\n\t    return null;\n\t  }\n\n\t  {\n\t    if (typeof type.tag === 'number') {\n\t      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n\t    }\n\t  }\n\n\t  if (typeof type === 'function') {\n\t    return type.displayName || type.name || null;\n\t  }\n\n\t  if (typeof type === 'string') {\n\t    return type;\n\t  }\n\n\t  switch (type) {\n\t    case REACT_FRAGMENT_TYPE:\n\t      return 'Fragment';\n\n\t    case REACT_PORTAL_TYPE:\n\t      return 'Portal';\n\n\t    case REACT_PROFILER_TYPE:\n\t      return 'Profiler';\n\n\t    case REACT_STRICT_MODE_TYPE:\n\t      return 'StrictMode';\n\n\t    case REACT_SUSPENSE_TYPE:\n\t      return 'Suspense';\n\n\t    case REACT_SUSPENSE_LIST_TYPE:\n\t      return 'SuspenseList';\n\n\t  }\n\n\t  if (typeof type === 'object') {\n\t    switch (type.$$typeof) {\n\t      case REACT_CONTEXT_TYPE:\n\t        var context = type;\n\t        return getContextName(context) + '.Consumer';\n\n\t      case REACT_PROVIDER_TYPE:\n\t        var provider = type;\n\t        return getContextName(provider._context) + '.Provider';\n\n\t      case REACT_FORWARD_REF_TYPE:\n\t        return getWrappedName(type, type.render, 'ForwardRef');\n\n\t      case REACT_MEMO_TYPE:\n\t        var outerName = type.displayName || null;\n\n\t        if (outerName !== null) {\n\t          return outerName;\n\t        }\n\n\t        return getComponentNameFromType(type.type) || 'Memo';\n\n\t      case REACT_LAZY_TYPE:\n\t        {\n\t          var lazyComponent = type;\n\t          var payload = lazyComponent._payload;\n\t          var init = lazyComponent._init;\n\n\t          try {\n\t            return getComponentNameFromType(init(payload));\n\t          } catch (x) {\n\t            return null;\n\t          }\n\t        }\n\n\t      // eslint-disable-next-line no-fallthrough\n\t    }\n\t  }\n\n\t  return null;\n\t}\n\n\tvar assign = Object.assign;\n\n\t// Helpers to patch console.logs to avoid logging during side-effect free\n\t// replaying on render function. This currently only patches the object\n\t// lazily which won't cover if the log function was extracted eagerly.\n\t// We could also eagerly patch the method.\n\tvar disabledDepth = 0;\n\tvar prevLog;\n\tvar prevInfo;\n\tvar prevWarn;\n\tvar prevError;\n\tvar prevGroup;\n\tvar prevGroupCollapsed;\n\tvar prevGroupEnd;\n\n\tfunction disabledLog() {}\n\n\tdisabledLog.__reactDisabledLog = true;\n\tfunction disableLogs() {\n\t  {\n\t    if (disabledDepth === 0) {\n\t      /* eslint-disable react-internal/no-production-logging */\n\t      prevLog = console.log;\n\t      prevInfo = console.info;\n\t      prevWarn = console.warn;\n\t      prevError = console.error;\n\t      prevGroup = console.group;\n\t      prevGroupCollapsed = console.groupCollapsed;\n\t      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n\t      var props = {\n\t        configurable: true,\n\t        enumerable: true,\n\t        value: disabledLog,\n\t        writable: true\n\t      }; // $FlowFixMe Flow thinks console is immutable.\n\n\t      Object.defineProperties(console, {\n\t        info: props,\n\t        log: props,\n\t        warn: props,\n\t        error: props,\n\t        group: props,\n\t        groupCollapsed: props,\n\t        groupEnd: props\n\t      });\n\t      /* eslint-enable react-internal/no-production-logging */\n\t    }\n\n\t    disabledDepth++;\n\t  }\n\t}\n\tfunction reenableLogs() {\n\t  {\n\t    disabledDepth--;\n\n\t    if (disabledDepth === 0) {\n\t      /* eslint-disable react-internal/no-production-logging */\n\t      var props = {\n\t        configurable: true,\n\t        enumerable: true,\n\t        writable: true\n\t      }; // $FlowFixMe Flow thinks console is immutable.\n\n\t      Object.defineProperties(console, {\n\t        log: assign({}, props, {\n\t          value: prevLog\n\t        }),\n\t        info: assign({}, props, {\n\t          value: prevInfo\n\t        }),\n\t        warn: assign({}, props, {\n\t          value: prevWarn\n\t        }),\n\t        error: assign({}, props, {\n\t          value: prevError\n\t        }),\n\t        group: assign({}, props, {\n\t          value: prevGroup\n\t        }),\n\t        groupCollapsed: assign({}, props, {\n\t          value: prevGroupCollapsed\n\t        }),\n\t        groupEnd: assign({}, props, {\n\t          value: prevGroupEnd\n\t        })\n\t      });\n\t      /* eslint-enable react-internal/no-production-logging */\n\t    }\n\n\t    if (disabledDepth < 0) {\n\t      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n\t    }\n\t  }\n\t}\n\n\tvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\n\tvar prefix;\n\tfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n\t  {\n\t    if (prefix === undefined) {\n\t      // Extract the VM specific prefix used by each line.\n\t      try {\n\t        throw Error();\n\t      } catch (x) {\n\t        var match = x.stack.trim().match(/\\n( *(at )?)/);\n\t        prefix = match && match[1] || '';\n\t      }\n\t    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n\t    return '\\n' + prefix + name;\n\t  }\n\t}\n\tvar reentry = false;\n\tvar componentFrameCache;\n\n\t{\n\t  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\t  componentFrameCache = new PossiblyWeakMap();\n\t}\n\n\tfunction describeNativeComponentFrame(fn, construct) {\n\t  // If something asked for a stack inside a fake render, it should get ignored.\n\t  if ( !fn || reentry) {\n\t    return '';\n\t  }\n\n\t  {\n\t    var frame = componentFrameCache.get(fn);\n\n\t    if (frame !== undefined) {\n\t      return frame;\n\t    }\n\t  }\n\n\t  var control;\n\t  reentry = true;\n\t  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n\t  Error.prepareStackTrace = undefined;\n\t  var previousDispatcher;\n\n\t  {\n\t    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n\t    // for warnings.\n\n\t    ReactCurrentDispatcher.current = null;\n\t    disableLogs();\n\t  }\n\n\t  try {\n\t    // This should throw.\n\t    if (construct) {\n\t      // Something should be setting the props in the constructor.\n\t      var Fake = function () {\n\t        throw Error();\n\t      }; // $FlowFixMe\n\n\n\t      Object.defineProperty(Fake.prototype, 'props', {\n\t        set: function () {\n\t          // We use a throwing setter instead of frozen or non-writable props\n\t          // because that won't throw in a non-strict mode function.\n\t          throw Error();\n\t        }\n\t      });\n\n\t      if (typeof Reflect === 'object' && Reflect.construct) {\n\t        // We construct a different control for this case to include any extra\n\t        // frames added by the construct call.\n\t        try {\n\t          Reflect.construct(Fake, []);\n\t        } catch (x) {\n\t          control = x;\n\t        }\n\n\t        Reflect.construct(fn, [], Fake);\n\t      } else {\n\t        try {\n\t          Fake.call();\n\t        } catch (x) {\n\t          control = x;\n\t        }\n\n\t        fn.call(Fake.prototype);\n\t      }\n\t    } else {\n\t      try {\n\t        throw Error();\n\t      } catch (x) {\n\t        control = x;\n\t      }\n\n\t      fn();\n\t    }\n\t  } catch (sample) {\n\t    // This is inlined manually because closure doesn't do it for us.\n\t    if (sample && control && typeof sample.stack === 'string') {\n\t      // This extracts the first frame from the sample that isn't also in the control.\n\t      // Skipping one frame that we assume is the frame that calls the two.\n\t      var sampleLines = sample.stack.split('\\n');\n\t      var controlLines = control.stack.split('\\n');\n\t      var s = sampleLines.length - 1;\n\t      var c = controlLines.length - 1;\n\n\t      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n\t        // We expect at least one stack frame to be shared.\n\t        // Typically this will be the root most one. However, stack frames may be\n\t        // cut off due to maximum stack limits. In this case, one maybe cut off\n\t        // earlier than the other. We assume that the sample is longer or the same\n\t        // and there for cut off earlier. So we should find the root most frame in\n\t        // the sample somewhere in the control.\n\t        c--;\n\t      }\n\n\t      for (; s >= 1 && c >= 0; s--, c--) {\n\t        // Next we find the first one that isn't the same which should be the\n\t        // frame that called our sample function and the control.\n\t        if (sampleLines[s] !== controlLines[c]) {\n\t          // In V8, the first line is describing the message but other VMs don't.\n\t          // If we're about to return the first line, and the control is also on the same\n\t          // line, that's a pretty good indicator that our sample threw at same line as\n\t          // the control. I.e. before we entered the sample frame. So we ignore this result.\n\t          // This can happen if you passed a class to function component, or non-function.\n\t          if (s !== 1 || c !== 1) {\n\t            do {\n\t              s--;\n\t              c--; // We may still have similar intermediate frames from the construct call.\n\t              // The next one that isn't the same should be our match though.\n\n\t              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n\t                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n\t                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n\t                // but we have a user-provided \"displayName\"\n\t                // splice it in to make the stack more readable.\n\n\n\t                if (fn.displayName && _frame.includes('<anonymous>')) {\n\t                  _frame = _frame.replace('<anonymous>', fn.displayName);\n\t                }\n\n\t                {\n\t                  if (typeof fn === 'function') {\n\t                    componentFrameCache.set(fn, _frame);\n\t                  }\n\t                } // Return the line we found.\n\n\n\t                return _frame;\n\t              }\n\t            } while (s >= 1 && c >= 0);\n\t          }\n\n\t          break;\n\t        }\n\t      }\n\t    }\n\t  } finally {\n\t    reentry = false;\n\n\t    {\n\t      ReactCurrentDispatcher.current = previousDispatcher;\n\t      reenableLogs();\n\t    }\n\n\t    Error.prepareStackTrace = previousPrepareStackTrace;\n\t  } // Fallback to just using the name if we couldn't make it throw.\n\n\n\t  var name = fn ? fn.displayName || fn.name : '';\n\t  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n\t  {\n\t    if (typeof fn === 'function') {\n\t      componentFrameCache.set(fn, syntheticFrame);\n\t    }\n\t  }\n\n\t  return syntheticFrame;\n\t}\n\tfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n\t  {\n\t    return describeNativeComponentFrame(fn, false);\n\t  }\n\t}\n\n\tfunction shouldConstruct(Component) {\n\t  var prototype = Component.prototype;\n\t  return !!(prototype && prototype.isReactComponent);\n\t}\n\n\tfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n\t  if (type == null) {\n\t    return '';\n\t  }\n\n\t  if (typeof type === 'function') {\n\t    {\n\t      return describeNativeComponentFrame(type, shouldConstruct(type));\n\t    }\n\t  }\n\n\t  if (typeof type === 'string') {\n\t    return describeBuiltInComponentFrame(type);\n\t  }\n\n\t  switch (type) {\n\t    case REACT_SUSPENSE_TYPE:\n\t      return describeBuiltInComponentFrame('Suspense');\n\n\t    case REACT_SUSPENSE_LIST_TYPE:\n\t      return describeBuiltInComponentFrame('SuspenseList');\n\t  }\n\n\t  if (typeof type === 'object') {\n\t    switch (type.$$typeof) {\n\t      case REACT_FORWARD_REF_TYPE:\n\t        return describeFunctionComponentFrame(type.render);\n\n\t      case REACT_MEMO_TYPE:\n\t        // Memo may contain any component type so we recursively resolve it.\n\t        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n\t      case REACT_LAZY_TYPE:\n\t        {\n\t          var lazyComponent = type;\n\t          var payload = lazyComponent._payload;\n\t          var init = lazyComponent._init;\n\n\t          try {\n\t            // Lazy may contain any component type so we recursively resolve it.\n\t            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n\t          } catch (x) {}\n\t        }\n\t    }\n\t  }\n\n\t  return '';\n\t}\n\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\tvar loggedTypeFailures = {};\n\tvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\n\tfunction setCurrentlyValidatingElement(element) {\n\t  {\n\t    if (element) {\n\t      var owner = element._owner;\n\t      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n\t      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n\t    } else {\n\t      ReactDebugCurrentFrame.setExtraStackFrame(null);\n\t    }\n\t  }\n\t}\n\n\tfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n\t  {\n\t    // $FlowFixMe This is okay but Flow doesn't know it.\n\t    var has = Function.call.bind(hasOwnProperty);\n\n\t    for (var typeSpecName in typeSpecs) {\n\t      if (has(typeSpecs, typeSpecName)) {\n\t        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n\t        // fail the render phase where it didn't fail before. So we log it.\n\t        // After these have been cleaned up, we'll let them throw.\n\n\t        try {\n\t          // This is intentionally an invariant that gets caught. It's the same\n\t          // behavior as without this statement except with a better message.\n\t          if (typeof typeSpecs[typeSpecName] !== 'function') {\n\t            // eslint-disable-next-line react-internal/prod-error-codes\n\t            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n\t            err.name = 'Invariant Violation';\n\t            throw err;\n\t          }\n\n\t          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n\t        } catch (ex) {\n\t          error$1 = ex;\n\t        }\n\n\t        if (error$1 && !(error$1 instanceof Error)) {\n\t          setCurrentlyValidatingElement(element);\n\n\t          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n\t          setCurrentlyValidatingElement(null);\n\t        }\n\n\t        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n\t          // Only monitor this failure once because there tends to be a lot of the\n\t          // same error.\n\t          loggedTypeFailures[error$1.message] = true;\n\t          setCurrentlyValidatingElement(element);\n\n\t          error('Failed %s type: %s', location, error$1.message);\n\n\t          setCurrentlyValidatingElement(null);\n\t        }\n\t      }\n\t    }\n\t  }\n\t}\n\n\tvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\n\tfunction isArray(a) {\n\t  return isArrayImpl(a);\n\t}\n\n\t/*\n\t * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n\t * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n\t *\n\t * The functions in this module will throw an easier-to-understand,\n\t * easier-to-debug exception with a clear errors message message explaining the\n\t * problem. (Instead of a confusing exception thrown inside the implementation\n\t * of the `value` object).\n\t */\n\t// $FlowFixMe only called in DEV, so void return is not possible.\n\tfunction typeName(value) {\n\t  {\n\t    // toStringTag is needed for namespaced types like Temporal.Instant\n\t    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n\t    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n\t    return type;\n\t  }\n\t} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\n\tfunction willCoercionThrow(value) {\n\t  {\n\t    try {\n\t      testStringCoercion(value);\n\t      return false;\n\t    } catch (e) {\n\t      return true;\n\t    }\n\t  }\n\t}\n\n\tfunction testStringCoercion(value) {\n\t  // If you ended up here by following an exception call stack, here's what's\n\t  // happened: you supplied an object or symbol value to React (as a prop, key,\n\t  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n\t  // coerce it to a string using `'' + value`, an exception was thrown.\n\t  //\n\t  // The most common types that will cause this exception are `Symbol` instances\n\t  // and Temporal objects like `Temporal.Instant`. But any object that has a\n\t  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n\t  // exception. (Library authors do this to prevent users from using built-in\n\t  // numeric operators like `+` or comparison operators like `>=` because custom\n\t  // methods are needed to perform accurate arithmetic or comparison.)\n\t  //\n\t  // To fix the problem, coerce this object or symbol value to a string before\n\t  // passing it to React. The most reliable way is usually `String(value)`.\n\t  //\n\t  // To find which value is throwing, check the browser or debugger console.\n\t  // Before this exception was thrown, there should be `console.error` output\n\t  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n\t  // problem and how that type was used: key, atrribute, input value prop, etc.\n\t  // In most cases, this console output also shows the component and its\n\t  // ancestor components where the exception happened.\n\t  //\n\t  // eslint-disable-next-line react-internal/safe-string-coercion\n\t  return '' + value;\n\t}\n\tfunction checkKeyStringCoercion(value) {\n\t  {\n\t    if (willCoercionThrow(value)) {\n\t      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n\t      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n\t    }\n\t  }\n\t}\n\n\tvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\n\tvar RESERVED_PROPS = {\n\t  key: true,\n\t  ref: true,\n\t  __self: true,\n\t  __source: true\n\t};\n\tvar specialPropKeyWarningShown;\n\tvar specialPropRefWarningShown;\n\tvar didWarnAboutStringRefs;\n\n\t{\n\t  didWarnAboutStringRefs = {};\n\t}\n\n\tfunction hasValidRef(config) {\n\t  {\n\t    if (hasOwnProperty.call(config, 'ref')) {\n\t      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n\t      if (getter && getter.isReactWarning) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\n\t  return config.ref !== undefined;\n\t}\n\n\tfunction hasValidKey(config) {\n\t  {\n\t    if (hasOwnProperty.call(config, 'key')) {\n\t      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n\t      if (getter && getter.isReactWarning) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\n\t  return config.key !== undefined;\n\t}\n\n\tfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n\t  {\n\t    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n\t      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n\t      if (!didWarnAboutStringRefs[componentName]) {\n\t        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n\t        didWarnAboutStringRefs[componentName] = true;\n\t      }\n\t    }\n\t  }\n\t}\n\n\tfunction defineKeyPropWarningGetter(props, displayName) {\n\t  {\n\t    var warnAboutAccessingKey = function () {\n\t      if (!specialPropKeyWarningShown) {\n\t        specialPropKeyWarningShown = true;\n\n\t        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n\t      }\n\t    };\n\n\t    warnAboutAccessingKey.isReactWarning = true;\n\t    Object.defineProperty(props, 'key', {\n\t      get: warnAboutAccessingKey,\n\t      configurable: true\n\t    });\n\t  }\n\t}\n\n\tfunction defineRefPropWarningGetter(props, displayName) {\n\t  {\n\t    var warnAboutAccessingRef = function () {\n\t      if (!specialPropRefWarningShown) {\n\t        specialPropRefWarningShown = true;\n\n\t        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n\t      }\n\t    };\n\n\t    warnAboutAccessingRef.isReactWarning = true;\n\t    Object.defineProperty(props, 'ref', {\n\t      get: warnAboutAccessingRef,\n\t      configurable: true\n\t    });\n\t  }\n\t}\n\t/**\n\t * Factory method to create a new React element. This no longer adheres to\n\t * the class pattern, so do not use new to call it. Also, instanceof check\n\t * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n\t * if something is a React Element.\n\t *\n\t * @param {*} type\n\t * @param {*} props\n\t * @param {*} key\n\t * @param {string|object} ref\n\t * @param {*} owner\n\t * @param {*} self A *temporary* helper to detect places where `this` is\n\t * different from the `owner` when React.createElement is called, so that we\n\t * can warn. We want to get rid of owner and replace string `ref`s with arrow\n\t * functions, and as long as `this` and owner are the same, there will be no\n\t * change in behavior.\n\t * @param {*} source An annotation object (added by a transpiler or otherwise)\n\t * indicating filename, line number, and/or other information.\n\t * @internal\n\t */\n\n\n\tvar ReactElement = function (type, key, ref, self, source, owner, props) {\n\t  var element = {\n\t    // This tag allows us to uniquely identify this as a React Element\n\t    $$typeof: REACT_ELEMENT_TYPE,\n\t    // Built-in properties that belong on the element\n\t    type: type,\n\t    key: key,\n\t    ref: ref,\n\t    props: props,\n\t    // Record the component responsible for creating this element.\n\t    _owner: owner\n\t  };\n\n\t  {\n\t    // The validation flag is currently mutative. We put it on\n\t    // an external backing store so that we can freeze the whole object.\n\t    // This can be replaced with a WeakMap once they are implemented in\n\t    // commonly used development environments.\n\t    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n\t    // the validation flag non-enumerable (where possible, which should\n\t    // include every environment we run tests in), so the test framework\n\t    // ignores it.\n\n\t    Object.defineProperty(element._store, 'validated', {\n\t      configurable: false,\n\t      enumerable: false,\n\t      writable: true,\n\t      value: false\n\t    }); // self and source are DEV only properties.\n\n\t    Object.defineProperty(element, '_self', {\n\t      configurable: false,\n\t      enumerable: false,\n\t      writable: false,\n\t      value: self\n\t    }); // Two elements created in two different places should be considered\n\t    // equal for testing purposes and therefore we hide it from enumeration.\n\n\t    Object.defineProperty(element, '_source', {\n\t      configurable: false,\n\t      enumerable: false,\n\t      writable: false,\n\t      value: source\n\t    });\n\n\t    if (Object.freeze) {\n\t      Object.freeze(element.props);\n\t      Object.freeze(element);\n\t    }\n\t  }\n\n\t  return element;\n\t};\n\t/**\n\t * https://github.com/reactjs/rfcs/pull/107\n\t * @param {*} type\n\t * @param {object} props\n\t * @param {string} key\n\t */\n\n\tfunction jsxDEV(type, config, maybeKey, source, self) {\n\t  {\n\t    var propName; // Reserved names are extracted\n\n\t    var props = {};\n\t    var key = null;\n\t    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n\t    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n\t    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n\t    // but as an intermediary step, we will use jsxDEV for everything except\n\t    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n\t    // key is explicitly declared to be undefined or not.\n\n\t    if (maybeKey !== undefined) {\n\t      {\n\t        checkKeyStringCoercion(maybeKey);\n\t      }\n\n\t      key = '' + maybeKey;\n\t    }\n\n\t    if (hasValidKey(config)) {\n\t      {\n\t        checkKeyStringCoercion(config.key);\n\t      }\n\n\t      key = '' + config.key;\n\t    }\n\n\t    if (hasValidRef(config)) {\n\t      ref = config.ref;\n\t      warnIfStringRefCannotBeAutoConverted(config, self);\n\t    } // Remaining properties are added to a new props object\n\n\n\t    for (propName in config) {\n\t      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n\t        props[propName] = config[propName];\n\t      }\n\t    } // Resolve default props\n\n\n\t    if (type && type.defaultProps) {\n\t      var defaultProps = type.defaultProps;\n\n\t      for (propName in defaultProps) {\n\t        if (props[propName] === undefined) {\n\t          props[propName] = defaultProps[propName];\n\t        }\n\t      }\n\t    }\n\n\t    if (key || ref) {\n\t      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n\t      if (key) {\n\t        defineKeyPropWarningGetter(props, displayName);\n\t      }\n\n\t      if (ref) {\n\t        defineRefPropWarningGetter(props, displayName);\n\t      }\n\t    }\n\n\t    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n\t  }\n\t}\n\n\tvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\n\tvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\n\tfunction setCurrentlyValidatingElement$1(element) {\n\t  {\n\t    if (element) {\n\t      var owner = element._owner;\n\t      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n\t      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n\t    } else {\n\t      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n\t    }\n\t  }\n\t}\n\n\tvar propTypesMisspellWarningShown;\n\n\t{\n\t  propTypesMisspellWarningShown = false;\n\t}\n\t/**\n\t * Verifies the object is a ReactElement.\n\t * See https://reactjs.org/docs/react-api.html#isvalidelement\n\t * @param {?object} object\n\t * @return {boolean} True if `object` is a ReactElement.\n\t * @final\n\t */\n\n\n\tfunction isValidElement(object) {\n\t  {\n\t    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n\t  }\n\t}\n\n\tfunction getDeclarationErrorAddendum() {\n\t  {\n\t    if (ReactCurrentOwner$1.current) {\n\t      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n\t      if (name) {\n\t        return '\\n\\nCheck the render method of `' + name + '`.';\n\t      }\n\t    }\n\n\t    return '';\n\t  }\n\t}\n\n\tfunction getSourceInfoErrorAddendum(source) {\n\t  {\n\t    if (source !== undefined) {\n\t      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n\t      var lineNumber = source.lineNumber;\n\t      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n\t    }\n\n\t    return '';\n\t  }\n\t}\n\t/**\n\t * Warn if there's no key explicitly set on dynamic arrays of children or\n\t * object keys are not valid. This allows us to keep track of children between\n\t * updates.\n\t */\n\n\n\tvar ownerHasKeyUseWarning = {};\n\n\tfunction getCurrentComponentErrorInfo(parentType) {\n\t  {\n\t    var info = getDeclarationErrorAddendum();\n\n\t    if (!info) {\n\t      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n\t      if (parentName) {\n\t        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n\t      }\n\t    }\n\n\t    return info;\n\t  }\n\t}\n\t/**\n\t * Warn if the element doesn't have an explicit key assigned to it.\n\t * This element is in an array. The array could grow and shrink or be\n\t * reordered. All children that haven't already been validated are required to\n\t * have a \"key\" property assigned to it. Error statuses are cached so a warning\n\t * will only be shown once.\n\t *\n\t * @internal\n\t * @param {ReactElement} element Element that requires a key.\n\t * @param {*} parentType element's parent's type.\n\t */\n\n\n\tfunction validateExplicitKey(element, parentType) {\n\t  {\n\t    if (!element._store || element._store.validated || element.key != null) {\n\t      return;\n\t    }\n\n\t    element._store.validated = true;\n\t    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n\t    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n\t      return;\n\t    }\n\n\t    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n\t    // property, it may be the creator of the child that's responsible for\n\t    // assigning it a key.\n\n\t    var childOwner = '';\n\n\t    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n\t      // Give the component that originally created this child.\n\t      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n\t    }\n\n\t    setCurrentlyValidatingElement$1(element);\n\n\t    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n\t    setCurrentlyValidatingElement$1(null);\n\t  }\n\t}\n\t/**\n\t * Ensure that every element either is passed in a static location, in an\n\t * array with an explicit keys property defined, or in an object literal\n\t * with valid key property.\n\t *\n\t * @internal\n\t * @param {ReactNode} node Statically passed child of any type.\n\t * @param {*} parentType node's parent's type.\n\t */\n\n\n\tfunction validateChildKeys(node, parentType) {\n\t  {\n\t    if (typeof node !== 'object') {\n\t      return;\n\t    }\n\n\t    if (isArray(node)) {\n\t      for (var i = 0; i < node.length; i++) {\n\t        var child = node[i];\n\n\t        if (isValidElement(child)) {\n\t          validateExplicitKey(child, parentType);\n\t        }\n\t      }\n\t    } else if (isValidElement(node)) {\n\t      // This element was passed in a valid location.\n\t      if (node._store) {\n\t        node._store.validated = true;\n\t      }\n\t    } else if (node) {\n\t      var iteratorFn = getIteratorFn(node);\n\n\t      if (typeof iteratorFn === 'function') {\n\t        // Entry iterators used to provide implicit keys,\n\t        // but now we print a separate warning for them later.\n\t        if (iteratorFn !== node.entries) {\n\t          var iterator = iteratorFn.call(node);\n\t          var step;\n\n\t          while (!(step = iterator.next()).done) {\n\t            if (isValidElement(step.value)) {\n\t              validateExplicitKey(step.value, parentType);\n\t            }\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }\n\t}\n\t/**\n\t * Given an element, validate that its props follow the propTypes definition,\n\t * provided by the type.\n\t *\n\t * @param {ReactElement} element\n\t */\n\n\n\tfunction validatePropTypes(element) {\n\t  {\n\t    var type = element.type;\n\n\t    if (type === null || type === undefined || typeof type === 'string') {\n\t      return;\n\t    }\n\n\t    var propTypes;\n\n\t    if (typeof type === 'function') {\n\t      propTypes = type.propTypes;\n\t    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n\t    // Inner props are checked in the reconciler.\n\t    type.$$typeof === REACT_MEMO_TYPE)) {\n\t      propTypes = type.propTypes;\n\t    } else {\n\t      return;\n\t    }\n\n\t    if (propTypes) {\n\t      // Intentionally inside to avoid triggering lazy initializers:\n\t      var name = getComponentNameFromType(type);\n\t      checkPropTypes(propTypes, element.props, 'prop', name, element);\n\t    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n\t      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n\t      var _name = getComponentNameFromType(type);\n\n\t      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n\t    }\n\n\t    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n\t      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n\t    }\n\t  }\n\t}\n\t/**\n\t * Given a fragment, validate that it can only be provided with fragment props\n\t * @param {ReactElement} fragment\n\t */\n\n\n\tfunction validateFragmentProps(fragment) {\n\t  {\n\t    var keys = Object.keys(fragment.props);\n\n\t    for (var i = 0; i < keys.length; i++) {\n\t      var key = keys[i];\n\n\t      if (key !== 'children' && key !== 'key') {\n\t        setCurrentlyValidatingElement$1(fragment);\n\n\t        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n\t        setCurrentlyValidatingElement$1(null);\n\t        break;\n\t      }\n\t    }\n\n\t    if (fragment.ref !== null) {\n\t      setCurrentlyValidatingElement$1(fragment);\n\n\t      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n\t      setCurrentlyValidatingElement$1(null);\n\t    }\n\t  }\n\t}\n\n\tfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n\t  {\n\t    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n\t    // succeed and there will likely be errors in render.\n\n\t    if (!validType) {\n\t      var info = '';\n\n\t      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n\t        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n\t      }\n\n\t      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n\t      if (sourceInfo) {\n\t        info += sourceInfo;\n\t      } else {\n\t        info += getDeclarationErrorAddendum();\n\t      }\n\n\t      var typeString;\n\n\t      if (type === null) {\n\t        typeString = 'null';\n\t      } else if (isArray(type)) {\n\t        typeString = 'array';\n\t      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n\t        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n\t        info = ' Did you accidentally export a JSX literal instead of a component?';\n\t      } else {\n\t        typeString = typeof type;\n\t      }\n\n\t      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n\t    }\n\n\t    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n\t    // TODO: Drop this when these are no longer allowed as the type argument.\n\n\t    if (element == null) {\n\t      return element;\n\t    } // Skip key warning if the type isn't valid since our key validation logic\n\t    // doesn't expect a non-string/function type and can throw confusing errors.\n\t    // We don't want exception behavior to differ between dev and prod.\n\t    // (Rendering will throw with a helpful message and as soon as the type is\n\t    // fixed, the key warnings will appear.)\n\n\n\t    if (validType) {\n\t      var children = props.children;\n\n\t      if (children !== undefined) {\n\t        if (isStaticChildren) {\n\t          if (isArray(children)) {\n\t            for (var i = 0; i < children.length; i++) {\n\t              validateChildKeys(children[i], type);\n\t            }\n\n\t            if (Object.freeze) {\n\t              Object.freeze(children);\n\t            }\n\t          } else {\n\t            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n\t          }\n\t        } else {\n\t          validateChildKeys(children, type);\n\t        }\n\t      }\n\t    }\n\n\t    if (type === REACT_FRAGMENT_TYPE) {\n\t      validateFragmentProps(element);\n\t    } else {\n\t      validatePropTypes(element);\n\t    }\n\n\t    return element;\n\t  }\n\t} // These two functions exist to still get child warnings in dev\n\t// even with the prod transform. This means that jsxDEV is purely\n\t// opt-in behavior for better messages but that we won't stop\n\t// giving you warnings if you use production apis.\n\n\tfunction jsxWithValidationStatic(type, props, key) {\n\t  {\n\t    return jsxWithValidation(type, props, key, true);\n\t  }\n\t}\n\tfunction jsxWithValidationDynamic(type, props, key) {\n\t  {\n\t    return jsxWithValidation(type, props, key, false);\n\t  }\n\t}\n\n\tvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n\t// for now we can ship identical prod functions\n\n\tvar jsxs =  jsxWithValidationStatic ;\n\n\treactJsxRuntime_development.Fragment = REACT_FRAGMENT_TYPE;\n\treactJsxRuntime_development.jsx = jsx;\n\treactJsxRuntime_development.jsxs = jsxs;\n\t  })();\n\t}\n\treturn reactJsxRuntime_development;\n}\n\n(function (module) {\n\n\tif (false) {} else {\n\t  module.exports = requireReactJsxRuntime_development();\n\t}\n} (jsxRuntime));\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar NODE_ENV = \"development\";\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nvar invariant_1 = invariant;\n\nconst MapContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction useGoogleMap() {\n    invariant_1(!!react__WEBPACK_IMPORTED_MODULE_0__.useContext, 'useGoogleMap is React hook and requires React version 16.8+');\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    invariant_1(!!map, 'useGoogleMap needs a GoogleMap available up in the tree');\n    return map;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction reduce(obj, fn, acc) {\n    return Object.keys(obj).reduce(function reducer(newAcc, key) {\n        return fn(newAcc, obj[key], key);\n    }, acc);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction forEach(obj, fn) {\n    Object.keys(obj).forEach((key) => {\n        return fn(obj[key], key);\n    });\n}\n\n/* global google */\nfunction applyUpdaterToNextProps(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nupdaterMap, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nprevProps, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nnextProps, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ninstance\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const map = {};\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const iter = (fn, key) => {\n        const nextValue = nextProps[key];\n        if (nextValue !== prevProps[key]) {\n            map[key] = nextValue;\n            fn(instance, nextValue);\n        }\n    };\n    forEach(updaterMap, iter);\n    return map;\n}\nfunction registerEvents(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nprops, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ninstance, eventMap) {\n    const registeredList = reduce(eventMap, function reducer(acc, googleEventName, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onEventName) {\n        if (typeof props[onEventName] === 'function') {\n            acc.push(google.maps.event.addListener(instance, googleEventName, props[onEventName]));\n        }\n        return acc;\n    }, []);\n    return registeredList;\n}\nfunction unregisterEvent(registered) {\n    google.maps.event.removeListener(registered);\n}\nfunction unregisterEvents(events = []) {\n    events.forEach(unregisterEvent);\n}\nfunction applyUpdatersToPropsAndRegisterEvents({ updaterMap, eventMap, prevProps, nextProps, instance, }) {\n    const registeredEvents = registerEvents(nextProps, instance, eventMap);\n    applyUpdaterToNextProps(updaterMap, prevProps, nextProps, instance);\n    return registeredEvents;\n}\n\nconst eventMap$i = {\n    onDblClick: 'dblclick',\n    onDragEnd: 'dragend',\n    onDragStart: 'dragstart',\n    onMapTypeIdChanged: 'maptypeid_changed',\n    onMouseMove: 'mousemove',\n    onMouseOut: 'mouseout',\n    onMouseOver: 'mouseover',\n    onMouseDown: 'mousedown',\n    onMouseUp: 'mouseup',\n    onRightClick: 'rightclick',\n    onTilesLoaded: 'tilesloaded',\n    onBoundsChanged: 'bounds_changed',\n    onCenterChanged: 'center_changed',\n    onClick: 'click',\n    onDrag: 'drag',\n    onHeadingChanged: 'heading_changed',\n    onIdle: 'idle',\n    onProjectionChanged: 'projection_changed',\n    onResize: 'resize',\n    onTiltChanged: 'tilt_changed',\n    onZoomChanged: 'zoom_changed',\n};\nconst updaterMap$i = {\n    extraMapTypes(map, extra) {\n        extra.forEach(function forEachExtra(it, i) {\n            map.mapTypes.set(String(i), it);\n        });\n    },\n    center(map, center) {\n        map.setCenter(center);\n    },\n    clickableIcons(map, clickable) {\n        map.setClickableIcons(clickable);\n    },\n    heading(map, heading) {\n        map.setHeading(heading);\n    },\n    mapTypeId(map, mapTypeId) {\n        map.setMapTypeId(mapTypeId);\n    },\n    options(map, options) {\n        map.setOptions(options);\n    },\n    streetView(map, streetView) {\n        map.setStreetView(streetView);\n    },\n    tilt(map, tilt) {\n        map.setTilt(tilt);\n    },\n    zoom(map, zoom) {\n        map.setZoom(zoom);\n    },\n};\n// TODO: unfinished!\nfunction GoogleMapFunctional({ children, options, id, mapContainerStyle, mapContainerClassName, center, \n// clickableIcons,\n// extraMapTypes,\n// heading,\n// mapTypeId,\nonClick, onDblClick, onDrag, onDragEnd, onDragStart, onMouseMove, onMouseOut, onMouseOver, onMouseDown, onMouseUp, onRightClick, \n// onMapTypeIdChanged,\n// onTilesLoaded,\n// onBoundsChanged,\nonCenterChanged, \n// onHeadingChanged,\n// onIdle,\n// onProjectionChanged,\n// onResize,\n// onTiltChanged,\n// onZoomChanged,\nonLoad, onUnmount, }) {\n    const [map, setMap] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // const [extraMapTypesListener, setExtraMapTypesListener] = useState<google.maps.MapsEventListener | null>(null)\n    const [centerChangedListener, setCenterChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dblclickListener, setDblclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragendListener, setDragendListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragstartListener, setDragstartListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousedownListener, setMousedownListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousemoveListener, setMousemoveListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoutListener, setMouseoutListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoverListener, setMouseoverListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseupListener, setMouseupListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [rightclickListener, setRightclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [clickListener, setClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragListener, setDragListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (options && map !== null) {\n            map.setOptions(options);\n        }\n    }, [map, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map !== null && typeof center !== 'undefined') {\n            map.setCenter(center);\n        }\n    }, [map, center]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onDblClick) {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            setDblclickListener(google.maps.event.addListener(map, 'dblclick', onDblClick));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onDragEnd) {\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            setDragendListener(google.maps.event.addListener(map, 'dragend', onDragEnd));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onDragStart) {\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            setDragstartListener(google.maps.event.addListener(map, 'dragstart', onDragStart));\n        }\n    }, [onDragStart]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onMouseDown) {\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            setMousedownListener(google.maps.event.addListener(map, 'mousedown', onMouseDown));\n        }\n    }, [onMouseDown]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onMouseMove) {\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            setMousemoveListener(google.maps.event.addListener(map, 'mousemove', onMouseMove));\n        }\n    }, [onMouseMove]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onMouseOut) {\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            setMouseoutListener(google.maps.event.addListener(map, 'mouseout', onMouseOut));\n        }\n    }, [onMouseOut]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onMouseOver) {\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            setMouseoverListener(google.maps.event.addListener(map, 'mouseover', onMouseOver));\n        }\n    }, [onMouseOver]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onMouseUp) {\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            setMouseupListener(google.maps.event.addListener(map, 'mouseup', onMouseUp));\n        }\n    }, [onMouseUp]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onRightClick) {\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            setRightclickListener(google.maps.event.addListener(map, 'rightclick', onRightClick));\n        }\n    }, [onRightClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onClick) {\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            setClickListener(google.maps.event.addListener(map, 'click', onClick));\n        }\n    }, [onClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onDrag) {\n            if (dragListener !== null) {\n                google.maps.event.removeListener(dragListener);\n            }\n            setDragListener(google.maps.event.addListener(map, 'drag', onDrag));\n        }\n    }, [onDrag]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && onCenterChanged) {\n            if (centerChangedListener !== null) {\n                google.maps.event.removeListener(centerChangedListener);\n            }\n            setCenterChangedListener(google.maps.event.addListener(map, 'center_changed', onCenterChanged));\n        }\n    }, [onClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const map = ref.current === null\n            ? null\n            : new google.maps.Map(ref.current, options);\n        setMap(map);\n        if (map !== null && onLoad) {\n            onLoad(map);\n        }\n        return () => {\n            if (map !== null) {\n                if (onUnmount) {\n                    onUnmount(map);\n                }\n            }\n        };\n    }, []);\n    return (jsxRuntime.exports.jsx(\"div\", Object.assign({ id: id, ref: ref, style: mapContainerStyle, className: mapContainerClassName }, { children: jsxRuntime.exports.jsx(MapContext.Provider, Object.assign({ value: map }, { children: map !== null ? children : jsxRuntime.exports.jsx(jsxRuntime.exports.Fragment, {}) })) })));\n}\n(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(GoogleMapFunctional);\nclass GoogleMap extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            map: null,\n        };\n        this.registeredEvents = [];\n        this.mapRef = null;\n        this.getInstance = () => {\n            if (this.mapRef === null) {\n                return null;\n            }\n            return new google.maps.Map(this.mapRef, this.props.options);\n        };\n        this.panTo = (latLng) => {\n            const map = this.getInstance();\n            if (map) {\n                map.panTo(latLng);\n            }\n        };\n        this.setMapCallback = () => {\n            if (this.state.map !== null) {\n                if (this.props.onLoad) {\n                    this.props.onLoad(this.state.map);\n                }\n            }\n        };\n        this.getRef = (ref) => {\n            this.mapRef = ref;\n        };\n    }\n    componentDidMount() {\n        const map = this.getInstance();\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$i,\n            eventMap: eventMap$i,\n            prevProps: {},\n            nextProps: this.props,\n            instance: map,\n        });\n        this.setState(function setMap() {\n            return {\n                map,\n            };\n        }, this.setMapCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.map !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$i,\n                eventMap: eventMap$i,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.map,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.map !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.map);\n            }\n            unregisterEvents(this.registeredEvents);\n        }\n    }\n    render() {\n        return (jsxRuntime.exports.jsx(\"div\", Object.assign({ id: this.props.id, ref: this.getRef, style: this.props.mapContainerStyle, className: this.props.mapContainerClassName }, { children: jsxRuntime.exports.jsx(MapContext.Provider, Object.assign({ value: this.state.map }, { children: this.state.map !== null ? this.props.children : jsxRuntime.exports.jsx(jsxRuntime.exports.Fragment, {}) })) })));\n    }\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest$1(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nconst isBrowser = typeof document !== 'undefined';\n\nfunction injectScript({ url, id, nonce }) {\n    if (!isBrowser) {\n        return Promise.reject(new Error('document is undefined'));\n    }\n    return new Promise(function injectScriptCallback(resolve, reject) {\n        const existingScript = document.getElementById(id);\n        const windowWithGoogleMap = window;\n        if (existingScript) {\n            // Same script id/url: keep same script\n            const dataStateAttribute = existingScript.getAttribute('data-state');\n            if (existingScript.src === url && dataStateAttribute !== 'error') {\n                if (dataStateAttribute === 'ready') {\n                    return resolve(id);\n                }\n                else {\n                    const originalInitMap = windowWithGoogleMap.initMap;\n                    const originalErrorCallback = existingScript.onerror;\n                    windowWithGoogleMap.initMap = function initMap() {\n                        if (originalInitMap) {\n                            originalInitMap();\n                        }\n                        resolve(id);\n                    };\n                    existingScript.onerror = function (err) {\n                        if (originalErrorCallback) {\n                            originalErrorCallback(err);\n                        }\n                        reject(err);\n                    };\n                    return;\n                }\n            }\n            // Same script id, but either\n            // 1. requested URL is different\n            // 2. script failed to load\n            else {\n                existingScript.remove();\n            }\n        }\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = url;\n        script.id = id;\n        script.async = true;\n        script.nonce = nonce;\n        script.onerror = function onerror(err) {\n            script.setAttribute('data-state', 'error');\n            reject(err);\n        };\n        windowWithGoogleMap.initMap = function onload() {\n            script.setAttribute('data-state', 'ready');\n            resolve(id);\n        };\n        document.head.appendChild(script);\n    }).catch(err => {\n        console.error('injectScript error: ', err);\n        throw err;\n    });\n}\n\nfunction isGoogleFontStyle(element) {\n    // 'Roboto' or 'Google Sans Text' font download\n    const href = element.href;\n    if (href && (href.indexOf('https://fonts.googleapis.com/css?family=Roboto') === 0 ||\n        href.indexOf('https://fonts.googleapis.com/css?family=Google+Sans+Text') === 0)) {\n        return true;\n    }\n    // font style elements\n    if (element.tagName.toLowerCase() === 'style' &&\n        // @ts-ignore\n        element.styleSheet &&\n        // @ts-ignore\n        element.styleSheet.cssText &&\n        // @ts-ignore\n        element.styleSheet.cssText.replace('\\r\\n', '').indexOf('.gm-style') === 0) {\n        // @ts-ignore\n        element.styleSheet.cssText = '';\n        return true;\n    }\n    // font style elements for other browsers\n    if (element.tagName.toLowerCase() === 'style' &&\n        element.innerHTML &&\n        element.innerHTML.replace('\\r\\n', '').indexOf('.gm-style') === 0) {\n        element.innerHTML = '';\n        return true;\n    }\n    // when google tries to add empty style\n    if (element.tagName.toLowerCase() === 'style' &&\n        // @ts-ignore\n        !element.styleSheet &&\n        !element.innerHTML) {\n        return true;\n    }\n    return false;\n}\n// Preventing the Google Maps library from downloading an extra font\nfunction preventGoogleFonts() {\n    // we override these methods only for one particular head element\n    // default methods for other elements are not affected\n    const head = document.getElementsByTagName('head')[0];\n    const trueInsertBefore = head.insertBefore.bind(head);\n    // TODO: adding return before reflect solves the TS issue\n    // @ts-ignore\n    head.insertBefore = function insertBefore(newElement, referenceElement) {\n        if (!isGoogleFontStyle(newElement)) {\n            Reflect.apply(trueInsertBefore, head, [newElement, referenceElement]);\n        }\n    };\n    const trueAppend = head.appendChild.bind(head);\n    // TODO: adding return before reflect solves the TS issue\n    // @ts-ignore\n    head.appendChild = function appendChild(textNode) {\n        if (!isGoogleFontStyle(textNode)) {\n            Reflect.apply(trueAppend, head, [textNode]);\n        }\n    };\n}\n\nfunction makeLoadScriptUrl({ googleMapsApiKey, googleMapsClientId, version = 'weekly', language, region, libraries, channel, mapIds, authReferrerPolicy }) {\n    const params = [];\n    invariant_1((googleMapsApiKey && googleMapsClientId) || !(googleMapsApiKey && googleMapsClientId), 'You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time.');\n    if (googleMapsApiKey) {\n        params.push(`key=${googleMapsApiKey}`);\n    }\n    else if (googleMapsClientId) {\n        params.push(`client=${googleMapsClientId}`);\n    }\n    if (version) {\n        params.push(`v=${version}`);\n    }\n    if (language) {\n        params.push(`language=${language}`);\n    }\n    if (region) {\n        params.push(`region=${region}`);\n    }\n    if (libraries && libraries.length) {\n        params.push(`libraries=${libraries.sort().join(',')}`);\n    }\n    if (channel) {\n        params.push(`channel=${channel}`);\n    }\n    if (mapIds && mapIds.length) {\n        params.push(`map_ids=${mapIds.join(',')}`);\n    }\n    if (authReferrerPolicy) {\n        params.push(`auth_referrer_policy=${authReferrerPolicy}`);\n    }\n    params.push('callback=initMap');\n    return `https://maps.googleapis.com/maps/api/js?${params.join('&')}`;\n}\n\nlet cleaningUp = false;\nfunction DefaultLoadingElement() {\n    return jsxRuntime.exports.jsx(\"div\", { children: `Loading...` });\n}\nconst defaultLoadScriptProps = {\n    id: 'script-loader',\n    version: 'weekly',\n};\nclass LoadScript extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.check = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();\n        this.state = {\n            loaded: false,\n        };\n        this.cleanupCallback = () => {\n            // @ts-ignore\n            delete window.google.maps;\n            this.injectScript();\n        };\n        this.isCleaningUp = () => __awaiter(this, void 0, void 0, function* () {\n            function promiseCallback(resolve) {\n                if (!cleaningUp) {\n                    resolve();\n                }\n                else {\n                    if (isBrowser) {\n                        const timer = window.setInterval(function interval() {\n                            if (!cleaningUp) {\n                                window.clearInterval(timer);\n                                resolve();\n                            }\n                        }, 1);\n                    }\n                }\n                return;\n            }\n            return new Promise(promiseCallback);\n        });\n        this.cleanup = () => {\n            cleaningUp = true;\n            const script = document.getElementById(this.props.id);\n            if (script && script.parentNode) {\n                script.parentNode.removeChild(script);\n            }\n            Array.prototype.slice\n                .call(document.getElementsByTagName('script'))\n                .filter(function filter(script) {\n                return typeof script.src === 'string' && script.src.includes('maps.googleapis');\n            })\n                .forEach(function forEach(script) {\n                if (script.parentNode) {\n                    script.parentNode.removeChild(script);\n                }\n            });\n            Array.prototype.slice\n                .call(document.getElementsByTagName('link'))\n                .filter(function filter(link) {\n                return (link.href === 'https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans');\n            })\n                .forEach(function forEach(link) {\n                if (link.parentNode) {\n                    link.parentNode.removeChild(link);\n                }\n            });\n            Array.prototype.slice\n                .call(document.getElementsByTagName('style'))\n                .filter(function filter(style) {\n                return (style.innerText !== undefined &&\n                    style.innerText.length > 0 &&\n                    style.innerText.includes('.gm-'));\n            })\n                .forEach(function forEach(style) {\n                if (style.parentNode) {\n                    style.parentNode.removeChild(style);\n                }\n            });\n        };\n        this.injectScript = () => {\n            if (this.props.preventGoogleFontsLoading) {\n                preventGoogleFonts();\n            }\n            invariant_1(!!this.props.id, 'LoadScript requires \"id\" prop to be a string: %s', this.props.id);\n            const injectScriptOptions = {\n                id: this.props.id,\n                nonce: this.props.nonce,\n                url: makeLoadScriptUrl(this.props),\n            };\n            injectScript(injectScriptOptions)\n                .then(() => {\n                if (this.props.onLoad) {\n                    this.props.onLoad();\n                }\n                this.setState(function setLoaded() {\n                    return {\n                        loaded: true,\n                    };\n                });\n                return;\n            })\n                .catch(err => {\n                if (this.props.onError) {\n                    this.props.onError(err);\n                }\n                console.error(`\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${this\n                    .props.googleMapsApiKey || '-'}) or Client ID (${this.props.googleMapsClientId ||\n                    '-'}) to <LoadScript />\n          Otherwise it is a Network issue.\n        `);\n            });\n        };\n    }\n    componentDidMount() {\n        if (isBrowser) {\n            if (window.google && window.google.maps && !cleaningUp) {\n                console.error('google api is already presented');\n                return;\n            }\n            this.isCleaningUp()\n                .then(this.injectScript)\n                .catch(function error(err) {\n                console.error('Error at injecting script after cleaning up: ', err);\n            });\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.libraries !== prevProps.libraries) {\n            console.warn('Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables');\n        }\n        if (isBrowser && prevProps.language !== this.props.language) {\n            this.cleanup();\n            // TODO: refactor to use gDSFP maybe... wait for hooks refactoring.\n            // eslint-disable-next-line react/no-did-update-set-state\n            this.setState(function setLoaded() {\n                return {\n                    loaded: false,\n                };\n            }, this.cleanupCallback);\n        }\n    }\n    componentWillUnmount() {\n        if (isBrowser) {\n            this.cleanup();\n            const timeoutCallback = () => {\n                if (!this.check.current) {\n                    // @ts-ignore\n                    delete window.google;\n                    cleaningUp = false;\n                }\n            };\n            window.setTimeout(timeoutCallback, 1);\n            if (this.props.onUnmount) {\n                this.props.onUnmount();\n            }\n        }\n    }\n    render() {\n        return (jsxRuntime.exports.jsxs(jsxRuntime.exports.Fragment, { children: [jsxRuntime.exports.jsx(\"div\", { ref: this.check }), this.state.loaded\n                    ? this.props.children\n                    : this.props.loadingElement || jsxRuntime.exports.jsx(DefaultLoadingElement, {})] }));\n    }\n}\nLoadScript.defaultProps = defaultLoadScriptProps;\n\n/* eslint-disable filenames/match-regex */\nlet previouslyLoadedUrl;\nfunction useLoadScript({ id = defaultLoadScriptProps.id, version = defaultLoadScriptProps.version, nonce, googleMapsApiKey, googleMapsClientId, language, region, libraries, preventGoogleFontsLoading, channel, mapIds, authReferrerPolicy, }) {\n    const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const [isLoaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [loadError, setLoadError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function trackMountedState() {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function applyPreventGoogleFonts() {\n        if (isBrowser && preventGoogleFontsLoading) {\n            preventGoogleFonts();\n        }\n    }, [preventGoogleFontsLoading]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function validateLoadedState() {\n        if (isLoaded) {\n            invariant_1(!!window.google, 'useLoadScript was marked as loaded, but window.google is not present. Something went wrong.');\n        }\n    }, [isLoaded]);\n    const url = makeLoadScriptUrl({\n        version,\n        googleMapsApiKey,\n        googleMapsClientId,\n        language,\n        region,\n        libraries,\n        channel,\n        mapIds,\n        authReferrerPolicy\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function loadScriptAndModifyLoadedState() {\n        if (!isBrowser) {\n            return;\n        }\n        function setLoadedIfMounted() {\n            if (isMounted.current) {\n                setLoaded(true);\n                previouslyLoadedUrl = url;\n            }\n        }\n        if (window.google && window.google.maps && previouslyLoadedUrl === url) {\n            setLoadedIfMounted();\n            return;\n        }\n        injectScript({ id, url, nonce })\n            .then(setLoadedIfMounted)\n            .catch(function handleInjectError(err) {\n            if (isMounted.current) {\n                setLoadError(err);\n            }\n            console.warn(`\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${googleMapsApiKey ||\n                '-'}) or Client ID (${googleMapsClientId || '-'})\n        Otherwise it is a Network issue.\n      `);\n            console.error(err);\n        });\n    }, [id, url, nonce]);\n    const prevLibraries = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function checkPerformance() {\n        if (prevLibraries.current && libraries !== prevLibraries.current) {\n            console.warn('Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables');\n        }\n        prevLibraries.current = libraries;\n    }, [libraries]);\n    return { isLoaded, loadError, url };\n}\n\nconst defaultLoadingElement = jsxRuntime.exports.jsx(DefaultLoadingElement, {});\nfunction LoadScriptNext(_a) {\n    var { loadingElement, onLoad, onError, onUnmount, children } = _a, hookOptions = __rest$1(_a, [\"loadingElement\", \"onLoad\", \"onError\", \"onUnmount\", \"children\"]);\n    const { isLoaded, loadError } = useLoadScript(hookOptions);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function handleOnLoad() {\n        if (isLoaded && typeof onLoad === 'function') {\n            onLoad();\n        }\n    }, [isLoaded, onLoad]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function handleOnError() {\n        if (loadError && typeof onError === 'function') {\n            onError(loadError);\n        }\n    }, [loadError, onError]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function handleOnUnmount() {\n        return () => {\n            if (onUnmount) {\n                onUnmount();\n            }\n        };\n    }, [onUnmount]);\n    return isLoaded ? children : loadingElement || defaultLoadingElement;\n}\nvar LoadScriptNext$1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(LoadScriptNext);\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nvar fastDeepEqual$1 = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n\n/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at.\n *\n *      Http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst DEFAULT_ID = \"__googleMapsScriptId\";\n/**\n * The status of the [[Loader]].\n */\nvar LoaderStatus;\n(function (LoaderStatus) {\n    LoaderStatus[LoaderStatus[\"INITIALIZED\"] = 0] = \"INITIALIZED\";\n    LoaderStatus[LoaderStatus[\"LOADING\"] = 1] = \"LOADING\";\n    LoaderStatus[LoaderStatus[\"SUCCESS\"] = 2] = \"SUCCESS\";\n    LoaderStatus[LoaderStatus[\"FAILURE\"] = 3] = \"FAILURE\";\n})(LoaderStatus || (LoaderStatus = {}));\n/**\n * [[Loader]] makes it easier to add Google Maps JavaScript API to your application\n * dynamically using\n * [Promises](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise).\n * It works by dynamically creating and appending a script node to the the\n * document head and wrapping the callback function so as to return a promise.\n *\n * ```\n * const loader = new Loader({\n *   apiKey: \"\",\n *   version: \"weekly\",\n *   libraries: [\"places\"]\n * });\n *\n * loader.load().then((google) => {\n *   const map = new google.maps.Map(...)\n * })\n * ```\n */\nclass Loader {\n    /**\n     * Creates an instance of Loader using [[LoaderOptions]]. No defaults are set\n     * using this library, instead the defaults are set by the Google Maps\n     * JavaScript API server.\n     *\n     * ```\n     * const loader = Loader({apiKey, version: 'weekly', libraries: ['places']});\n     * ```\n     */\n    constructor({ apiKey, authReferrerPolicy, channel, client, id = DEFAULT_ID, language, libraries = [], mapIds, nonce, region, retries = 3, url = \"https://maps.googleapis.com/maps/api/js\", version, }) {\n        this.CALLBACK = \"__googleMapsCallback\";\n        this.callbacks = [];\n        this.done = false;\n        this.loading = false;\n        this.errors = [];\n        this.apiKey = apiKey;\n        this.authReferrerPolicy = authReferrerPolicy;\n        this.channel = channel;\n        this.client = client;\n        this.id = id || DEFAULT_ID; // Do not allow empty string\n        this.language = language;\n        this.libraries = libraries;\n        this.mapIds = mapIds;\n        this.nonce = nonce;\n        this.region = region;\n        this.retries = retries;\n        this.url = url;\n        this.version = version;\n        if (Loader.instance) {\n            if (!fastDeepEqual$1(this.options, Loader.instance.options)) {\n                throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Loader.instance.options)}`);\n            }\n            return Loader.instance;\n        }\n        Loader.instance = this;\n    }\n    get options() {\n        return {\n            version: this.version,\n            apiKey: this.apiKey,\n            channel: this.channel,\n            client: this.client,\n            id: this.id,\n            libraries: this.libraries,\n            language: this.language,\n            region: this.region,\n            mapIds: this.mapIds,\n            nonce: this.nonce,\n            url: this.url,\n            authReferrerPolicy: this.authReferrerPolicy,\n        };\n    }\n    get status() {\n        if (this.errors.length) {\n            return LoaderStatus.FAILURE;\n        }\n        if (this.done) {\n            return LoaderStatus.SUCCESS;\n        }\n        if (this.loading) {\n            return LoaderStatus.LOADING;\n        }\n        return LoaderStatus.INITIALIZED;\n    }\n    get failed() {\n        return this.done && !this.loading && this.errors.length >= this.retries + 1;\n    }\n    /**\n     * CreateUrl returns the Google Maps JavaScript API script url given the [[LoaderOptions]].\n     *\n     * @ignore\n     */\n    createUrl() {\n        let url = this.url;\n        url += `?callback=${this.CALLBACK}`;\n        if (this.apiKey) {\n            url += `&key=${this.apiKey}`;\n        }\n        if (this.channel) {\n            url += `&channel=${this.channel}`;\n        }\n        if (this.client) {\n            url += `&client=${this.client}`;\n        }\n        if (this.libraries.length > 0) {\n            url += `&libraries=${this.libraries.join(\",\")}`;\n        }\n        if (this.language) {\n            url += `&language=${this.language}`;\n        }\n        if (this.region) {\n            url += `&region=${this.region}`;\n        }\n        if (this.version) {\n            url += `&v=${this.version}`;\n        }\n        if (this.mapIds) {\n            url += `&map_ids=${this.mapIds.join(\",\")}`;\n        }\n        if (this.authReferrerPolicy) {\n            url += `&auth_referrer_policy=${this.authReferrerPolicy}`;\n        }\n        return url;\n    }\n    deleteScript() {\n        const script = document.getElementById(this.id);\n        if (script) {\n            script.remove();\n        }\n    }\n    /**\n     * Load the Google Maps JavaScript API script and return a Promise.\n     */\n    load() {\n        return this.loadPromise();\n    }\n    /**\n     * Load the Google Maps JavaScript API script and return a Promise.\n     *\n     * @ignore\n     */\n    loadPromise() {\n        return new Promise((resolve, reject) => {\n            this.loadCallback((err) => {\n                if (!err) {\n                    resolve(window.google);\n                }\n                else {\n                    reject(err.error);\n                }\n            });\n        });\n    }\n    /**\n     * Load the Google Maps JavaScript API script with a callback.\n     */\n    loadCallback(fn) {\n        this.callbacks.push(fn);\n        this.execute();\n    }\n    /**\n     * Set the script on document.\n     */\n    setScript() {\n        if (document.getElementById(this.id)) {\n            // TODO wrap onerror callback for cases where the script was loaded elsewhere\n            this.callback();\n            return;\n        }\n        const url = this.createUrl();\n        const script = document.createElement(\"script\");\n        script.id = this.id;\n        script.type = \"text/javascript\";\n        script.src = url;\n        script.onerror = this.loadErrorCallback.bind(this);\n        script.defer = true;\n        script.async = true;\n        if (this.nonce) {\n            script.nonce = this.nonce;\n        }\n        document.head.appendChild(script);\n    }\n    /**\n     * Reset the loader state.\n     */\n    reset() {\n        this.deleteScript();\n        this.done = false;\n        this.loading = false;\n        this.errors = [];\n        this.onerrorEvent = null;\n    }\n    resetIfRetryingFailed() {\n        if (this.failed) {\n            this.reset();\n        }\n    }\n    loadErrorCallback(e) {\n        this.errors.push(e);\n        if (this.errors.length <= this.retries) {\n            const delay = this.errors.length * Math.pow(2, this.errors.length);\n            console.log(`Failed to load Google Maps script, retrying in ${delay} ms.`);\n            setTimeout(() => {\n                this.deleteScript();\n                this.setScript();\n            }, delay);\n        }\n        else {\n            this.onerrorEvent = e;\n            this.callback();\n        }\n    }\n    setCallback() {\n        window.__googleMapsCallback = this.callback.bind(this);\n    }\n    callback() {\n        this.done = true;\n        this.loading = false;\n        this.callbacks.forEach((cb) => {\n            cb(this.onerrorEvent);\n        });\n        this.callbacks = [];\n    }\n    execute() {\n        this.resetIfRetryingFailed();\n        if (this.done) {\n            this.callback();\n        }\n        else {\n            // short circuit and warn if google.maps is already loaded\n            if (window.google && window.google.maps && window.google.maps.version) {\n                console.warn(\"Google Maps already loaded outside @googlemaps/js-api-loader.\" +\n                    \"This may result in undesirable behavior as options and script parameters may not match.\");\n                this.callback();\n                return;\n            }\n            if (this.loading) ;\n            else {\n                this.loading = true;\n                this.setCallback();\n                this.setScript();\n            }\n        }\n    }\n}\n\nfunction useJsApiLoader({ id = defaultLoadScriptProps.id, version = defaultLoadScriptProps.version, nonce, googleMapsApiKey, \n// googleMapsClientId,\nlanguage, region, libraries, preventGoogleFontsLoading, \n// channel,\nmapIds, authReferrerPolicy, }) {\n    const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const [isLoaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [loadError, setLoadError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function trackMountedState() {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    const loader = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function memo() {\n        return new Loader({\n            id,\n            apiKey: googleMapsApiKey,\n            version,\n            libraries,\n            language,\n            region,\n            mapIds,\n            nonce,\n            authReferrerPolicy,\n        });\n    }, [id, googleMapsApiKey, version, libraries, language, region, mapIds, nonce, authReferrerPolicy]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function effect() {\n        if (isLoaded) {\n            return;\n        }\n        else {\n            loader.load().then(function then() {\n                if (isMounted.current)\n                    setLoaded(true);\n            })\n                .catch(function onrejected(error) {\n                setLoadError(error);\n            });\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function applyPreventGoogleFonts() {\n        if (isBrowser && preventGoogleFontsLoading) {\n            preventGoogleFonts();\n        }\n    }, [preventGoogleFontsLoading]);\n    const prevLibraries = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function effect() {\n        if (prevLibraries.current && libraries !== prevLibraries.current) {\n            console.warn('Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables');\n        }\n        prevLibraries.current = libraries;\n    }, [libraries]);\n    return { isLoaded, loadError };\n}\n\nconst eventMap$h = {};\nconst updaterMap$h = {\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n};\nfunction TrafficLayerFunctional({ options, onLoad, onUnmount }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (options && instance !== null) {\n            instance.setOptions(options);\n        }\n    }, [instance, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const trafficLayer = new google.maps.TrafficLayer(Object.assign(Object.assign({}, (options || {})), { map }));\n        setInstance(trafficLayer);\n        if (onLoad) {\n            onLoad(trafficLayer);\n        }\n        return () => {\n            if (instance !== null) {\n                if (onUnmount) {\n                    onUnmount(instance);\n                }\n                instance.setMap(null);\n            }\n        };\n    }, []);\n    return null;\n}\nconst TrafficLayerF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(TrafficLayerFunctional);\nclass TrafficLayer extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            trafficLayer: null,\n        };\n        this.setTrafficLayerCallback = () => {\n            if (this.state.trafficLayer !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.trafficLayer);\n            }\n        };\n        this.registeredEvents = [];\n    }\n    componentDidMount() {\n        const trafficLayer = new google.maps.TrafficLayer(Object.assign(Object.assign({}, (this.props.options || {})), { map: this.context }));\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$h,\n            eventMap: eventMap$h,\n            prevProps: {},\n            nextProps: this.props,\n            instance: trafficLayer,\n        });\n        this.setState(function setTrafficLayer() {\n            return {\n                trafficLayer,\n            };\n        }, this.setTrafficLayerCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.trafficLayer !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$h,\n                eventMap: eventMap$h,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.trafficLayer,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.trafficLayer !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.trafficLayer);\n            }\n            unregisterEvents(this.registeredEvents);\n            // @ts-ignore\n            this.state.trafficLayer.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nTrafficLayer.contextType = MapContext;\n\nfunction BicyclingLayerFunctional({ onLoad, onUnmount }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const bicyclingLayer = new google.maps.BicyclingLayer();\n        setInstance(bicyclingLayer);\n        bicyclingLayer.setMap(map);\n        if (onLoad) {\n            onLoad(bicyclingLayer);\n        }\n        return () => {\n            if (bicyclingLayer !== null) {\n                if (onUnmount) {\n                    onUnmount(bicyclingLayer);\n                }\n                bicyclingLayer.setMap(null);\n            }\n        };\n    }, []);\n    return null;\n}\nconst BicyclingLayerF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(BicyclingLayerFunctional);\nclass BicyclingLayer extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            bicyclingLayer: null,\n        };\n        this.setBicyclingLayerCallback = () => {\n            if (this.state.bicyclingLayer !== null) {\n                this.state.bicyclingLayer.setMap(this.context);\n                if (this.props.onLoad) {\n                    this.props.onLoad(this.state.bicyclingLayer);\n                }\n            }\n        };\n    }\n    componentDidMount() {\n        const bicyclingLayer = new google.maps.BicyclingLayer();\n        this.setState(() => {\n            return {\n                bicyclingLayer,\n            };\n        }, this.setBicyclingLayerCallback);\n    }\n    componentWillUnmount() {\n        if (this.state.bicyclingLayer !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.bicyclingLayer);\n            }\n            this.state.bicyclingLayer.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nBicyclingLayer.contextType = MapContext;\n\nfunction TransitLayerFunctional({ onLoad, onUnmount }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const transitLayer = new google.maps.TransitLayer();\n        setInstance(transitLayer);\n        transitLayer.setMap(map);\n        if (onLoad) {\n            onLoad(transitLayer);\n        }\n        return () => {\n            if (instance !== null) {\n                if (onUnmount) {\n                    onUnmount(instance);\n                }\n                // @ts-ignore\n                this.state.transitLayer.setMap(null);\n            }\n        };\n    }, []);\n    return null;\n}\nconst TransitLayerF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(TransitLayerFunctional);\nclass TransitLayer extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            transitLayer: null,\n        };\n        this.setTransitLayerCallback = () => {\n            if (this.state.transitLayer !== null) {\n                // @ts-ignore\n                this.state.transitLayer.setMap(this.context);\n                if (this.props.onLoad) {\n                    // @ts-ignore\n                    this.props.onLoad(this.state.transitLayer);\n                }\n            }\n        };\n    }\n    componentDidMount() {\n        const transitLayer = new google.maps.TransitLayer();\n        this.setState(function setTransitLayer() {\n            return {\n                transitLayer,\n            };\n        }, this.setTransitLayerCallback);\n    }\n    componentWillUnmount() {\n        if (this.state.transitLayer !== null) {\n            if (this.props.onUnmount) {\n                // @ts-ignore\n                this.props.onUnmount(this.state.transitLayer);\n            }\n            // @ts-ignore\n            this.state.transitLayer.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nTransitLayer.contextType = MapContext;\n\n/* globals google */\nconst eventMap$g = {\n    onCircleComplete: 'circlecomplete',\n    onMarkerComplete: 'markercomplete',\n    onOverlayComplete: 'overlaycomplete',\n    onPolygonComplete: 'polygoncomplete',\n    onPolylineComplete: 'polylinecomplete',\n    onRectangleComplete: 'rectanglecomplete',\n};\nconst updaterMap$g = {\n    drawingMode(instance, drawingMode) {\n        instance.setDrawingMode(drawingMode);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n};\nfunction DrawingManagerFunctional({ options, drawingMode, onCircleComplete, onMarkerComplete, onOverlayComplete, onPolygonComplete, onPolylineComplete, onRectangleComplete, onLoad, onUnmount }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [circlecompleteListener, setCircleCompleteListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [markercompleteListener, setMarkerCompleteListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [overlaycompleteListener, setOverlayCompleteListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [polygoncompleteListener, setPolygonCompleteListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [polylinecompleteListener, setPolylineCompleteListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [rectanglecompleteListener, setRectangleCompleteListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (options && instance !== null) {\n            instance.setOptions(options);\n        }\n    }, [instance, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (drawingMode && instance !== null) {\n            instance.setDrawingMode(drawingMode);\n        }\n    }, [instance, drawingMode]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onCircleComplete) {\n            if (circlecompleteListener !== null) {\n                google.maps.event.removeListener(circlecompleteListener);\n            }\n            setCircleCompleteListener(google.maps.event.addListener(instance, 'circlecomplete', onCircleComplete));\n        }\n    }, [instance, onCircleComplete]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMarkerComplete) {\n            if (markercompleteListener !== null) {\n                google.maps.event.removeListener(markercompleteListener);\n            }\n            setMarkerCompleteListener(google.maps.event.addListener(instance, 'markercomplete', onMarkerComplete));\n        }\n    }, [instance, onMarkerComplete]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onOverlayComplete) {\n            if (overlaycompleteListener !== null) {\n                google.maps.event.removeListener(overlaycompleteListener);\n            }\n            setOverlayCompleteListener(google.maps.event.addListener(instance, 'overlaycomplete', onOverlayComplete));\n        }\n    }, [instance, onOverlayComplete]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onPolygonComplete) {\n            if (polygoncompleteListener !== null) {\n                google.maps.event.removeListener(polygoncompleteListener);\n            }\n            setPolygonCompleteListener(google.maps.event.addListener(instance, 'polygoncomplete', onPolygonComplete));\n        }\n    }, [instance, onPolygonComplete]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onPolylineComplete) {\n            if (polylinecompleteListener !== null) {\n                google.maps.event.removeListener(polylinecompleteListener);\n            }\n            setPolylineCompleteListener(google.maps.event.addListener(instance, 'polylinecomplete', onPolylineComplete));\n        }\n    }, [instance, onPolylineComplete]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRectangleComplete) {\n            if (rectanglecompleteListener !== null) {\n                google.maps.event.removeListener(rectanglecompleteListener);\n            }\n            setRectangleCompleteListener(google.maps.event.addListener(instance, 'rectanglecomplete', onRectangleComplete));\n        }\n    }, [instance, onRectangleComplete]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        invariant_1(!!google.maps.drawing, `Did you include prop libraries={['drawing']} in the URL? %s`, google.maps.drawing);\n        const drawingManager = new google.maps.drawing.DrawingManager(Object.assign(Object.assign({}, (options || {})), { map }));\n        if (drawingMode) {\n            drawingManager.setDrawingMode(drawingMode);\n        }\n        if (onCircleComplete) {\n            setCircleCompleteListener(google.maps.event.addListener(drawingManager, 'circlecomplete', onCircleComplete));\n        }\n        if (onMarkerComplete) {\n            setMarkerCompleteListener(google.maps.event.addListener(drawingManager, 'markercomplete', onMarkerComplete));\n        }\n        if (onOverlayComplete) {\n            setOverlayCompleteListener(google.maps.event.addListener(drawingManager, 'overlaycomplete', onOverlayComplete));\n        }\n        if (onPolygonComplete) {\n            setPolygonCompleteListener(google.maps.event.addListener(drawingManager, 'polygoncomplete', onPolygonComplete));\n        }\n        if (onPolylineComplete) {\n            setPolylineCompleteListener(google.maps.event.addListener(drawingManager, 'polylinecomplete', onPolylineComplete));\n        }\n        if (onRectangleComplete) {\n            setRectangleCompleteListener(google.maps.event.addListener(drawingManager, 'rectanglecomplete', onRectangleComplete));\n        }\n        setInstance(drawingManager);\n        if (onLoad) {\n            onLoad(drawingManager);\n        }\n        return () => {\n            if (instance !== null) {\n                if (circlecompleteListener) {\n                    google.maps.event.removeListener(circlecompleteListener);\n                }\n                if (markercompleteListener) {\n                    google.maps.event.removeListener(markercompleteListener);\n                }\n                if (overlaycompleteListener) {\n                    google.maps.event.removeListener(overlaycompleteListener);\n                }\n                if (polygoncompleteListener) {\n                    google.maps.event.removeListener(polygoncompleteListener);\n                }\n                if (polylinecompleteListener) {\n                    google.maps.event.removeListener(polylinecompleteListener);\n                }\n                if (rectanglecompleteListener) {\n                    google.maps.event.removeListener(rectanglecompleteListener);\n                }\n                if (onUnmount) {\n                    onUnmount(instance);\n                }\n                instance.setMap(null);\n            }\n        };\n    }, []);\n    return null;\n}\nconst DrawingManagerF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(DrawingManagerFunctional);\nclass DrawingManager extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor(props) {\n        super(props);\n        this.registeredEvents = [];\n        this.state = {\n            drawingManager: null,\n        };\n        this.setDrawingManagerCallback = () => {\n            if (this.state.drawingManager !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.drawingManager);\n            }\n        };\n        invariant_1(!!google.maps.drawing, `Did you include prop libraries={['drawing']} in the URL? %s`, google.maps.drawing);\n    }\n    componentDidMount() {\n        const drawingManager = new google.maps.drawing.DrawingManager(Object.assign(Object.assign({}, (this.props.options || {})), { map: this.context }));\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$g,\n            eventMap: eventMap$g,\n            prevProps: {},\n            nextProps: this.props,\n            instance: drawingManager,\n        });\n        this.setState(function setDrawingManager() {\n            return {\n                drawingManager,\n            };\n        }, this.setDrawingManagerCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.drawingManager !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$g,\n                eventMap: eventMap$g,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.drawingManager,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.drawingManager !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.drawingManager);\n            }\n            unregisterEvents(this.registeredEvents);\n            this.state.drawingManager.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nDrawingManager.contextType = MapContext;\n\nconst eventMap$f = {\n    onAnimationChanged: 'animation_changed',\n    onClick: 'click',\n    onClickableChanged: 'clickable_changed',\n    onCursorChanged: 'cursor_changed',\n    onDblClick: 'dblclick',\n    onDrag: 'drag',\n    onDragEnd: 'dragend',\n    onDraggableChanged: 'draggable_changed',\n    onDragStart: 'dragstart',\n    onFlatChanged: 'flat_changed',\n    onIconChanged: 'icon_changed',\n    onMouseDown: 'mousedown',\n    onMouseOut: 'mouseout',\n    onMouseOver: 'mouseover',\n    onMouseUp: 'mouseup',\n    onPositionChanged: 'position_changed',\n    onRightClick: 'rightclick',\n    onShapeChanged: 'shape_changed',\n    onTitleChanged: 'title_changed',\n    onVisibleChanged: 'visible_changed',\n    onZindexChanged: 'zindex_changed',\n};\nconst updaterMap$f = {\n    animation(instance, animation) {\n        instance.setAnimation(animation);\n    },\n    clickable(instance, clickable) {\n        instance.setClickable(clickable);\n    },\n    cursor(instance, cursor) {\n        instance.setCursor(cursor);\n    },\n    draggable(instance, draggable) {\n        instance.setDraggable(draggable);\n    },\n    icon(instance, icon) {\n        instance.setIcon(icon);\n    },\n    label(instance, label) {\n        instance.setLabel(label);\n    },\n    map(instance, map) {\n        instance.setMap(map);\n    },\n    opacity(instance, opacity) {\n        instance.setOpacity(opacity);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    position(instance, position) {\n        instance.setPosition(position);\n    },\n    shape(instance, shape) {\n        instance.setShape(shape);\n    },\n    title(instance, title) {\n        instance.setTitle(title);\n    },\n    visible(instance, visible) {\n        instance.setVisible(visible);\n    },\n    zIndex(instance, zIndex) {\n        instance.setZIndex(zIndex);\n    },\n};\nconst defaultOptions$4 = {};\nfunction MarkerFunctional({ position, options, clusterer, noClustererRedraw, children, draggable, visible, animation, clickable, cursor, icon, label, opacity, shape, title, zIndex, onClick, onDblClick, onDrag, onDragEnd, onDragStart, onMouseOut, onMouseOver, onMouseUp, onMouseDown, onRightClick, onClickableChanged, onCursorChanged, onAnimationChanged, onDraggableChanged, onFlatChanged, onIconChanged, onPositionChanged, onShapeChanged, onTitleChanged, onVisibleChanged, onZindexChanged, onLoad, onUnmount }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dblclickListener, setDblclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragendListener, setDragendListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragstartListener, setDragstartListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousedownListener, setMousedownListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoutListener, setMouseoutListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoverListener, setMouseoverListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseupListener, setMouseupListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [rightclickListener, setRightclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [clickListener, setClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragListener, setDragListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [clickableChangedListener, setClickableChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [cursorChangedListener, setCursorChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [animationChangedListener, setAnimationChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [draggableChangedListener, setDraggableChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [flatChangedListener, setFlatChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [iconChangedListener, setIconChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [positionChangedListener, setPositionChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [shapeChangedListener, setShapeChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [titleChangedListener, setTitleChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [visibleChangedListener, setVisibleChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [zIndexChangedListener, setZindexChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof options !== 'undefined' && instance !== null) {\n            instance.setOptions(options);\n        }\n    }, [instance, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof draggable !== 'undefined' && instance !== null) {\n            instance.setDraggable(draggable);\n        }\n    }, [instance, draggable]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (position && instance !== null) {\n            instance.setPosition(position);\n        }\n    }, [instance, position]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof visible !== 'undefined' && instance !== null) {\n            instance.setVisible(visible);\n        }\n    }, [instance, visible]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (animation && instance !== null) {\n            instance.setAnimation(animation);\n        }\n    }, [instance, animation]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDblClick) {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            setDblclickListener(google.maps.event.addListener(instance, 'dblclick', onDblClick));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragEnd) {\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            setDragendListener(google.maps.event.addListener(instance, 'dragend', onDragEnd));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragStart) {\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            setDragstartListener(google.maps.event.addListener(instance, 'dragstart', onDragStart));\n        }\n    }, [onDragStart]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseDown) {\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            setMousedownListener(google.maps.event.addListener(instance, 'mousedown', onMouseDown));\n        }\n    }, [onMouseDown]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOut) {\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            setMouseoutListener(google.maps.event.addListener(instance, 'mouseout', onMouseOut));\n        }\n    }, [onMouseOut]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOver) {\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            setMouseoverListener(google.maps.event.addListener(instance, 'mouseover', onMouseOver));\n        }\n    }, [onMouseOver]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseUp) {\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            setMouseupListener(google.maps.event.addListener(instance, 'mouseup', onMouseUp));\n        }\n    }, [onMouseUp]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRightClick) {\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            setRightclickListener(google.maps.event.addListener(instance, 'rightclick', onRightClick));\n        }\n    }, [onRightClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onClick) {\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            setClickListener(google.maps.event.addListener(instance, 'click', onClick));\n        }\n    }, [onClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDrag) {\n            if (dragListener !== null) {\n                google.maps.event.removeListener(dragListener);\n            }\n            setDragListener(google.maps.event.addListener(instance, 'drag', onDrag));\n        }\n    }, [onDrag]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onClickableChanged) {\n            if (clickableChangedListener !== null) {\n                google.maps.event.removeListener(clickableChangedListener);\n            }\n            setClickableChangedListener(google.maps.event.addListener(instance, 'clickable_changed', onClickableChanged));\n        }\n    }, [onClickableChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onCursorChanged) {\n            if (cursorChangedListener !== null) {\n                google.maps.event.removeListener(cursorChangedListener);\n            }\n            setCursorChangedListener(google.maps.event.addListener(instance, 'cursor_changed', onCursorChanged));\n        }\n    }, [onCursorChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onAnimationChanged) {\n            if (animationChangedListener !== null) {\n                google.maps.event.removeListener(animationChangedListener);\n            }\n            setAnimationChangedListener(google.maps.event.addListener(instance, 'animation_changed', onAnimationChanged));\n        }\n    }, [onAnimationChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDraggableChanged) {\n            if (draggableChangedListener !== null) {\n                google.maps.event.removeListener(draggableChangedListener);\n            }\n            setDraggableChangedListener(google.maps.event.addListener(instance, 'draggable_changed', onDraggableChanged));\n        }\n    }, [onDraggableChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onFlatChanged) {\n            if (flatChangedListener !== null) {\n                google.maps.event.removeListener(flatChangedListener);\n            }\n            setFlatChangedListener(google.maps.event.addListener(instance, 'flat_changed', onFlatChanged));\n        }\n    }, [onFlatChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onIconChanged) {\n            if (iconChangedListener !== null) {\n                google.maps.event.removeListener(iconChangedListener);\n            }\n            setIconChangedListener(google.maps.event.addListener(instance, 'icon_changed', onIconChanged));\n        }\n    }, [onIconChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onPositionChanged) {\n            if (positionChangedListener !== null) {\n                google.maps.event.removeListener(positionChangedListener);\n            }\n            setPositionChangedListener(google.maps.event.addListener(instance, 'position_changed', onPositionChanged));\n        }\n    }, [onPositionChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onShapeChanged) {\n            if (shapeChangedListener !== null) {\n                google.maps.event.removeListener(shapeChangedListener);\n            }\n            setShapeChangedListener(google.maps.event.addListener(instance, 'shape_changed', onShapeChanged));\n        }\n    }, [onShapeChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onTitleChanged) {\n            if (titleChangedListener !== null) {\n                google.maps.event.removeListener(titleChangedListener);\n            }\n            setTitleChangedListener(google.maps.event.addListener(instance, 'title_changed', onTitleChanged));\n        }\n    }, [onTitleChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onVisibleChanged) {\n            if (visibleChangedListener !== null) {\n                google.maps.event.removeListener(visibleChangedListener);\n            }\n            setVisibleChangedListener(google.maps.event.addListener(instance, 'visible_changed', onVisibleChanged));\n        }\n    }, [onVisibleChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onZindexChanged) {\n            if (zIndexChangedListener !== null) {\n                google.maps.event.removeListener(zIndexChangedListener);\n            }\n            setZindexChangedListener(google.maps.event.addListener(instance, 'zindex_changed', onZindexChanged));\n        }\n    }, [onZindexChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const markerOptions = Object.assign(Object.assign(Object.assign({}, (options || defaultOptions$4)), (clusterer ? defaultOptions$4 : { map })), { position: position });\n        const marker = new google.maps.Marker(markerOptions);\n        if (clusterer) {\n            clusterer.addMarker(marker, !!noClustererRedraw);\n        }\n        else {\n            marker.setMap(map);\n        }\n        if (position) {\n            marker.setPosition(position);\n        }\n        if (typeof visible !== 'undefined') {\n            marker.setVisible(visible);\n        }\n        if (typeof draggable !== 'undefined') {\n            marker.setDraggable(draggable);\n        }\n        if (typeof clickable !== 'undefined') {\n            marker.setClickable(clickable);\n        }\n        if (typeof cursor === 'string') {\n            marker.setCursor(cursor);\n        }\n        if (icon) {\n            marker.setIcon(icon);\n        }\n        if (typeof label !== 'undefined') {\n            marker.setLabel(label);\n        }\n        if (typeof opacity !== 'undefined') {\n            marker.setOpacity(opacity);\n        }\n        if (shape) {\n            marker.setShape(shape);\n        }\n        if (typeof title === 'string') {\n            marker.setTitle(title);\n        }\n        if (typeof zIndex === 'number') {\n            marker.setZIndex(zIndex);\n        }\n        if (onDblClick) {\n            setDblclickListener(google.maps.event.addListener(marker, 'dblclick', onDblClick));\n        }\n        if (onDragEnd) {\n            setDragendListener(google.maps.event.addListener(marker, 'dragend', onDragEnd));\n        }\n        if (onDragStart) {\n            setDragstartListener(google.maps.event.addListener(marker, 'dragstart', onDragStart));\n        }\n        if (onMouseDown) {\n            setMousedownListener(google.maps.event.addListener(marker, 'mousedown', onMouseDown));\n        }\n        if (onMouseOut) {\n            setMouseoutListener(google.maps.event.addListener(marker, 'mouseout', onMouseOut));\n        }\n        if (onMouseOver) {\n            setMouseoverListener(google.maps.event.addListener(marker, 'mouseover', onMouseOver));\n        }\n        if (onMouseUp) {\n            setMouseupListener(google.maps.event.addListener(marker, 'mouseup', onMouseUp));\n        }\n        if (onRightClick) {\n            setRightclickListener(google.maps.event.addListener(marker, 'rightclick', onRightClick));\n        }\n        if (onClick) {\n            setClickListener(google.maps.event.addListener(marker, 'click', onClick));\n        }\n        if (onDrag) {\n            setDragListener(google.maps.event.addListener(marker, 'drag', onDrag));\n        }\n        if (onClickableChanged) {\n            setClickableChangedListener(google.maps.event.addListener(marker, 'clickable_changed', onClickableChanged));\n        }\n        if (onCursorChanged) {\n            setCursorChangedListener(google.maps.event.addListener(marker, 'cursor_changed', onCursorChanged));\n        }\n        if (onAnimationChanged) {\n            setAnimationChangedListener(google.maps.event.addListener(marker, 'animation_changed', onAnimationChanged));\n        }\n        if (onDraggableChanged) {\n            setDraggableChangedListener(google.maps.event.addListener(marker, 'draggable_changed', onDraggableChanged));\n        }\n        if (onFlatChanged) {\n            setFlatChangedListener(google.maps.event.addListener(marker, 'flat_changed', onFlatChanged));\n        }\n        if (onIconChanged) {\n            setIconChangedListener(google.maps.event.addListener(marker, 'icon_changed', onIconChanged));\n        }\n        if (onPositionChanged) {\n            setPositionChangedListener(google.maps.event.addListener(marker, 'position_changed', onPositionChanged));\n        }\n        if (onShapeChanged) {\n            setShapeChangedListener(google.maps.event.addListener(marker, 'shape_changed', onShapeChanged));\n        }\n        if (onTitleChanged) {\n            setTitleChangedListener(google.maps.event.addListener(marker, 'title_changed', onTitleChanged));\n        }\n        if (onVisibleChanged) {\n            setVisibleChangedListener(google.maps.event.addListener(marker, 'visible_changed', onVisibleChanged));\n        }\n        if (onZindexChanged) {\n            setZindexChangedListener(google.maps.event.addListener(marker, 'zindex_changed', onZindexChanged));\n        }\n        setInstance(marker);\n        if (onLoad) {\n            onLoad(marker);\n        }\n        return () => {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            if (clickableChangedListener !== null) {\n                google.maps.event.removeListener(clickableChangedListener);\n            }\n            if (cursorChangedListener !== null) {\n                google.maps.event.removeListener(cursorChangedListener);\n            }\n            if (animationChangedListener !== null) {\n                google.maps.event.removeListener(animationChangedListener);\n            }\n            if (draggableChangedListener !== null) {\n                google.maps.event.removeListener(draggableChangedListener);\n            }\n            if (flatChangedListener !== null) {\n                google.maps.event.removeListener(flatChangedListener);\n            }\n            if (iconChangedListener !== null) {\n                google.maps.event.removeListener(iconChangedListener);\n            }\n            if (positionChangedListener !== null) {\n                google.maps.event.removeListener(positionChangedListener);\n            }\n            if (titleChangedListener !== null) {\n                google.maps.event.removeListener(titleChangedListener);\n            }\n            if (visibleChangedListener !== null) {\n                google.maps.event.removeListener(visibleChangedListener);\n            }\n            if (zIndexChangedListener !== null) {\n                google.maps.event.removeListener(zIndexChangedListener);\n            }\n            if (onUnmount) {\n                onUnmount(marker);\n            }\n            if (clusterer) {\n                clusterer.removeMarker(marker, !!noClustererRedraw);\n            }\n            else if (marker) {\n                marker.setMap(null);\n            }\n        };\n    }, []);\n    const chx = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n        return children\n            ? react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, child => {\n                if (!(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) {\n                    return child;\n                }\n                const elementChild = child;\n                return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(elementChild, { anchor: instance });\n            })\n            : null;\n    }, [children, instance]);\n    return jsxRuntime.exports.jsx(jsxRuntime.exports.Fragment, { children: chx }) || null;\n}\nconst MarkerF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MarkerFunctional);\nclass Marker extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n    }\n    componentDidMount() {\n        const markerOptions = Object.assign(Object.assign(Object.assign({}, (this.props.options || defaultOptions$4)), (this.props.clusterer ? defaultOptions$4 : { map: this.context })), { position: this.props.position });\n        // Unfortunately we can't just do this in the contstructor, because the\n        // `MapContext` might not be filled in yet.\n        this.marker = new google.maps.Marker(markerOptions);\n        if (this.props.clusterer) {\n            this.props.clusterer.addMarker(this.marker, !!this.props.noClustererRedraw);\n        }\n        else {\n            this.marker.setMap(this.context);\n        }\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$f,\n            eventMap: eventMap$f,\n            prevProps: {},\n            nextProps: this.props,\n            instance: this.marker,\n        });\n        if (this.props.onLoad) {\n            this.props.onLoad(this.marker);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.marker) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$f,\n                eventMap: eventMap$f,\n                prevProps,\n                nextProps: this.props,\n                instance: this.marker,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.marker) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.marker);\n            }\n            unregisterEvents(this.registeredEvents);\n            if (this.props.clusterer) {\n                this.props.clusterer.removeMarker(this.marker, !!this.props.noClustererRedraw);\n            }\n            else {\n                this.marker && this.marker.setMap(null);\n            }\n        }\n    }\n    render() {\n        let children = null;\n        if (this.props.children) {\n            children = react__WEBPACK_IMPORTED_MODULE_0__.Children.map(this.props.children, child => {\n                if (!(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) {\n                    return child;\n                }\n                let elementChild = child;\n                return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(elementChild, { anchor: this.marker });\n            });\n        }\n        return children || null;\n    }\n}\nMarker.contextType = MapContext;\n\nvar ClusterIcon = /** @class */ (function () {\n    function ClusterIcon(cluster, styles) {\n        cluster.getClusterer().extend(ClusterIcon, google.maps.OverlayView);\n        this.cluster = cluster;\n        this.clusterClassName = this.cluster.getClusterer().getClusterClass();\n        this.className = this.clusterClassName;\n        this.styles = styles;\n        this.center = undefined;\n        this.div = null;\n        this.sums = null;\n        this.visible = false;\n        this.boundsChangedListener = null;\n        this.url = '';\n        this.height = 0;\n        this.width = 0;\n        this.anchorText = [0, 0];\n        this.anchorIcon = [0, 0];\n        this.textColor = 'black';\n        this.textSize = 11;\n        this.textDecoration = 'none';\n        this.fontWeight = 'bold';\n        this.fontStyle = 'normal';\n        this.fontFamily = 'Arial,sans-serif';\n        this.backgroundPosition = '0 0';\n        this.cMouseDownInCluster = null;\n        this.cDraggingMapByCluster = null;\n        this.timeOut = null;\n        this.setMap(cluster.getMap()); // Note: this causes onAdd to be called\n        this.onBoundsChanged = this.onBoundsChanged.bind(this);\n        this.onMouseDown = this.onMouseDown.bind(this);\n        this.onClick = this.onClick.bind(this);\n        this.onMouseOver = this.onMouseOver.bind(this);\n        this.onMouseOut = this.onMouseOut.bind(this);\n        this.onAdd = this.onAdd.bind(this);\n        this.onRemove = this.onRemove.bind(this);\n        this.draw = this.draw.bind(this);\n        this.hide = this.hide.bind(this);\n        this.show = this.show.bind(this);\n        this.useStyle = this.useStyle.bind(this);\n        this.setCenter = this.setCenter.bind(this);\n        this.getPosFromLatLng = this.getPosFromLatLng.bind(this);\n    }\n    ClusterIcon.prototype.onBoundsChanged = function () {\n        this.cDraggingMapByCluster = this.cMouseDownInCluster;\n    };\n    ClusterIcon.prototype.onMouseDown = function () {\n        this.cMouseDownInCluster = true;\n        this.cDraggingMapByCluster = false;\n    };\n    ClusterIcon.prototype.onClick = function (event) {\n        this.cMouseDownInCluster = false;\n        if (!this.cDraggingMapByCluster) {\n            var markerClusterer_1 = this.cluster.getClusterer();\n            /**\n             * This event is fired when a cluster marker is clicked.\n             * @name MarkerClusterer#click\n             * @param {Cluster} c The cluster that was clicked.\n             * @event\n             */\n            google.maps.event.trigger(markerClusterer_1, 'click', this.cluster);\n            google.maps.event.trigger(markerClusterer_1, 'clusterclick', this.cluster); // deprecated name\n            // The default click handler follows. Disable it by setting\n            // the zoomOnClick property to false.\n            if (markerClusterer_1.getZoomOnClick()) {\n                // Zoom into the cluster.\n                var maxZoom_1 = markerClusterer_1.getMaxZoom();\n                var bounds_1 = this.cluster.getBounds();\n                var map = markerClusterer_1.getMap();\n                if (map !== null && 'fitBounds' in map) {\n                    map.fitBounds(bounds_1);\n                }\n                // There is a fix for Issue 170 here:\n                this.timeOut = window.setTimeout(function () {\n                    var map = markerClusterer_1.getMap();\n                    if (map !== null) {\n                        if ('fitBounds' in map) {\n                            map.fitBounds(bounds_1);\n                        }\n                        var zoom = map.getZoom() || 0;\n                        // Don't zoom beyond the max zoom level\n                        if (maxZoom_1 !== null &&\n                            zoom > maxZoom_1) {\n                            map.setZoom(maxZoom_1 + 1);\n                        }\n                    }\n                }, 100);\n            }\n            // Prevent event propagation to the map:\n            event.cancelBubble = true;\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n        }\n    };\n    ClusterIcon.prototype.onMouseOver = function () {\n        /**\n         * This event is fired when the mouse moves over a cluster marker.\n         * @name MarkerClusterer#mouseover\n         * @param {Cluster} c The cluster that the mouse moved over.\n         * @event\n         */\n        google.maps.event.trigger(this.cluster.getClusterer(), 'mouseover', this.cluster);\n    };\n    ClusterIcon.prototype.onMouseOut = function () {\n        /**\n         * This event is fired when the mouse moves out of a cluster marker.\n         * @name MarkerClusterer#mouseout\n         * @param {Cluster} c The cluster that the mouse moved out of.\n         * @event\n         */\n        google.maps.event.trigger(this.cluster.getClusterer(), 'mouseout', this.cluster);\n    };\n    ClusterIcon.prototype.onAdd = function () {\n        var _a;\n        this.div = document.createElement('div');\n        this.div.className = this.className;\n        if (this.visible) {\n            this.show();\n        }\n        (_a = this.getPanes()) === null || _a === void 0 ? void 0 : _a.overlayMouseTarget.appendChild(this.div);\n        var map = this.getMap();\n        if (map !== null) {\n            // Fix for Issue 157\n            this.boundsChangedListener = google.maps.event.addListener(map, 'bounds_changed', this.onBoundsChanged);\n            this.div.addEventListener('mousedown', this.onMouseDown);\n            this.div.addEventListener('click', this.onClick);\n            this.div.addEventListener('mouseover', this.onMouseOver);\n            this.div.addEventListener('mouseout', this.onMouseOut);\n        }\n    };\n    ClusterIcon.prototype.onRemove = function () {\n        if (this.div && this.div.parentNode) {\n            this.hide();\n            if (this.boundsChangedListener !== null) {\n                google.maps.event.removeListener(this.boundsChangedListener);\n            }\n            this.div.removeEventListener('mousedown', this.onMouseDown);\n            this.div.removeEventListener('click', this.onClick);\n            this.div.removeEventListener('mouseover', this.onMouseOver);\n            this.div.removeEventListener('mouseout', this.onMouseOut);\n            this.div.parentNode.removeChild(this.div);\n            if (this.timeOut !== null) {\n                window.clearTimeout(this.timeOut);\n                this.timeOut = null;\n            }\n            this.div = null;\n        }\n    };\n    ClusterIcon.prototype.draw = function () {\n        if (this.visible && this.div !== null && this.center) {\n            var pos = this.getPosFromLatLng(this.center);\n            this.div.style.top = pos !== null ? \"\".concat(pos.y, \"px\") : '0';\n            this.div.style.left = pos !== null ? \"\".concat(pos.x, \"px\") : '0';\n        }\n    };\n    ClusterIcon.prototype.hide = function () {\n        if (this.div) {\n            this.div.style.display = 'none';\n        }\n        this.visible = false;\n    };\n    ClusterIcon.prototype.show = function () {\n        var _a;\n        if (this.div && this.center) {\n            var divTitle = '';\n            // NOTE: values must be specified in px units\n            var bp = this.backgroundPosition.split(' ');\n            var spriteH = parseInt(bp[0].replace(/^\\s+|\\s+$/g, ''), 10);\n            var spriteV = parseInt(bp[1].replace(/^\\s+|\\s+$/g, ''), 10);\n            var pos = this.getPosFromLatLng(this.center);\n            if (this.sums === null ||\n                typeof this.sums.title === 'undefined' ||\n                this.sums.title === '') {\n                divTitle = this.cluster.getClusterer().getTitle();\n            }\n            else {\n                divTitle = this.sums.title;\n            }\n            this.div.className = this.className;\n            this.div.style.cursor = 'pointer';\n            this.div.style.position = 'absolute';\n            this.div.style.top = pos !== null ? \"\".concat(pos.y, \"px\") : '0';\n            this.div.style.left = pos !== null ? \"\".concat(pos.x, \"px\") : '0';\n            this.div.style.width = \"\".concat(this.width, \"px\");\n            this.div.style.height = \"\".concat(this.height, \"px\");\n            var img = document.createElement('img');\n            img.alt = divTitle;\n            img.src = this.url;\n            img.width = this.width;\n            img.height = this.height;\n            img.style.position = 'absolute';\n            img.style.top = \"\".concat(spriteV, \"px\");\n            img.style.left = \"\".concat(spriteH, \"px\");\n            if (!this.cluster.getClusterer().enableRetinaIcons) {\n                img.style.clip = \"rect(-\".concat(spriteV, \"px, -\").concat(spriteH + this.width, \"px, -\").concat(spriteV + this.height, \", -\").concat(spriteH, \")\");\n            }\n            var textElm = document.createElement('div');\n            textElm.style.position = 'absolute';\n            textElm.style.top = \"\".concat(this.anchorText[0], \"px\");\n            textElm.style.left = \"\".concat(this.anchorText[1], \"px\");\n            textElm.style.color = this.textColor;\n            textElm.style.fontSize = \"\".concat(this.textSize, \"px\");\n            textElm.style.fontFamily = this.fontFamily;\n            textElm.style.fontWeight = this.fontWeight;\n            textElm.style.fontStyle = this.fontStyle;\n            textElm.style.textDecoration = this.textDecoration;\n            textElm.style.textAlign = 'center';\n            textElm.style.width = \"\".concat(this.width, \"px\");\n            textElm.style.lineHeight = \"\".concat(this.height, \"px\");\n            textElm.innerText = \"\".concat((_a = this.sums) === null || _a === void 0 ? void 0 : _a.text);\n            this.div.innerHTML = '';\n            this.div.appendChild(img);\n            this.div.appendChild(textElm);\n            this.div.title = divTitle;\n            this.div.style.display = '';\n        }\n        this.visible = true;\n    };\n    ClusterIcon.prototype.useStyle = function (sums) {\n        this.sums = sums;\n        var styles = this.cluster.getClusterer().getStyles();\n        var style = styles[Math.min(styles.length - 1, Math.max(0, sums.index - 1))];\n        this.url = style.url;\n        this.height = style.height;\n        this.width = style.width;\n        if (style.className)\n            this.className = \"\".concat(this.clusterClassName, \" \").concat(style.className);\n        this.anchorText = style.anchorText || [0, 0];\n        this.anchorIcon = style.anchorIcon || [this.height / 2, this.width / 2];\n        this.textColor = style.textColor || 'black';\n        this.textSize = style.textSize || 11;\n        this.textDecoration = style.textDecoration || 'none';\n        this.fontWeight = style.fontWeight || 'bold';\n        this.fontStyle = style.fontStyle || 'normal';\n        this.fontFamily = style.fontFamily || 'Arial,sans-serif';\n        this.backgroundPosition = style.backgroundPosition || '0 0';\n    };\n    ClusterIcon.prototype.setCenter = function (center) {\n        this.center = center;\n    };\n    ClusterIcon.prototype.getPosFromLatLng = function (latlng) {\n        var pos = this.getProjection().fromLatLngToDivPixel(latlng);\n        if (pos !== null) {\n            pos.x -= this.anchorIcon[1];\n            pos.y -= this.anchorIcon[0];\n        }\n        return pos;\n    };\n    return ClusterIcon;\n}());\n\nvar Cluster$1 = /** @class */ (function () {\n    function Cluster(markerClusterer) {\n        this.markerClusterer = markerClusterer;\n        this.map = this.markerClusterer.getMap();\n        this.gridSize = this.markerClusterer.getGridSize();\n        this.minClusterSize = this.markerClusterer.getMinimumClusterSize();\n        this.averageCenter = this.markerClusterer.getAverageCenter();\n        this.markers = [];\n        this.center = undefined;\n        this.bounds = null;\n        this.clusterIcon = new ClusterIcon(this, this.markerClusterer.getStyles());\n        this.getSize = this.getSize.bind(this);\n        this.getMarkers = this.getMarkers.bind(this);\n        this.getCenter = this.getCenter.bind(this);\n        this.getMap = this.getMap.bind(this);\n        this.getClusterer = this.getClusterer.bind(this);\n        this.getBounds = this.getBounds.bind(this);\n        this.remove = this.remove.bind(this);\n        this.addMarker = this.addMarker.bind(this);\n        this.isMarkerInClusterBounds = this.isMarkerInClusterBounds.bind(this);\n        this.calculateBounds = this.calculateBounds.bind(this);\n        this.updateIcon = this.updateIcon.bind(this);\n        this.isMarkerAlreadyAdded = this.isMarkerAlreadyAdded.bind(this);\n    }\n    Cluster.prototype.getSize = function () {\n        return this.markers.length;\n    };\n    Cluster.prototype.getMarkers = function () {\n        return this.markers;\n    };\n    Cluster.prototype.getCenter = function () {\n        return this.center;\n    };\n    Cluster.prototype.getMap = function () {\n        return this.map;\n    };\n    Cluster.prototype.getClusterer = function () {\n        return this.markerClusterer;\n    };\n    Cluster.prototype.getBounds = function () {\n        var bounds = new google.maps.LatLngBounds(this.center, this.center);\n        var markers = this.getMarkers();\n        for (var i = 0; i < markers.length; i++) {\n            var position = markers[i].getPosition();\n            if (position) {\n                bounds.extend(position);\n            }\n        }\n        return bounds;\n    };\n    Cluster.prototype.remove = function () {\n        this.clusterIcon.setMap(null);\n        this.markers = [];\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        delete this.markers;\n    };\n    Cluster.prototype.addMarker = function (marker) {\n        var _a;\n        if (this.isMarkerAlreadyAdded(marker)) {\n            return false;\n        }\n        if (!this.center) {\n            var position = marker.getPosition();\n            if (position) {\n                this.center = position;\n                this.calculateBounds();\n            }\n        }\n        else {\n            if (this.averageCenter) {\n                var position = marker.getPosition();\n                if (position) {\n                    var length_1 = this.markers.length + 1;\n                    this.center = new google.maps.LatLng((this.center.lat() * (length_1 - 1) + position.lat()) / length_1, (this.center.lng() * (length_1 - 1) + position.lng()) / length_1);\n                    this.calculateBounds();\n                }\n            }\n        }\n        marker.isAdded = true;\n        this.markers.push(marker);\n        var mCount = this.markers.length;\n        var maxZoom = this.markerClusterer.getMaxZoom();\n        var zoom = (_a = this.map) === null || _a === void 0 ? void 0 : _a.getZoom();\n        if (maxZoom !== null && typeof zoom !== 'undefined' && zoom > maxZoom) {\n            // Zoomed in past max zoom, so show the marker.\n            if (marker.getMap() !== this.map) {\n                marker.setMap(this.map);\n            }\n        }\n        else if (mCount < this.minClusterSize) {\n            // Min cluster size not reached so show the marker.\n            if (marker.getMap() !== this.map) {\n                marker.setMap(this.map);\n            }\n        }\n        else if (mCount === this.minClusterSize) {\n            // Hide the markers that were showing.\n            for (var i = 0; i < mCount; i++) {\n                this.markers[i].setMap(null);\n            }\n        }\n        else {\n            marker.setMap(null);\n        }\n        return true;\n    };\n    Cluster.prototype.isMarkerInClusterBounds = function (marker) {\n        if (this.bounds !== null) {\n            var position = marker.getPosition();\n            if (position) {\n                return this.bounds.contains(position);\n            }\n        }\n        return false;\n    };\n    Cluster.prototype.calculateBounds = function () {\n        this.bounds = this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center, this.center));\n    };\n    Cluster.prototype.updateIcon = function () {\n        var _a;\n        var mCount = this.markers.length;\n        var maxZoom = this.markerClusterer.getMaxZoom();\n        var zoom = (_a = this.map) === null || _a === void 0 ? void 0 : _a.getZoom();\n        if (maxZoom !== null && typeof zoom !== 'undefined' && zoom > maxZoom) {\n            this.clusterIcon.hide();\n            return;\n        }\n        if (mCount < this.minClusterSize) {\n            // Min cluster size not yet reached.\n            this.clusterIcon.hide();\n            return;\n        }\n        if (this.center) {\n            this.clusterIcon.setCenter(this.center);\n        }\n        this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers, this.markerClusterer.getStyles().length));\n        this.clusterIcon.show();\n    };\n    Cluster.prototype.isMarkerAlreadyAdded = function (marker) {\n        if (this.markers.includes) {\n            return this.markers.includes(marker);\n        }\n        for (var i = 0; i < this.markers.length; i++) {\n            if (marker === this.markers[i]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Cluster;\n}());\n\n/* global google */\n/**\n * Supports up to 9007199254740991 (Number.MAX_SAFE_INTEGER) markers\n * which is not a problem as max array length is 4294967296 (2**32)\n */\nfunction CALCULATOR(markers, numStyles) {\n    var count = markers.length;\n    var numberOfDigits = count.toString().length;\n    var index = Math.min(numberOfDigits, numStyles);\n    return {\n        text: count.toString(),\n        index: index,\n        title: '',\n    };\n}\nvar BATCH_SIZE = 2000;\nvar BATCH_SIZE_IE = 500;\nvar IMAGE_PATH = 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m';\nvar IMAGE_EXTENSION = 'png';\nvar IMAGE_SIZES = [53, 56, 66, 78, 90];\nvar CLUSTERER_CLASS = 'cluster';\nvar Clusterer = /** @class */ (function () {\n    function Clusterer(map, optMarkers, optOptions) {\n        if (optMarkers === void 0) { optMarkers = []; }\n        if (optOptions === void 0) { optOptions = {}; }\n        this.getMinimumClusterSize = this.getMinimumClusterSize.bind(this);\n        this.setMinimumClusterSize = this.setMinimumClusterSize.bind(this);\n        this.getEnableRetinaIcons = this.getEnableRetinaIcons.bind(this);\n        this.setEnableRetinaIcons = this.setEnableRetinaIcons.bind(this);\n        this.addToClosestCluster = this.addToClosestCluster.bind(this);\n        this.getImageExtension = this.getImageExtension.bind(this);\n        this.setImageExtension = this.setImageExtension.bind(this);\n        this.getExtendedBounds = this.getExtendedBounds.bind(this);\n        this.getAverageCenter = this.getAverageCenter.bind(this);\n        this.setAverageCenter = this.setAverageCenter.bind(this);\n        this.getTotalClusters = this.getTotalClusters.bind(this);\n        this.fitMapToMarkers = this.fitMapToMarkers.bind(this);\n        this.getIgnoreHidden = this.getIgnoreHidden.bind(this);\n        this.setIgnoreHidden = this.setIgnoreHidden.bind(this);\n        this.getClusterClass = this.getClusterClass.bind(this);\n        this.setClusterClass = this.setClusterClass.bind(this);\n        this.getTotalMarkers = this.getTotalMarkers.bind(this);\n        this.getZoomOnClick = this.getZoomOnClick.bind(this);\n        this.setZoomOnClick = this.setZoomOnClick.bind(this);\n        this.getBatchSizeIE = this.getBatchSizeIE.bind(this);\n        this.setBatchSizeIE = this.setBatchSizeIE.bind(this);\n        this.createClusters = this.createClusters.bind(this);\n        this.onZoomChanged = this.onZoomChanged.bind(this);\n        this.getImageSizes = this.getImageSizes.bind(this);\n        this.setImageSizes = this.setImageSizes.bind(this);\n        this.getCalculator = this.getCalculator.bind(this);\n        this.setCalculator = this.setCalculator.bind(this);\n        this.removeMarkers = this.removeMarkers.bind(this);\n        this.resetViewport = this.resetViewport.bind(this);\n        this.getImagePath = this.getImagePath.bind(this);\n        this.setImagePath = this.setImagePath.bind(this);\n        this.pushMarkerTo = this.pushMarkerTo.bind(this);\n        this.removeMarker = this.removeMarker.bind(this);\n        this.clearMarkers = this.clearMarkers.bind(this);\n        this.setupStyles = this.setupStyles.bind(this);\n        this.getGridSize = this.getGridSize.bind(this);\n        this.setGridSize = this.setGridSize.bind(this);\n        this.getClusters = this.getClusters.bind(this);\n        this.getMaxZoom = this.getMaxZoom.bind(this);\n        this.setMaxZoom = this.setMaxZoom.bind(this);\n        this.getMarkers = this.getMarkers.bind(this);\n        this.addMarkers = this.addMarkers.bind(this);\n        this.getStyles = this.getStyles.bind(this);\n        this.setStyles = this.setStyles.bind(this);\n        this.addMarker = this.addMarker.bind(this);\n        this.onRemove = this.onRemove.bind(this);\n        this.getTitle = this.getTitle.bind(this);\n        this.setTitle = this.setTitle.bind(this);\n        this.repaint = this.repaint.bind(this);\n        this.onIdle = this.onIdle.bind(this);\n        this.redraw = this.redraw.bind(this);\n        this.extend = this.extend.bind(this);\n        this.onAdd = this.onAdd.bind(this);\n        this.draw = this.draw.bind(this);\n        this.extend(Clusterer, google.maps.OverlayView);\n        this.markers = [];\n        this.clusters = [];\n        this.listeners = [];\n        this.activeMap = null;\n        this.ready = false;\n        this.gridSize = optOptions.gridSize || 60;\n        this.minClusterSize = optOptions.minimumClusterSize || 2;\n        this.maxZoom = optOptions.maxZoom || null;\n        this.styles = optOptions.styles || [];\n        this.title = optOptions.title || '';\n        this.zoomOnClick = true;\n        if (optOptions.zoomOnClick !== undefined) {\n            this.zoomOnClick = optOptions.zoomOnClick;\n        }\n        this.averageCenter = false;\n        if (optOptions.averageCenter !== undefined) {\n            this.averageCenter = optOptions.averageCenter;\n        }\n        this.ignoreHidden = false;\n        if (optOptions.ignoreHidden !== undefined) {\n            this.ignoreHidden = optOptions.ignoreHidden;\n        }\n        this.enableRetinaIcons = false;\n        if (optOptions.enableRetinaIcons !== undefined) {\n            this.enableRetinaIcons = optOptions.enableRetinaIcons;\n        }\n        this.imagePath = optOptions.imagePath || IMAGE_PATH;\n        this.imageExtension = optOptions.imageExtension || IMAGE_EXTENSION;\n        this.imageSizes = optOptions.imageSizes || IMAGE_SIZES;\n        this.calculator = optOptions.calculator || CALCULATOR;\n        this.batchSize = optOptions.batchSize || BATCH_SIZE;\n        this.batchSizeIE = optOptions.batchSizeIE || BATCH_SIZE_IE;\n        this.clusterClass = optOptions.clusterClass || CLUSTERER_CLASS;\n        if (navigator.userAgent.toLowerCase().indexOf('msie') !== -1) {\n            // Try to avoid IE timeout when processing a huge number of markers:\n            this.batchSize = this.batchSizeIE;\n        }\n        this.timerRefStatic = null;\n        this.setupStyles();\n        this.addMarkers(optMarkers, true);\n        this.setMap(map); // Note: this causes onAdd to be called\n    }\n    Clusterer.prototype.onZoomChanged = function () {\n        var _a, _b;\n        this.resetViewport(false);\n        // Workaround for this Google bug: when map is at level 0 and \"-\" of\n        // zoom slider is clicked, a \"zoom_changed\" event is fired even though\n        // the map doesn't zoom out any further. In this situation, no \"idle\"\n        // event is triggered so the cluster markers that have been removed\n        // do not get redrawn. Same goes for a zoom in at maxZoom.\n        if (((_a = this.getMap()) === null || _a === void 0 ? void 0 : _a.getZoom()) === (this.get('minZoom') || 0) ||\n            ((_b = this.getMap()) === null || _b === void 0 ? void 0 : _b.getZoom()) === this.get('maxZoom')) {\n            google.maps.event.trigger(this, 'idle');\n        }\n    };\n    Clusterer.prototype.onIdle = function () {\n        this.redraw();\n    };\n    Clusterer.prototype.onAdd = function () {\n        var map = this.getMap();\n        this.activeMap = map;\n        this.ready = true;\n        this.repaint();\n        if (map !== null) {\n            // Add the map event listeners\n            this.listeners = [\n                google.maps.event.addListener(map, 'zoom_changed', this.onZoomChanged),\n                google.maps.event.addListener(map, 'idle', this.onIdle),\n            ];\n        }\n    };\n    Clusterer.prototype.onRemove = function () {\n        // Put all the managed markers back on the map:\n        for (var i = 0; i < this.markers.length; i++) {\n            if (this.markers[i].getMap() !== this.activeMap) {\n                this.markers[i].setMap(this.activeMap);\n            }\n        }\n        // Remove all clusters:\n        for (var i = 0; i < this.clusters.length; i++) {\n            this.clusters[i].remove();\n        }\n        this.clusters = [];\n        // Remove map event listeners:\n        for (var i = 0; i < this.listeners.length; i++) {\n            google.maps.event.removeListener(this.listeners[i]);\n        }\n        this.listeners = [];\n        this.activeMap = null;\n        this.ready = false;\n    };\n    Clusterer.prototype.draw = function () { return; };\n    Clusterer.prototype.setupStyles = function () {\n        if (this.styles.length > 0) {\n            return;\n        }\n        for (var i = 0; i < this.imageSizes.length; i++) {\n            this.styles.push({\n                url: \"\".concat(this.imagePath + (i + 1), \".\").concat(this.imageExtension),\n                height: this.imageSizes[i],\n                width: this.imageSizes[i],\n            });\n        }\n    };\n    Clusterer.prototype.fitMapToMarkers = function () {\n        var markers = this.getMarkers();\n        var bounds = new google.maps.LatLngBounds();\n        for (var i = 0; i < markers.length; i++) {\n            var position = markers[i].getPosition();\n            if (position) {\n                bounds.extend(position);\n            }\n        }\n        var map = this.getMap();\n        if (map !== null && 'fitBounds' in map) {\n            map.fitBounds(bounds);\n        }\n    };\n    Clusterer.prototype.getGridSize = function () {\n        return this.gridSize;\n    };\n    Clusterer.prototype.setGridSize = function (gridSize) {\n        this.gridSize = gridSize;\n    };\n    Clusterer.prototype.getMinimumClusterSize = function () {\n        return this.minClusterSize;\n    };\n    Clusterer.prototype.setMinimumClusterSize = function (minimumClusterSize) {\n        this.minClusterSize = minimumClusterSize;\n    };\n    Clusterer.prototype.getMaxZoom = function () {\n        return this.maxZoom;\n    };\n    Clusterer.prototype.setMaxZoom = function (maxZoom) {\n        this.maxZoom = maxZoom;\n    };\n    Clusterer.prototype.getStyles = function () {\n        return this.styles;\n    };\n    Clusterer.prototype.setStyles = function (styles) {\n        this.styles = styles;\n    };\n    Clusterer.prototype.getTitle = function () {\n        return this.title;\n    };\n    Clusterer.prototype.setTitle = function (title) {\n        this.title = title;\n    };\n    Clusterer.prototype.getZoomOnClick = function () {\n        return this.zoomOnClick;\n    };\n    Clusterer.prototype.setZoomOnClick = function (zoomOnClick) {\n        this.zoomOnClick = zoomOnClick;\n    };\n    Clusterer.prototype.getAverageCenter = function () {\n        return this.averageCenter;\n    };\n    Clusterer.prototype.setAverageCenter = function (averageCenter) {\n        this.averageCenter = averageCenter;\n    };\n    Clusterer.prototype.getIgnoreHidden = function () {\n        return this.ignoreHidden;\n    };\n    Clusterer.prototype.setIgnoreHidden = function (ignoreHidden) {\n        this.ignoreHidden = ignoreHidden;\n    };\n    Clusterer.prototype.getEnableRetinaIcons = function () {\n        return this.enableRetinaIcons;\n    };\n    Clusterer.prototype.setEnableRetinaIcons = function (enableRetinaIcons) {\n        this.enableRetinaIcons = enableRetinaIcons;\n    };\n    Clusterer.prototype.getImageExtension = function () {\n        return this.imageExtension;\n    };\n    Clusterer.prototype.setImageExtension = function (imageExtension) {\n        this.imageExtension = imageExtension;\n    };\n    Clusterer.prototype.getImagePath = function () {\n        return this.imagePath;\n    };\n    Clusterer.prototype.setImagePath = function (imagePath) {\n        this.imagePath = imagePath;\n    };\n    Clusterer.prototype.getImageSizes = function () {\n        return this.imageSizes;\n    };\n    Clusterer.prototype.setImageSizes = function (imageSizes) {\n        this.imageSizes = imageSizes;\n    };\n    Clusterer.prototype.getCalculator = function () {\n        return this.calculator;\n    };\n    Clusterer.prototype.setCalculator = function (calculator) {\n        this.calculator = calculator;\n    };\n    Clusterer.prototype.getBatchSizeIE = function () {\n        return this.batchSizeIE;\n    };\n    Clusterer.prototype.setBatchSizeIE = function (batchSizeIE) {\n        this.batchSizeIE = batchSizeIE;\n    };\n    Clusterer.prototype.getClusterClass = function () {\n        return this.clusterClass;\n    };\n    Clusterer.prototype.setClusterClass = function (clusterClass) {\n        this.clusterClass = clusterClass;\n    };\n    Clusterer.prototype.getMarkers = function () {\n        return this.markers;\n    };\n    Clusterer.prototype.getTotalMarkers = function () {\n        return this.markers.length;\n    };\n    Clusterer.prototype.getClusters = function () {\n        return this.clusters;\n    };\n    Clusterer.prototype.getTotalClusters = function () {\n        return this.clusters.length;\n    };\n    Clusterer.prototype.addMarker = function (marker, optNoDraw) {\n        this.pushMarkerTo(marker);\n        if (!optNoDraw) {\n            this.redraw();\n        }\n    };\n    Clusterer.prototype.addMarkers = function (markers, optNoDraw) {\n        for (var key in markers) {\n            if (Object.prototype.hasOwnProperty.call(markers, key)) {\n                this.pushMarkerTo(markers[key]);\n            }\n        }\n        if (!optNoDraw) {\n            this.redraw();\n        }\n    };\n    Clusterer.prototype.pushMarkerTo = function (marker) {\n        var _this = this;\n        // If the marker is draggable add a listener so we can update the clusters on the dragend:\n        if (marker.getDraggable()) {\n            google.maps.event.addListener(marker, 'dragend', function () {\n                if (_this.ready) {\n                    marker.isAdded = false;\n                    _this.repaint();\n                }\n            });\n        }\n        marker.isAdded = false;\n        this.markers.push(marker);\n    };\n    Clusterer.prototype.removeMarker_ = function (marker) {\n        var index = -1;\n        if (this.markers.indexOf) {\n            index = this.markers.indexOf(marker);\n        }\n        else {\n            for (var i = 0; i < this.markers.length; i++) {\n                if (marker === this.markers[i]) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        if (index === -1) {\n            // Marker is not in our list of markers, so do nothing:\n            return false;\n        }\n        marker.setMap(null);\n        this.markers.splice(index, 1); // Remove the marker from the list of managed markers\n        return true;\n    };\n    Clusterer.prototype.removeMarker = function (marker, optNoDraw) {\n        var removed = this.removeMarker_(marker);\n        if (!optNoDraw && removed) {\n            this.repaint();\n        }\n        return removed;\n    };\n    Clusterer.prototype.removeMarkers = function (markers, optNoDraw) {\n        var removed = false;\n        for (var i = 0; i < markers.length; i++) {\n            removed = removed || this.removeMarker_(markers[i]);\n        }\n        if (!optNoDraw && removed) {\n            this.repaint();\n        }\n        return removed;\n    };\n    Clusterer.prototype.clearMarkers = function () {\n        this.resetViewport(true);\n        this.markers = [];\n    };\n    Clusterer.prototype.repaint = function () {\n        var oldClusters = this.clusters.slice();\n        this.clusters = [];\n        this.resetViewport(false);\n        this.redraw();\n        // Remove the old clusters.\n        // Do it in a timeout to prevent blinking effect.\n        setTimeout(function timeout() {\n            for (var i = 0; i < oldClusters.length; i++) {\n                oldClusters[i].remove();\n            }\n        }, 0);\n    };\n    Clusterer.prototype.getExtendedBounds = function (bounds) {\n        var projection = this.getProjection();\n        // Convert the points to pixels and the extend out by the grid size.\n        var trPix = projection.fromLatLngToDivPixel(\n        // Turn the bounds into latlng.\n        new google.maps.LatLng(bounds.getNorthEast().lat(), bounds.getNorthEast().lng()));\n        if (trPix !== null) {\n            trPix.x += this.gridSize;\n            trPix.y -= this.gridSize;\n        }\n        var blPix = projection.fromLatLngToDivPixel(\n        // Turn the bounds into latlng.\n        new google.maps.LatLng(bounds.getSouthWest().lat(), bounds.getSouthWest().lng()));\n        if (blPix !== null) {\n            blPix.x -= this.gridSize;\n            blPix.y += this.gridSize;\n        }\n        // Extend the bounds to contain the new bounds.\n        if (trPix !== null) {\n            // Convert the pixel points back to LatLng nw\n            var point1 = projection.fromDivPixelToLatLng(trPix);\n            if (point1 !== null) {\n                bounds.extend(point1);\n            }\n        }\n        if (blPix !== null) {\n            // Convert the pixel points back to LatLng sw\n            var point2 = projection.fromDivPixelToLatLng(blPix);\n            if (point2 !== null) {\n                bounds.extend(point2);\n            }\n        }\n        return bounds;\n    };\n    Clusterer.prototype.redraw = function () {\n        // Redraws all the clusters.\n        this.createClusters(0);\n    };\n    Clusterer.prototype.resetViewport = function (optHide) {\n        // Remove all the clusters\n        for (var i = 0; i < this.clusters.length; i++) {\n            this.clusters[i].remove();\n        }\n        this.clusters = [];\n        // Reset the markers to not be added and to be removed from the map.\n        for (var i = 0; i < this.markers.length; i++) {\n            var marker = this.markers[i];\n            marker.isAdded = false;\n            if (optHide) {\n                marker.setMap(null);\n            }\n        }\n    };\n    Clusterer.prototype.distanceBetweenPoints = function (p1, p2) {\n        var R = 6371; // Radius of the Earth in km\n        var dLat = ((p2.lat() - p1.lat()) * Math.PI) / 180;\n        var dLon = ((p2.lng() - p1.lng()) * Math.PI) / 180;\n        var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n            Math.cos((p1.lat() * Math.PI) / 180) *\n                Math.cos((p2.lat() * Math.PI) / 180) *\n                Math.sin(dLon / 2) *\n                Math.sin(dLon / 2);\n        return R * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)));\n    };\n    Clusterer.prototype.isMarkerInBounds = function (marker, bounds) {\n        var position = marker.getPosition();\n        if (position) {\n            return bounds.contains(position);\n        }\n        return false;\n    };\n    Clusterer.prototype.addToClosestCluster = function (marker) {\n        var cluster;\n        var distance = 40000; // Some large number\n        var clusterToAddTo = null;\n        for (var i = 0; i < this.clusters.length; i++) {\n            cluster = this.clusters[i];\n            var center = cluster.getCenter();\n            var position = marker.getPosition();\n            if (center && position) {\n                var d = this.distanceBetweenPoints(center, position);\n                if (d < distance) {\n                    distance = d;\n                    clusterToAddTo = cluster;\n                }\n            }\n        }\n        if (clusterToAddTo && clusterToAddTo.isMarkerInClusterBounds(marker)) {\n            clusterToAddTo.addMarker(marker);\n        }\n        else {\n            cluster = new Cluster$1(this);\n            cluster.addMarker(marker);\n            this.clusters.push(cluster);\n        }\n    };\n    Clusterer.prototype.createClusters = function (iFirst) {\n        var _this = this;\n        if (!this.ready) {\n            return;\n        }\n        // Cancel previous batch processing if we're working on the first batch:\n        if (iFirst === 0) {\n            /**\n             * This event is fired when the <code>Clusterer</code> begins\n             *  clustering markers.\n             * @name Clusterer#clusteringbegin\n             * @param {Clusterer} mc The Clusterer whose markers are being clustered.\n             * @event\n             */\n            google.maps.event.trigger(this, 'clusteringbegin', this);\n            if (this.timerRefStatic !== null) {\n                window.clearTimeout(this.timerRefStatic);\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                delete this.timerRefStatic;\n            }\n        }\n        var map = this.getMap();\n        var bounds = map !== null && 'getBounds' in map ? map.getBounds() : null;\n        var zoom = (map === null || map === void 0 ? void 0 : map.getZoom()) || 0;\n        // Get our current map view bounds.\n        // Create a new bounds object so we don't affect the map.\n        //\n        // See Comments 9 & 11 on Issue 3651 relating to this workaround for a Google Maps bug:\n        var mapBounds = zoom > 3\n            ? new google.maps.LatLngBounds(bounds === null || bounds === void 0 ? void 0 : bounds.getSouthWest(), bounds === null || bounds === void 0 ? void 0 : bounds.getNorthEast())\n            : new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472, -178.48388434375), new google.maps.LatLng(-85.08136444384544, 178.00048865625));\n        var extendedMapBounds = this.getExtendedBounds(mapBounds);\n        var iLast = Math.min(iFirst + this.batchSize, this.markers.length);\n        for (var i = iFirst; i < iLast; i++) {\n            var marker = this.markers[i];\n            if (!marker.isAdded && this.isMarkerInBounds(marker, extendedMapBounds) && (!this.ignoreHidden || (this.ignoreHidden && marker.getVisible()))) {\n                this.addToClosestCluster(marker);\n            }\n        }\n        if (iLast < this.markers.length) {\n            this.timerRefStatic = window.setTimeout(function () {\n                _this.createClusters(iLast);\n            }, 0);\n        }\n        else {\n            this.timerRefStatic = null;\n            /**\n             * This event is fired when the <code>Clusterer</code> stops\n             *  clustering markers.\n             * @name Clusterer#clusteringend\n             * @param {Clusterer} mc The Clusterer whose markers are being clustered.\n             * @event\n             */\n            google.maps.event.trigger(this, 'clusteringend', this);\n            for (var i = 0; i < this.clusters.length; i++) {\n                this.clusters[i].updateIcon();\n            }\n        }\n    };\n    Clusterer.prototype.extend = function (obj1, obj2) {\n        return function applyExtend(object) {\n            for (var property in object.prototype) {\n                // @ts-ignore\n                this.prototype[property] = object.prototype[property];\n            }\n            return this;\n        }.apply(obj1, [obj2]);\n    };\n    return Clusterer;\n}());\n\nconst eventMap$e = {\n    onClick: 'click',\n    onClusteringBegin: 'clusteringbegin',\n    onClusteringEnd: 'clusteringend',\n    onMouseOut: 'mouseout',\n    onMouseOver: 'mouseover',\n};\nconst updaterMap$e = {\n    averageCenter(instance, averageCenter) {\n        instance.setAverageCenter(averageCenter);\n    },\n    batchSizeIE(instance, batchSizeIE) {\n        instance.setBatchSizeIE(batchSizeIE);\n    },\n    calculator(instance, calculator) {\n        instance.setCalculator(calculator);\n    },\n    clusterClass(instance, clusterClass) {\n        instance.setClusterClass(clusterClass);\n    },\n    enableRetinaIcons(instance, enableRetinaIcons) {\n        instance.setEnableRetinaIcons(enableRetinaIcons);\n    },\n    gridSize(instance, gridSize) {\n        instance.setGridSize(gridSize);\n    },\n    ignoreHidden(instance, ignoreHidden) {\n        instance.setIgnoreHidden(ignoreHidden);\n    },\n    imageExtension(instance, imageExtension) {\n        instance.setImageExtension(imageExtension);\n    },\n    imagePath(instance, imagePath) {\n        instance.setImagePath(imagePath);\n    },\n    imageSizes(instance, imageSizes) {\n        instance.setImageSizes(imageSizes);\n    },\n    maxZoom(instance, maxZoom) {\n        instance.setMaxZoom(maxZoom);\n    },\n    minimumClusterSize(instance, minimumClusterSize) {\n        instance.setMinimumClusterSize(minimumClusterSize);\n    },\n    styles(instance, styles) {\n        instance.setStyles(styles);\n    },\n    title(instance, title) {\n        instance.setTitle(title);\n    },\n    zoomOnClick(instance, zoomOnClick) {\n        instance.setZoomOnClick(zoomOnClick);\n    },\n};\nfunction MarkerClustererFunctional({ children,\n// options,\n// averageCenter,\n// batchSizeIE,\n// calculator,\n// clusterClass,\n// enableRetinaIcons,\n// gridSize,\n// ignoreHidden,\n// imageExtension,\n// imagePath,\n// imageSizes,\n// maxZoom,\n// minimumClusterSize,\n// styles,\n// title,\n// zoomOnClick,\n// onClick,\n// onClusteringBegin,\n// onClusteringEnd,\n// onMouseOver,\n// onMouseOut,\n// onLoad,\n// onUnmount,\n }) {\n    const [instance, /* setInstance */] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // TODO!\n    return instance !== null\n        ? children(instance) || null\n        : null;\n}\n(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MarkerClustererFunctional);\nclass ClustererComponent extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            markerClusterer: null,\n        };\n        this.setClustererCallback = () => {\n            if (this.state.markerClusterer !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.markerClusterer);\n            }\n        };\n    }\n    componentDidMount() {\n        if (this.context) {\n            const markerClusterer = new Clusterer(this.context, [], this.props.options);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$e,\n                eventMap: eventMap$e,\n                prevProps: {},\n                nextProps: this.props,\n                instance: markerClusterer,\n            });\n            this.setState(() => {\n                return {\n                    markerClusterer,\n                };\n            }, this.setClustererCallback);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.markerClusterer) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$e,\n                eventMap: eventMap$e,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.markerClusterer,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.markerClusterer !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.markerClusterer);\n            }\n            unregisterEvents(this.registeredEvents);\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            this.state.markerClusterer.setMap(null);\n        }\n    }\n    render() {\n        return this.state.markerClusterer !== null\n            ? this.props.children(this.state.markerClusterer)\n            : null;\n    }\n}\nClustererComponent.contextType = MapContext;\n\n// This handler prevents an event in the InfoBox from being passed on to the map.\nfunction cancelHandler(event) {\n    event.cancelBubble = true;\n    if (event.stopPropagation) {\n        event.stopPropagation();\n    }\n}\nvar InfoBox = /** @class */ (function () {\n    function InfoBox(options) {\n        if (options === void 0) { options = {}; }\n        this.getCloseClickHandler = this.getCloseClickHandler.bind(this);\n        this.closeClickHandler = this.closeClickHandler.bind(this);\n        this.createInfoBoxDiv = this.createInfoBoxDiv.bind(this);\n        this.addClickHandler = this.addClickHandler.bind(this);\n        this.getCloseBoxImg = this.getCloseBoxImg.bind(this);\n        this.getBoxWidths = this.getBoxWidths.bind(this);\n        this.setBoxStyle = this.setBoxStyle.bind(this);\n        this.setPosition = this.setPosition.bind(this);\n        this.getPosition = this.getPosition.bind(this);\n        this.setOptions = this.setOptions.bind(this);\n        this.setContent = this.setContent.bind(this);\n        this.setVisible = this.setVisible.bind(this);\n        this.getContent = this.getContent.bind(this);\n        this.getVisible = this.getVisible.bind(this);\n        this.setZIndex = this.setZIndex.bind(this);\n        this.getZIndex = this.getZIndex.bind(this);\n        this.onRemove = this.onRemove.bind(this);\n        this.panBox = this.panBox.bind(this);\n        this.extend = this.extend.bind(this);\n        this.close = this.close.bind(this);\n        this.draw = this.draw.bind(this);\n        this.show = this.show.bind(this);\n        this.hide = this.hide.bind(this);\n        this.open = this.open.bind(this);\n        this.extend(InfoBox, google.maps.OverlayView);\n        // Standard options (in common with google.maps.InfoWindow):\n        this.content = options.content || '';\n        this.disableAutoPan = options.disableAutoPan || false;\n        this.maxWidth = options.maxWidth || 0;\n        this.pixelOffset = options.pixelOffset || new google.maps.Size(0, 0);\n        this.position = options.position || new google.maps.LatLng(0, 0);\n        this.zIndex = options.zIndex || null;\n        // Additional options (unique to InfoBox):\n        this.boxClass = options.boxClass || 'infoBox';\n        this.boxStyle = options.boxStyle || {};\n        this.closeBoxMargin = options.closeBoxMargin || '2px';\n        this.closeBoxURL = options.closeBoxURL || 'http://www.google.com/intl/en_us/mapfiles/close.gif';\n        if (options.closeBoxURL === '') {\n            this.closeBoxURL = '';\n        }\n        this.infoBoxClearance = options.infoBoxClearance || new google.maps.Size(1, 1);\n        if (typeof options.visible === 'undefined') {\n            if (typeof options.isHidden === 'undefined') {\n                options.visible = true;\n            }\n            else {\n                options.visible = !options.isHidden;\n            }\n        }\n        this.isHidden = !options.visible;\n        this.alignBottom = options.alignBottom || false;\n        this.pane = options.pane || 'floatPane';\n        this.enableEventPropagation = options.enableEventPropagation || false;\n        this.div = null;\n        this.closeListener = null;\n        this.moveListener = null;\n        this.mapListener = null;\n        this.contextListener = null;\n        this.eventListeners = null;\n        this.fixedWidthSet = null;\n    }\n    InfoBox.prototype.createInfoBoxDiv = function () {\n        var _this = this;\n        // This handler ignores the current event in the InfoBox and conditionally prevents\n        // the event from being passed on to the map. It is used for the contextmenu event.\n        var ignoreHandler = function (event) {\n            event.returnValue = false;\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (!_this.enableEventPropagation) {\n                cancelHandler(event);\n            }\n        };\n        if (!this.div) {\n            this.div = document.createElement('div');\n            this.setBoxStyle();\n            if (typeof this.content === 'string') {\n                this.div.innerHTML = this.getCloseBoxImg() + this.content;\n            }\n            else {\n                this.div.innerHTML = this.getCloseBoxImg();\n                this.div.appendChild(this.content);\n            }\n            var panes = this.getPanes();\n            if (panes !== null) {\n                panes[this.pane].appendChild(this.div); // Add the InfoBox div to the DOM\n            }\n            this.addClickHandler();\n            if (this.div.style.width) {\n                this.fixedWidthSet = true;\n            }\n            else {\n                if (this.maxWidth !== 0 && this.div.offsetWidth > this.maxWidth) {\n                    this.div.style.width = this.maxWidth + 'px';\n                    this.fixedWidthSet = true;\n                }\n                else {\n                    // The following code is needed to overcome problems with MSIE\n                    var bw = this.getBoxWidths();\n                    this.div.style.width = this.div.offsetWidth - bw.left - bw.right + 'px';\n                    this.fixedWidthSet = false;\n                }\n            }\n            this.panBox(this.disableAutoPan);\n            if (!this.enableEventPropagation) {\n                this.eventListeners = [];\n                // Cancel event propagation.\n                // Note: mousemove not included (to resolve Issue 152)\n                var events = [\n                    'mousedown',\n                    'mouseover',\n                    'mouseout',\n                    'mouseup',\n                    'click',\n                    'dblclick',\n                    'touchstart',\n                    'touchend',\n                    'touchmove',\n                ];\n                for (var i = 0; i < events.length; i++) {\n                    this.eventListeners.push(google.maps.event.addListener(this.div, events[i], cancelHandler));\n                }\n                // Workaround for Google bug that causes the cursor to change to a pointer\n                // when the mouse moves over a marker underneath InfoBox.\n                this.eventListeners.push(google.maps.event.addListener(this.div, 'mouseover', function () {\n                    if (_this.div) {\n                        _this.div.style.cursor = 'default';\n                    }\n                }));\n            }\n            this.contextListener = google.maps.event.addListener(this.div, 'contextmenu', ignoreHandler);\n            /**\n             * This event is fired when the DIV containing the InfoBox's content is attached to the DOM.\n             * @name InfoBox#domready\n             * @event\n             */\n            google.maps.event.trigger(this, 'domready');\n        }\n    };\n    InfoBox.prototype.getCloseBoxImg = function () {\n        var img = '';\n        if (this.closeBoxURL !== '') {\n            img = '<img alt=\"\"';\n            img += ' aria-hidden=\"true\"';\n            img += \" src='\" + this.closeBoxURL + \"'\";\n            img += ' align=right'; // Do this because Opera chokes on style='float: right;'\n            img += \" style='\";\n            img += ' position: relative;'; // Required by MSIE\n            img += ' cursor: pointer;';\n            img += ' margin: ' + this.closeBoxMargin + ';';\n            img += \"'>\";\n        }\n        return img;\n    };\n    InfoBox.prototype.addClickHandler = function () {\n        this.closeListener = this.div && this.div.firstChild && this.closeBoxURL !== ''\n            ? google.maps.event.addListener(this.div.firstChild, 'click', this.getCloseClickHandler())\n            : null;\n    };\n    InfoBox.prototype.closeClickHandler = function (event) {\n        // 1.0.3 fix: Always prevent propagation of a close box click to the map:\n        event.cancelBubble = true;\n        if (event.stopPropagation) {\n            event.stopPropagation();\n        }\n        /**\n         * This event is fired when the InfoBox's close box is clicked.\n         * @name InfoBox#closeclick\n         * @event\n         */\n        google.maps.event.trigger(this, 'closeclick');\n        this.close();\n    };\n    InfoBox.prototype.getCloseClickHandler = function () {\n        return this.closeClickHandler;\n    };\n    InfoBox.prototype.panBox = function (disablePan) {\n        if (this.div && !disablePan) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            var map = this.getMap();\n            // Only pan if attached to map, not panorama\n            if (map instanceof google.maps.Map) {\n                var xOffset = 0;\n                var yOffset = 0;\n                var bounds = map.getBounds();\n                if (bounds && !bounds.contains(this.position)) {\n                    // Marker not in visible area of map, so set center\n                    // of map to the marker position first.\n                    map.setCenter(this.position);\n                }\n                var mapDiv = map.getDiv();\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                var mapWidth = mapDiv.offsetWidth;\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                var mapHeight = mapDiv.offsetHeight;\n                var iwOffsetX = this.pixelOffset.width;\n                var iwOffsetY = this.pixelOffset.height;\n                var iwWidth = this.div.offsetWidth;\n                var iwHeight = this.div.offsetHeight;\n                var padX = this.infoBoxClearance.width;\n                var padY = this.infoBoxClearance.height;\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                var projection = this.getProjection();\n                var pixPosition = projection.fromLatLngToContainerPixel(this.position);\n                if (pixPosition !== null) {\n                    if (pixPosition.x < -iwOffsetX + padX) {\n                        xOffset = pixPosition.x + iwOffsetX - padX;\n                    }\n                    else if (pixPosition.x + iwWidth + iwOffsetX + padX > mapWidth) {\n                        xOffset = pixPosition.x + iwWidth + iwOffsetX + padX - mapWidth;\n                    }\n                    if (this.alignBottom) {\n                        if (pixPosition.y < -iwOffsetY + padY + iwHeight) {\n                            yOffset = pixPosition.y + iwOffsetY - padY - iwHeight;\n                        }\n                        else if (pixPosition.y + iwOffsetY + padY > mapHeight) {\n                            yOffset = pixPosition.y + iwOffsetY + padY - mapHeight;\n                        }\n                    }\n                    else {\n                        if (pixPosition.y < -iwOffsetY + padY) {\n                            yOffset = pixPosition.y + iwOffsetY - padY;\n                        }\n                        else if (pixPosition.y + iwHeight + iwOffsetY + padY > mapHeight) {\n                            yOffset = pixPosition.y + iwHeight + iwOffsetY + padY - mapHeight;\n                        }\n                    }\n                }\n                if (!(xOffset === 0 && yOffset === 0)) {\n                    // Move the map to the shifted center.\n                    map.panBy(xOffset, yOffset);\n                }\n            }\n        }\n    };\n    InfoBox.prototype.setBoxStyle = function () {\n        if (this.div) {\n            // Apply style values from the style sheet defined in the boxClass parameter:\n            this.div.className = this.boxClass;\n            // Clear existing inline style values:\n            this.div.style.cssText = '';\n            // Apply style values defined in the boxStyle parameter:\n            var boxStyle = this.boxStyle;\n            for (var i in boxStyle) {\n                if (Object.prototype.hasOwnProperty.call(boxStyle, i)) {\n                    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                    // @ts-ignore\n                    this.div.style[i] = boxStyle[i];\n                }\n            }\n            // Fix for iOS disappearing InfoBox problem\n            // See http://stackoverflow.com/questions/9229535/google-maps-markers-disappear-at-certain-zoom-level-only-on-iphone-ipad\n            this.div.style.webkitTransform = 'translateZ(0)';\n            // Fix up opacity style for benefit of MSIE\n            if (typeof this.div.style.opacity !== 'undefined' && this.div.style.opacity !== '') {\n                // See http://www.quirksmode.org/css/opacity.html\n                var opacity = parseFloat(this.div.style.opacity || '');\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                this.div.style.msFilter =\n                    '\"progid:DXImageTransform.Microsoft.Alpha(Opacity=' + opacity * 100 + ')\"';\n                this.div.style.filter = 'alpha(opacity=' + opacity * 100 + ')';\n            }\n            // Apply required styles\n            this.div.style.position = 'absolute';\n            this.div.style.visibility = 'hidden';\n            if (this.zIndex !== null) {\n                this.div.style.zIndex = this.zIndex + '';\n            }\n            if (!this.div.style.overflow) {\n                this.div.style.overflow = 'auto';\n            }\n        }\n    };\n    InfoBox.prototype.getBoxWidths = function () {\n        var bw = { top: 0, bottom: 0, left: 0, right: 0 };\n        if (!this.div) {\n            return bw;\n        }\n        if (document.defaultView) {\n            var ownerDocument = this.div.ownerDocument;\n            var computedStyle = ownerDocument && ownerDocument.defaultView\n                ? ownerDocument.defaultView.getComputedStyle(this.div, '')\n                : null;\n            if (computedStyle) {\n                // The computed styles are always in pixel units (good!)\n                bw.top = parseInt(computedStyle.borderTopWidth || '', 10) || 0;\n                bw.bottom = parseInt(computedStyle.borderBottomWidth || '', 10) || 0;\n                bw.left = parseInt(computedStyle.borderLeftWidth || '', 10) || 0;\n                bw.right = parseInt(computedStyle.borderRightWidth || '', 10) || 0;\n            }\n        }\n        else if (\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        document.documentElement.currentStyle // MSIE\n        ) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            var currentStyle = this.div.currentStyle;\n            if (currentStyle) {\n                // The current styles may not be in pixel units, but assume they are (bad!)\n                bw.top = parseInt(currentStyle.borderTopWidth || '', 10) || 0;\n                bw.bottom = parseInt(currentStyle.borderBottomWidth || '', 10) || 0;\n                bw.left = parseInt(currentStyle.borderLeftWidth || '', 10) || 0;\n                bw.right = parseInt(currentStyle.borderRightWidth || '', 10) || 0;\n            }\n        }\n        return bw;\n    };\n    InfoBox.prototype.onRemove = function () {\n        if (this.div && this.div.parentNode) {\n            this.div.parentNode.removeChild(this.div);\n            this.div = null;\n        }\n    };\n    InfoBox.prototype.draw = function () {\n        this.createInfoBoxDiv();\n        if (this.div) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            var projection = this.getProjection();\n            var pixPosition = projection.fromLatLngToDivPixel(this.position);\n            if (pixPosition !== null) {\n                this.div.style.left = pixPosition.x + this.pixelOffset.width + 'px';\n                if (this.alignBottom) {\n                    this.div.style.bottom = -(pixPosition.y + this.pixelOffset.height) + 'px';\n                }\n                else {\n                    this.div.style.top = pixPosition.y + this.pixelOffset.height + 'px';\n                }\n            }\n            if (this.isHidden) {\n                this.div.style.visibility = 'hidden';\n            }\n            else {\n                this.div.style.visibility = 'visible';\n            }\n        }\n    };\n    InfoBox.prototype.setOptions = function (options) {\n        if (options === void 0) { options = {}; }\n        if (typeof options.boxClass !== 'undefined') {\n            // Must be first\n            this.boxClass = options.boxClass;\n            this.setBoxStyle();\n        }\n        if (typeof options.boxStyle !== 'undefined') {\n            // Must be second\n            this.boxStyle = options.boxStyle;\n            this.setBoxStyle();\n        }\n        if (typeof options.content !== 'undefined') {\n            this.setContent(options.content);\n        }\n        if (typeof options.disableAutoPan !== 'undefined') {\n            this.disableAutoPan = options.disableAutoPan;\n        }\n        if (typeof options.maxWidth !== 'undefined') {\n            this.maxWidth = options.maxWidth;\n        }\n        if (typeof options.pixelOffset !== 'undefined') {\n            this.pixelOffset = options.pixelOffset;\n        }\n        if (typeof options.alignBottom !== 'undefined') {\n            this.alignBottom = options.alignBottom;\n        }\n        if (typeof options.position !== 'undefined') {\n            this.setPosition(options.position);\n        }\n        if (typeof options.zIndex !== 'undefined') {\n            this.setZIndex(options.zIndex);\n        }\n        if (typeof options.closeBoxMargin !== 'undefined') {\n            this.closeBoxMargin = options.closeBoxMargin;\n        }\n        if (typeof options.closeBoxURL !== 'undefined') {\n            this.closeBoxURL = options.closeBoxURL;\n        }\n        if (typeof options.infoBoxClearance !== 'undefined') {\n            this.infoBoxClearance = options.infoBoxClearance;\n        }\n        if (typeof options.isHidden !== 'undefined') {\n            this.isHidden = options.isHidden;\n        }\n        if (typeof options.visible !== 'undefined') {\n            this.isHidden = !options.visible;\n        }\n        if (typeof options.enableEventPropagation !== 'undefined') {\n            this.enableEventPropagation = options.enableEventPropagation;\n        }\n        if (this.div) {\n            this.draw();\n        }\n    };\n    InfoBox.prototype.setContent = function (content) {\n        this.content = content;\n        if (this.div) {\n            if (this.closeListener) {\n                google.maps.event.removeListener(this.closeListener);\n                this.closeListener = null;\n            }\n            // Odd code required to make things work with MSIE.\n            if (!this.fixedWidthSet) {\n                this.div.style.width = '';\n            }\n            if (typeof content === 'string') {\n                this.div.innerHTML = this.getCloseBoxImg() + content;\n            }\n            else {\n                this.div.innerHTML = this.getCloseBoxImg();\n                this.div.appendChild(content);\n            }\n            // Perverse code required to make things work with MSIE.\n            // (Ensures the close box does, in fact, float to the right.)\n            if (!this.fixedWidthSet) {\n                this.div.style.width = this.div.offsetWidth + 'px';\n                if (typeof content === 'string') {\n                    this.div.innerHTML = this.getCloseBoxImg() + content;\n                }\n                else {\n                    this.div.innerHTML = this.getCloseBoxImg();\n                    this.div.appendChild(content);\n                }\n            }\n            this.addClickHandler();\n        }\n        /**\n         * This event is fired when the content of the InfoBox changes.\n         * @name InfoBox#content_changed\n         * @event\n         */\n        google.maps.event.trigger(this, 'content_changed');\n    };\n    InfoBox.prototype.setPosition = function (latLng) {\n        this.position = latLng;\n        if (this.div) {\n            this.draw();\n        }\n        /**\n         * This event is fired when the position of the InfoBox changes.\n         * @name InfoBox#position_changed\n         * @event\n         */\n        google.maps.event.trigger(this, 'position_changed');\n    };\n    InfoBox.prototype.setVisible = function (isVisible) {\n        this.isHidden = !isVisible;\n        if (this.div) {\n            this.div.style.visibility = this.isHidden ? 'hidden' : 'visible';\n        }\n    };\n    InfoBox.prototype.setZIndex = function (index) {\n        this.zIndex = index;\n        if (this.div) {\n            this.div.style.zIndex = index + '';\n        }\n        /**\n         * This event is fired when the zIndex of the InfoBox changes.\n         * @name InfoBox#zindex_changed\n         * @event\n         */\n        google.maps.event.trigger(this, 'zindex_changed');\n    };\n    InfoBox.prototype.getContent = function () {\n        return this.content;\n    };\n    InfoBox.prototype.getPosition = function () {\n        return this.position;\n    };\n    InfoBox.prototype.getZIndex = function () {\n        return this.zIndex;\n    };\n    InfoBox.prototype.getVisible = function () {\n        var map = this.getMap();\n        return typeof map === 'undefined' || map === null ? false : !this.isHidden;\n    };\n    InfoBox.prototype.show = function () {\n        this.isHidden = false;\n        if (this.div) {\n            this.div.style.visibility = 'visible';\n        }\n    };\n    InfoBox.prototype.hide = function () {\n        this.isHidden = true;\n        if (this.div) {\n            this.div.style.visibility = 'hidden';\n        }\n    };\n    InfoBox.prototype.open = function (map, anchor) {\n        var _this = this;\n        if (anchor) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            this.position = anchor.getPosition();\n            this.moveListener = google.maps.event.addListener(anchor, 'position_changed', function () {\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                var position = anchor.getPosition();\n                _this.setPosition(position);\n            });\n            this.mapListener = google.maps.event.addListener(anchor, 'map_changed', function () {\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                _this.setMap(anchor.map);\n            });\n        }\n        this.setMap(map);\n        if (this.div) {\n            this.panBox();\n        }\n    };\n    InfoBox.prototype.close = function () {\n        if (this.closeListener) {\n            google.maps.event.removeListener(this.closeListener);\n            this.closeListener = null;\n        }\n        if (this.eventListeners) {\n            for (var i = 0; i < this.eventListeners.length; i++) {\n                google.maps.event.removeListener(this.eventListeners[i]);\n            }\n            this.eventListeners = null;\n        }\n        if (this.moveListener) {\n            google.maps.event.removeListener(this.moveListener);\n            this.moveListener = null;\n        }\n        if (this.mapListener) {\n            google.maps.event.removeListener(this.mapListener);\n            this.mapListener = null;\n        }\n        if (this.contextListener) {\n            google.maps.event.removeListener(this.contextListener);\n            this.contextListener = null;\n        }\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this.setMap(null);\n    };\n    InfoBox.prototype.extend = function (obj1, obj2) {\n        return function applyExtend(object) {\n            for (var property in object.prototype) {\n                if (!Object.prototype.hasOwnProperty.call(this, property)) {\n                    // @ts-ignore\n                    this.prototype[property] = object.prototype[property];\n                }\n            }\n            return this;\n        }.apply(obj1, [obj2]);\n    };\n    return InfoBox;\n}());\n\nconst eventMap$d = {\n    onCloseClick: 'closeclick',\n    onContentChanged: 'content_changed',\n    onDomReady: 'domready',\n    onPositionChanged: 'position_changed',\n    onZindexChanged: 'zindex_changed',\n};\nconst updaterMap$d = {\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    position(instance, position) {\n        if (position instanceof google.maps.LatLng) {\n            instance.setPosition(position);\n        }\n        else {\n            instance.setPosition(new google.maps.LatLng(position.lat, position.lng));\n        }\n    },\n    visible(instance, visible) {\n        instance.setVisible(visible);\n    },\n    zIndex(instance, zIndex) {\n        instance.setZIndex(zIndex);\n    },\n};\nconst defaultOptions$3 = {};\nfunction InfoBoxFunctional({ children, anchor, options, position, zIndex, onCloseClick, onDomReady, onContentChanged, onPositionChanged, onZindexChanged, onLoad, onUnmount }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [closeclickListener, setCloseClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [domreadyclickListener, setDomReadyClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [contentchangedclickListener, setContentChangedClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [positionchangedclickListener, setPositionChangedClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [zindexchangedclickListener, setZindexChangedClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const containerElementRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && instance !== null) {\n            instance.close();\n            if (anchor) {\n                instance.open(map, anchor);\n            }\n            else if (instance.getPosition()) {\n                instance.open(map);\n            }\n        }\n    }, [map, instance, anchor]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (options && instance !== null) {\n            instance.setOptions(options);\n        }\n    }, [instance, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (position && instance !== null) {\n            const positionLatLng = position instanceof google.maps.LatLng\n                ? position\n                // @ts-ignore\n                : new google.maps.LatLng(position.lat, position.lng);\n            instance.setPosition(positionLatLng);\n        }\n    }, [position]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof zIndex === 'number' && instance !== null) {\n            instance.setZIndex(zIndex);\n        }\n    }, [zIndex]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onCloseClick) {\n            if (closeclickListener !== null) {\n                google.maps.event.removeListener(closeclickListener);\n            }\n            setCloseClickListener(google.maps.event.addListener(instance, 'closeclick', onCloseClick));\n        }\n    }, [onCloseClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDomReady) {\n            if (domreadyclickListener !== null) {\n                google.maps.event.removeListener(domreadyclickListener);\n            }\n            setDomReadyClickListener(google.maps.event.addListener(instance, 'domready', onDomReady));\n        }\n    }, [onDomReady]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onContentChanged) {\n            if (contentchangedclickListener !== null) {\n                google.maps.event.removeListener(contentchangedclickListener);\n            }\n            setContentChangedClickListener(google.maps.event.addListener(instance, 'content_changed', onContentChanged));\n        }\n    }, [onContentChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onPositionChanged) {\n            if (positionchangedclickListener !== null) {\n                google.maps.event.removeListener(positionchangedclickListener);\n            }\n            setPositionChangedClickListener(google.maps.event.addListener(instance, 'position_changed', onPositionChanged));\n        }\n    }, [onPositionChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onZindexChanged) {\n            if (zindexchangedclickListener !== null) {\n                google.maps.event.removeListener(zindexchangedclickListener);\n            }\n            setZindexChangedClickListener(google.maps.event.addListener(instance, 'zindex_changed', onZindexChanged));\n        }\n    }, [onZindexChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map) {\n            const _a = options || defaultOptions$3, { position } = _a, infoBoxOptions = __rest$1(_a, [\"position\"]);\n            let positionLatLng;\n            if (position && !(position instanceof google.maps.LatLng)) {\n                // @ts-ignore\n                positionLatLng = new google.maps.LatLng(position.lat, position.lng);\n            }\n            const infoBox = new InfoBox(Object.assign(Object.assign({}, infoBoxOptions), (positionLatLng ? { position: positionLatLng } : {})));\n            containerElementRef.current = document.createElement('div');\n            setInstance(infoBox);\n            if (onCloseClick) {\n                setCloseClickListener(google.maps.event.addListener(infoBox, 'closeclick', onCloseClick));\n            }\n            if (onDomReady) {\n                setDomReadyClickListener(google.maps.event.addListener(infoBox, 'domready', onDomReady));\n            }\n            if (onContentChanged) {\n                setContentChangedClickListener(google.maps.event.addListener(infoBox, 'content_changed', onContentChanged));\n            }\n            if (onPositionChanged) {\n                setPositionChangedClickListener(google.maps.event.addListener(infoBox, 'position_changed', onPositionChanged));\n            }\n            if (onZindexChanged) {\n                setZindexChangedClickListener(google.maps.event.addListener(infoBox, 'zindex_changed', onZindexChanged));\n            }\n            infoBox.setContent(containerElementRef.current);\n            if (anchor) {\n                infoBox.open(map, anchor);\n            }\n            else if (infoBox.getPosition()) {\n                infoBox.open(map);\n            }\n            else {\n                invariant_1(false, 'You must provide either an anchor or a position prop for <InfoBox>.');\n            }\n            if (onLoad) {\n                onLoad(infoBox);\n            }\n        }\n        return () => {\n            if (instance !== null) {\n                if (closeclickListener) {\n                    google.maps.event.removeListener(closeclickListener);\n                }\n                if (contentchangedclickListener) {\n                    google.maps.event.removeListener(contentchangedclickListener);\n                }\n                if (domreadyclickListener) {\n                    google.maps.event.removeListener(domreadyclickListener);\n                }\n                if (positionchangedclickListener) {\n                    google.maps.event.removeListener(positionchangedclickListener);\n                }\n                if (zindexchangedclickListener) {\n                    google.maps.event.removeListener(zindexchangedclickListener);\n                }\n                if (onUnmount) {\n                    onUnmount(instance);\n                }\n                instance.close();\n            }\n        };\n    }, []);\n    return containerElementRef.current ? (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children), containerElementRef.current) : null;\n}\nconst InfoBoxF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(InfoBoxFunctional);\nclass InfoBoxComponent extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.containerElement = null;\n        this.state = {\n            infoBox: null,\n        };\n        this.open = (infoBox, anchor) => {\n            if (anchor) {\n                // @ts-ignore\n                infoBox.open(this.context, anchor);\n            }\n            else if (infoBox.getPosition()) {\n                // @ts-ignore\n                infoBox.open(this.context);\n            }\n            else {\n                invariant_1(false, 'You must provide either an anchor or a position prop for <InfoBox>.');\n            }\n        };\n        this.setInfoBoxCallback = () => {\n            if (this.state.infoBox !== null && this.containerElement !== null) {\n                this.state.infoBox.setContent(this.containerElement);\n                this.open(this.state.infoBox, this.props.anchor);\n                if (this.props.onLoad) {\n                    this.props.onLoad(this.state.infoBox);\n                }\n            }\n        };\n    }\n    componentDidMount() {\n        const _a = this.props.options || {}, { position } = _a, infoBoxOptions = __rest$1(_a, [\"position\"]);\n        let positionLatLng;\n        if (position && !(position instanceof google.maps.LatLng)) {\n            // @ts-ignore\n            positionLatLng = new google.maps.LatLng(position.lat, position.lng);\n        }\n        const infoBox = new InfoBox(Object.assign(Object.assign({}, infoBoxOptions), (positionLatLng ? { position: positionLatLng } : {})));\n        this.containerElement = document.createElement('div');\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$d,\n            eventMap: eventMap$d,\n            prevProps: {},\n            nextProps: this.props,\n            instance: infoBox,\n        });\n        this.setState({ infoBox }, this.setInfoBoxCallback);\n    }\n    componentDidUpdate(prevProps) {\n        const { infoBox } = this.state;\n        if (infoBox !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$d,\n                eventMap: eventMap$d,\n                prevProps,\n                nextProps: this.props,\n                instance: infoBox,\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { onUnmount } = this.props;\n        const { infoBox } = this.state;\n        if (infoBox !== null) {\n            if (onUnmount) {\n                onUnmount(infoBox);\n            }\n            unregisterEvents(this.registeredEvents);\n            infoBox.close();\n        }\n    }\n    render() {\n        return this.containerElement ? (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(react__WEBPACK_IMPORTED_MODULE_0__.Children.only(this.props.children), this.containerElement) : null;\n    }\n}\nInfoBoxComponent.contextType = MapContext;\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nvar fastDeepEqual = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n\nvar kdbush = {exports: {}};\n\n(function (module, exports) {\n\t(function (global, factory) {\n\tmodule.exports = factory() ;\n\t}(commonjsGlobal, (function () {\n\tfunction sortKD(ids, coords, nodeSize, left, right, depth) {\n\t    if (right - left <= nodeSize) { return; }\n\n\t    var m = (left + right) >> 1;\n\n\t    select(ids, coords, m, left, right, depth % 2);\n\n\t    sortKD(ids, coords, nodeSize, left, m - 1, depth + 1);\n\t    sortKD(ids, coords, nodeSize, m + 1, right, depth + 1);\n\t}\n\n\tfunction select(ids, coords, k, left, right, inc) {\n\n\t    while (right > left) {\n\t        if (right - left > 600) {\n\t            var n = right - left + 1;\n\t            var m = k - left + 1;\n\t            var z = Math.log(n);\n\t            var s = 0.5 * Math.exp(2 * z / 3);\n\t            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n\t            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n\t            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n\t            select(ids, coords, k, newLeft, newRight, inc);\n\t        }\n\n\t        var t = coords[2 * k + inc];\n\t        var i = left;\n\t        var j = right;\n\n\t        swapItem(ids, coords, left, k);\n\t        if (coords[2 * right + inc] > t) { swapItem(ids, coords, left, right); }\n\n\t        while (i < j) {\n\t            swapItem(ids, coords, i, j);\n\t            i++;\n\t            j--;\n\t            while (coords[2 * i + inc] < t) { i++; }\n\t            while (coords[2 * j + inc] > t) { j--; }\n\t        }\n\n\t        if (coords[2 * left + inc] === t) { swapItem(ids, coords, left, j); }\n\t        else {\n\t            j++;\n\t            swapItem(ids, coords, j, right);\n\t        }\n\n\t        if (j <= k) { left = j + 1; }\n\t        if (k <= j) { right = j - 1; }\n\t    }\n\t}\n\n\tfunction swapItem(ids, coords, i, j) {\n\t    swap(ids, i, j);\n\t    swap(coords, 2 * i, 2 * j);\n\t    swap(coords, 2 * i + 1, 2 * j + 1);\n\t}\n\n\tfunction swap(arr, i, j) {\n\t    var tmp = arr[i];\n\t    arr[i] = arr[j];\n\t    arr[j] = tmp;\n\t}\n\n\tfunction range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\n\t    var stack = [0, ids.length - 1, 0];\n\t    var result = [];\n\t    var x, y;\n\n\t    while (stack.length) {\n\t        var axis = stack.pop();\n\t        var right = stack.pop();\n\t        var left = stack.pop();\n\n\t        if (right - left <= nodeSize) {\n\t            for (var i = left; i <= right; i++) {\n\t                x = coords[2 * i];\n\t                y = coords[2 * i + 1];\n\t                if (x >= minX && x <= maxX && y >= minY && y <= maxY) { result.push(ids[i]); }\n\t            }\n\t            continue;\n\t        }\n\n\t        var m = Math.floor((left + right) / 2);\n\n\t        x = coords[2 * m];\n\t        y = coords[2 * m + 1];\n\n\t        if (x >= minX && x <= maxX && y >= minY && y <= maxY) { result.push(ids[m]); }\n\n\t        var nextAxis = (axis + 1) % 2;\n\n\t        if (axis === 0 ? minX <= x : minY <= y) {\n\t            stack.push(left);\n\t            stack.push(m - 1);\n\t            stack.push(nextAxis);\n\t        }\n\t        if (axis === 0 ? maxX >= x : maxY >= y) {\n\t            stack.push(m + 1);\n\t            stack.push(right);\n\t            stack.push(nextAxis);\n\t        }\n\t    }\n\n\t    return result;\n\t}\n\n\tfunction within(ids, coords, qx, qy, r, nodeSize) {\n\t    var stack = [0, ids.length - 1, 0];\n\t    var result = [];\n\t    var r2 = r * r;\n\n\t    while (stack.length) {\n\t        var axis = stack.pop();\n\t        var right = stack.pop();\n\t        var left = stack.pop();\n\n\t        if (right - left <= nodeSize) {\n\t            for (var i = left; i <= right; i++) {\n\t                if (sqDist(coords[2 * i], coords[2 * i + 1], qx, qy) <= r2) { result.push(ids[i]); }\n\t            }\n\t            continue;\n\t        }\n\n\t        var m = Math.floor((left + right) / 2);\n\n\t        var x = coords[2 * m];\n\t        var y = coords[2 * m + 1];\n\n\t        if (sqDist(x, y, qx, qy) <= r2) { result.push(ids[m]); }\n\n\t        var nextAxis = (axis + 1) % 2;\n\n\t        if (axis === 0 ? qx - r <= x : qy - r <= y) {\n\t            stack.push(left);\n\t            stack.push(m - 1);\n\t            stack.push(nextAxis);\n\t        }\n\t        if (axis === 0 ? qx + r >= x : qy + r >= y) {\n\t            stack.push(m + 1);\n\t            stack.push(right);\n\t            stack.push(nextAxis);\n\t        }\n\t    }\n\n\t    return result;\n\t}\n\n\tfunction sqDist(ax, ay, bx, by) {\n\t    var dx = ax - bx;\n\t    var dy = ay - by;\n\t    return dx * dx + dy * dy;\n\t}\n\n\tvar defaultGetX = function (p) { return p[0]; };\n\tvar defaultGetY = function (p) { return p[1]; };\n\n\tvar KDBush = function KDBush(points, getX, getY, nodeSize, ArrayType) {\n\t    if ( getX === void 0 ) getX = defaultGetX;\n\t    if ( getY === void 0 ) getY = defaultGetY;\n\t    if ( nodeSize === void 0 ) nodeSize = 64;\n\t    if ( ArrayType === void 0 ) ArrayType = Float64Array;\n\n\t    this.nodeSize = nodeSize;\n\t    this.points = points;\n\n\t    var IndexArrayType = points.length < 65536 ? Uint16Array : Uint32Array;\n\n\t    var ids = this.ids = new IndexArrayType(points.length);\n\t    var coords = this.coords = new ArrayType(points.length * 2);\n\n\t    for (var i = 0; i < points.length; i++) {\n\t        ids[i] = i;\n\t        coords[2 * i] = getX(points[i]);\n\t        coords[2 * i + 1] = getY(points[i]);\n\t    }\n\n\t    sortKD(ids, coords, nodeSize, 0, ids.length - 1, 0);\n\t};\n\n\tKDBush.prototype.range = function range$1 (minX, minY, maxX, maxY) {\n\t    return range(this.ids, this.coords, minX, minY, maxX, maxY, this.nodeSize);\n\t};\n\n\tKDBush.prototype.within = function within$1 (x, y, r) {\n\t    return within(this.ids, this.coords, x, y, r, this.nodeSize);\n\t};\n\n\treturn KDBush;\n\n\t})));\n} (kdbush));\n\nvar KDBush = kdbush.exports;\n\nconst defaultOptions$2 = {\n    minZoom: 0,   // min zoom to generate clusters on\n    maxZoom: 16,  // max zoom level to cluster the points on\n    minPoints: 2, // minimum points to form a cluster\n    radius: 40,   // cluster radius in pixels\n    extent: 512,  // tile extent (radius is calculated relative to it)\n    nodeSize: 64, // size of the KD-tree leaf node, affects performance\n    log: false,   // whether to log timing info\n\n    // whether to generate numeric ids for input features (in vector tiles)\n    generateId: false,\n\n    // a reduce function for calculating custom cluster properties\n    reduce: null, // (accumulated, props) => { accumulated.sum += props.sum; }\n\n    // properties to use for individual points when running the reducer\n    map: props => props // props => ({sum: props.my_value})\n};\n\nconst fround = Math.fround || (tmp => ((x) => { tmp[0] = +x; return tmp[0]; }))(new Float32Array(1));\n\nclass Supercluster {\n    constructor(options) {\n        this.options = extend$1(Object.create(defaultOptions$2), options);\n        this.trees = new Array(this.options.maxZoom + 1);\n    }\n\n    load(points) {\n        const {log, minZoom, maxZoom, nodeSize} = this.options;\n\n        if (log) console.time('total time');\n\n        const timerId = `prepare ${  points.length  } points`;\n        if (log) console.time(timerId);\n\n        this.points = points;\n\n        // generate a cluster object for each point and index input points into a KD-tree\n        let clusters = [];\n        for (let i = 0; i < points.length; i++) {\n            if (!points[i].geometry) continue;\n            clusters.push(createPointCluster(points[i], i));\n        }\n        this.trees[maxZoom + 1] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n        if (log) console.timeEnd(timerId);\n\n        // cluster points on max zoom, then cluster the results on previous zoom, etc.;\n        // results in a cluster hierarchy across zoom levels\n        for (let z = maxZoom; z >= minZoom; z--) {\n            const now = +Date.now();\n\n            // create a new set of clusters for the zoom and index them with a KD-tree\n            clusters = this._cluster(clusters, z);\n            this.trees[z] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n            if (log) console.log('z%d: %d clusters in %dms', z, clusters.length, +Date.now() - now);\n        }\n\n        if (log) console.timeEnd('total time');\n\n        return this;\n    }\n\n    getClusters(bbox, zoom) {\n        let minLng = ((bbox[0] + 180) % 360 + 360) % 360 - 180;\n        const minLat = Math.max(-90, Math.min(90, bbox[1]));\n        let maxLng = bbox[2] === 180 ? 180 : ((bbox[2] + 180) % 360 + 360) % 360 - 180;\n        const maxLat = Math.max(-90, Math.min(90, bbox[3]));\n\n        if (bbox[2] - bbox[0] >= 360) {\n            minLng = -180;\n            maxLng = 180;\n        } else if (minLng > maxLng) {\n            const easternHem = this.getClusters([minLng, minLat, 180, maxLat], zoom);\n            const westernHem = this.getClusters([-180, minLat, maxLng, maxLat], zoom);\n            return easternHem.concat(westernHem);\n        }\n\n        const tree = this.trees[this._limitZoom(zoom)];\n        const ids = tree.range(lngX(minLng), latY(maxLat), lngX(maxLng), latY(minLat));\n        const clusters = [];\n        for (const id of ids) {\n            const c = tree.points[id];\n            clusters.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n        }\n        return clusters;\n    }\n\n    getChildren(clusterId) {\n        const originId = this._getOriginId(clusterId);\n        const originZoom = this._getOriginZoom(clusterId);\n        const errorMsg = 'No cluster with the specified id.';\n\n        const index = this.trees[originZoom];\n        if (!index) throw new Error(errorMsg);\n\n        const origin = index.points[originId];\n        if (!origin) throw new Error(errorMsg);\n\n        const r = this.options.radius / (this.options.extent * Math.pow(2, originZoom - 1));\n        const ids = index.within(origin.x, origin.y, r);\n        const children = [];\n        for (const id of ids) {\n            const c = index.points[id];\n            if (c.parentId === clusterId) {\n                children.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n            }\n        }\n\n        if (children.length === 0) throw new Error(errorMsg);\n\n        return children;\n    }\n\n    getLeaves(clusterId, limit, offset) {\n        limit = limit || 10;\n        offset = offset || 0;\n\n        const leaves = [];\n        this._appendLeaves(leaves, clusterId, limit, offset, 0);\n\n        return leaves;\n    }\n\n    getTile(z, x, y) {\n        const tree = this.trees[this._limitZoom(z)];\n        const z2 = Math.pow(2, z);\n        const {extent, radius} = this.options;\n        const p = radius / extent;\n        const top = (y - p) / z2;\n        const bottom = (y + 1 + p) / z2;\n\n        const tile = {\n            features: []\n        };\n\n        this._addTileFeatures(\n            tree.range((x - p) / z2, top, (x + 1 + p) / z2, bottom),\n            tree.points, x, y, z2, tile);\n\n        if (x === 0) {\n            this._addTileFeatures(\n                tree.range(1 - p / z2, top, 1, bottom),\n                tree.points, z2, y, z2, tile);\n        }\n        if (x === z2 - 1) {\n            this._addTileFeatures(\n                tree.range(0, top, p / z2, bottom),\n                tree.points, -1, y, z2, tile);\n        }\n\n        return tile.features.length ? tile : null;\n    }\n\n    getClusterExpansionZoom(clusterId) {\n        let expansionZoom = this._getOriginZoom(clusterId) - 1;\n        while (expansionZoom <= this.options.maxZoom) {\n            const children = this.getChildren(clusterId);\n            expansionZoom++;\n            if (children.length !== 1) break;\n            clusterId = children[0].properties.cluster_id;\n        }\n        return expansionZoom;\n    }\n\n    _appendLeaves(result, clusterId, limit, offset, skipped) {\n        const children = this.getChildren(clusterId);\n\n        for (const child of children) {\n            const props = child.properties;\n\n            if (props && props.cluster) {\n                if (skipped + props.point_count <= offset) {\n                    // skip the whole cluster\n                    skipped += props.point_count;\n                } else {\n                    // enter the cluster\n                    skipped = this._appendLeaves(result, props.cluster_id, limit, offset, skipped);\n                    // exit the cluster\n                }\n            } else if (skipped < offset) {\n                // skip a single point\n                skipped++;\n            } else {\n                // add a single point\n                result.push(child);\n            }\n            if (result.length === limit) break;\n        }\n\n        return skipped;\n    }\n\n    _addTileFeatures(ids, points, x, y, z2, tile) {\n        for (const i of ids) {\n            const c = points[i];\n            const isCluster = c.numPoints;\n\n            let tags, px, py;\n            if (isCluster) {\n                tags = getClusterProperties(c);\n                px = c.x;\n                py = c.y;\n            } else {\n                const p = this.points[c.index];\n                tags = p.properties;\n                px = lngX(p.geometry.coordinates[0]);\n                py = latY(p.geometry.coordinates[1]);\n            }\n\n            const f = {\n                type: 1,\n                geometry: [[\n                    Math.round(this.options.extent * (px * z2 - x)),\n                    Math.round(this.options.extent * (py * z2 - y))\n                ]],\n                tags\n            };\n\n            // assign id\n            let id;\n            if (isCluster) {\n                id = c.id;\n            } else if (this.options.generateId) {\n                // optionally generate id\n                id = c.index;\n            } else if (this.points[c.index].id) {\n                // keep id if already assigned\n                id = this.points[c.index].id;\n            }\n\n            if (id !== undefined) f.id = id;\n\n            tile.features.push(f);\n        }\n    }\n\n    _limitZoom(z) {\n        return Math.max(this.options.minZoom, Math.min(+z, this.options.maxZoom + 1));\n    }\n\n    _cluster(points, zoom) {\n        const clusters = [];\n        const {radius, extent, reduce, minPoints} = this.options;\n        const r = radius / (extent * Math.pow(2, zoom));\n\n        // loop through each point\n        for (let i = 0; i < points.length; i++) {\n            const p = points[i];\n            // if we've already visited the point at this zoom level, skip it\n            if (p.zoom <= zoom) continue;\n            p.zoom = zoom;\n\n            // find all nearby points\n            const tree = this.trees[zoom + 1];\n            const neighborIds = tree.within(p.x, p.y, r);\n\n            const numPointsOrigin = p.numPoints || 1;\n            let numPoints = numPointsOrigin;\n\n            // count the number of points in a potential cluster\n            for (const neighborId of neighborIds) {\n                const b = tree.points[neighborId];\n                // filter out neighbors that are already processed\n                if (b.zoom > zoom) numPoints += b.numPoints || 1;\n            }\n\n            // if there were neighbors to merge, and there are enough points to form a cluster\n            if (numPoints > numPointsOrigin && numPoints >= minPoints) {\n                let wx = p.x * numPointsOrigin;\n                let wy = p.y * numPointsOrigin;\n\n                let clusterProperties = reduce && numPointsOrigin > 1 ? this._map(p, true) : null;\n\n                // encode both zoom and point index on which the cluster originated -- offset by total length of features\n                const id = (i << 5) + (zoom + 1) + this.points.length;\n\n                for (const neighborId of neighborIds) {\n                    const b = tree.points[neighborId];\n\n                    if (b.zoom <= zoom) continue;\n                    b.zoom = zoom; // save the zoom (so it doesn't get processed twice)\n\n                    const numPoints2 = b.numPoints || 1;\n                    wx += b.x * numPoints2; // accumulate coordinates for calculating weighted center\n                    wy += b.y * numPoints2;\n\n                    b.parentId = id;\n\n                    if (reduce) {\n                        if (!clusterProperties) clusterProperties = this._map(p, true);\n                        reduce(clusterProperties, this._map(b));\n                    }\n                }\n\n                p.parentId = id;\n                clusters.push(createCluster(wx / numPoints, wy / numPoints, id, numPoints, clusterProperties));\n\n            } else { // left points as unclustered\n                clusters.push(p);\n\n                if (numPoints > 1) {\n                    for (const neighborId of neighborIds) {\n                        const b = tree.points[neighborId];\n                        if (b.zoom <= zoom) continue;\n                        b.zoom = zoom;\n                        clusters.push(b);\n                    }\n                }\n            }\n        }\n\n        return clusters;\n    }\n\n    // get index of the point from which the cluster originated\n    _getOriginId(clusterId) {\n        return (clusterId - this.points.length) >> 5;\n    }\n\n    // get zoom of the point from which the cluster originated\n    _getOriginZoom(clusterId) {\n        return (clusterId - this.points.length) % 32;\n    }\n\n    _map(point, clone) {\n        if (point.numPoints) {\n            return clone ? extend$1({}, point.properties) : point.properties;\n        }\n        const original = this.points[point.index].properties;\n        const result = this.options.map(original);\n        return clone && result === original ? extend$1({}, result) : result;\n    }\n}\n\nfunction createCluster(x, y, id, numPoints, properties) {\n    return {\n        x: fround(x), // weighted cluster center; round for consistency with Float32Array index\n        y: fround(y),\n        zoom: Infinity, // the last zoom the cluster was processed at\n        id, // encodes index of the first child of the cluster and its zoom level\n        parentId: -1, // parent cluster id\n        numPoints,\n        properties\n    };\n}\n\nfunction createPointCluster(p, id) {\n    const [x, y] = p.geometry.coordinates;\n    return {\n        x: fround(lngX(x)), // projected point coordinates\n        y: fround(latY(y)),\n        zoom: Infinity, // the last zoom the point was processed at\n        index: id, // index of the source feature in the original input array,\n        parentId: -1 // parent cluster id\n    };\n}\n\nfunction getClusterJSON(cluster) {\n    return {\n        type: 'Feature',\n        id: cluster.id,\n        properties: getClusterProperties(cluster),\n        geometry: {\n            type: 'Point',\n            coordinates: [xLng(cluster.x), yLat(cluster.y)]\n        }\n    };\n}\n\nfunction getClusterProperties(cluster) {\n    const count = cluster.numPoints;\n    const abbrev =\n        count >= 10000 ? `${Math.round(count / 1000)  }k` :\n        count >= 1000 ? `${Math.round(count / 100) / 10  }k` : count;\n    return extend$1(extend$1({}, cluster.properties), {\n        cluster: true,\n        cluster_id: cluster.id,\n        point_count: count,\n        point_count_abbreviated: abbrev\n    });\n}\n\n// longitude/latitude to spherical mercator in [0..1] range\nfunction lngX(lng) {\n    return lng / 360 + 0.5;\n}\nfunction latY(lat) {\n    const sin = Math.sin(lat * Math.PI / 180);\n    const y = (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n    return y < 0 ? 0 : y > 1 ? 1 : y;\n}\n\n// spherical mercator to longitude/latitude\nfunction xLng(x) {\n    return (x - 0.5) * 360;\n}\nfunction yLat(y) {\n    const y2 = (180 - y * 360) * Math.PI / 180;\n    return 360 * Math.atan(Math.exp(y2)) / Math.PI - 90;\n}\n\nfunction extend$1(dest, src) {\n    for (const id in src) dest[id] = src[id];\n    return dest;\n}\n\nfunction getX(p) {\n    return p.x;\n}\nfunction getY(p) {\n    return p.y;\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass Cluster {\n    constructor({ markers, position }) {\n        this.markers = markers;\n        if (position) {\n            if (position instanceof google.maps.LatLng) {\n                this._position = position;\n            }\n            else {\n                this._position = new google.maps.LatLng(position);\n            }\n        }\n    }\n    get bounds() {\n        if (this.markers.length === 0 && !this._position) {\n            return undefined;\n        }\n        return this.markers.reduce((bounds, marker) => {\n            return bounds.extend(marker.getPosition());\n        }, new google.maps.LatLngBounds(this._position, this._position));\n    }\n    get position() {\n        return this._position || this.bounds.getCenter();\n    }\n    /**\n     * Get the count of **visible** markers.\n     */\n    get count() {\n        return this.markers.filter((m) => m.getVisible())\n            .length;\n    }\n    /**\n     * Add a marker to the cluster.\n     */\n    push(marker) {\n        this.markers.push(marker);\n    }\n    /**\n     * Cleanup references and remove marker from map.\n     */\n    delete() {\n        if (this.marker) {\n            this.marker.setMap(null);\n            delete this.marker;\n        }\n        this.markers.length = 0;\n    }\n}\n\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst filterMarkersToPaddedViewport = (map, mapCanvasProjection, markers, viewportPadding) => {\n    const extendedMapBounds = extendBoundsToPaddedViewport(map.getBounds(), mapCanvasProjection, viewportPadding);\n    return markers.filter((marker) => extendedMapBounds.contains(marker.getPosition()));\n};\n/**\n * Extends a bounds by a number of pixels in each direction.\n */\nconst extendBoundsToPaddedViewport = (bounds, projection, pixels) => {\n    const { northEast, southWest } = latLngBoundsToPixelBounds(bounds, projection);\n    const extendedPixelBounds = extendPixelBounds({ northEast, southWest }, pixels);\n    return pixelBoundsToLatLngBounds(extendedPixelBounds, projection);\n};\n/**\n * @hidden\n */\nconst distanceBetweenPoints = (p1, p2) => {\n    const R = 6371; // Radius of the Earth in km\n    const dLat = ((p2.lat - p1.lat) * Math.PI) / 180;\n    const dLon = ((p2.lng - p1.lng) * Math.PI) / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n        Math.cos((p1.lat * Math.PI) / 180) *\n            Math.cos((p2.lat * Math.PI) / 180) *\n            Math.sin(dLon / 2) *\n            Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n};\n/**\n * @hidden\n */\nconst latLngBoundsToPixelBounds = (bounds, projection) => {\n    return {\n        northEast: projection.fromLatLngToDivPixel(bounds.getNorthEast()),\n        southWest: projection.fromLatLngToDivPixel(bounds.getSouthWest()),\n    };\n};\n/**\n * @hidden\n */\nconst extendPixelBounds = ({ northEast, southWest }, pixels) => {\n    northEast.x += pixels;\n    northEast.y -= pixels;\n    southWest.x -= pixels;\n    southWest.y += pixels;\n    return { northEast, southWest };\n};\n/**\n * @hidden\n */\nconst pixelBoundsToLatLngBounds = ({ northEast, southWest }, projection) => {\n    const bounds = new google.maps.LatLngBounds();\n    bounds.extend(projection.fromDivPixelToLatLng(northEast));\n    bounds.extend(projection.fromDivPixelToLatLng(southWest));\n    return bounds;\n};\n\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @hidden\n */\nclass AbstractAlgorithm {\n    constructor({ maxZoom = 16 }) {\n        this.maxZoom = maxZoom;\n    }\n    /**\n     * Helper function to bypass clustering based upon some map state such as\n     * zoom, number of markers, etc.\n     *\n     * ```typescript\n     *  cluster({markers, map}: AlgorithmInput): Cluster[] {\n     *    if (shouldBypassClustering(map)) {\n     *      return this.noop({markers, map})\n     *    }\n     * }\n     * ```\n     */\n    noop({ markers }) {\n        return noop$1(markers);\n    }\n}\n/**\n * Abstract viewport algorithm proves a class to filter markers by a padded\n * viewport. This is a common optimization.\n *\n * @hidden\n */\nclass AbstractViewportAlgorithm extends AbstractAlgorithm {\n    constructor(_a) {\n        var { viewportPadding = 60 } = _a, options = __rest(_a, [\"viewportPadding\"]);\n        super(options);\n        this.viewportPadding = 60;\n        this.viewportPadding = viewportPadding;\n    }\n    calculate({ markers, map, mapCanvasProjection, }) {\n        if (map.getZoom() >= this.maxZoom) {\n            return {\n                clusters: this.noop({\n                    markers,\n                    map,\n                    mapCanvasProjection,\n                }),\n                changed: false,\n            };\n        }\n        return {\n            clusters: this.cluster({\n                markers: filterMarkersToPaddedViewport(map, mapCanvasProjection, markers, this.viewportPadding),\n                map,\n                mapCanvasProjection,\n            }),\n        };\n    }\n}\n/**\n * @hidden\n */\nconst noop$1 = (markers) => {\n    const clusters = markers.map((marker) => new Cluster({\n        position: marker.getPosition(),\n        markers: [marker],\n    }));\n    return clusters;\n};\n\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * The default Grid algorithm historically used in Google Maps marker\n * clustering.\n *\n * The Grid algorithm does not implement caching and markers may flash as the\n * viewport changes. Instead use {@link SuperClusterAlgorithm}.\n */\nclass GridAlgorithm extends AbstractViewportAlgorithm {\n    constructor(_a) {\n        var { maxDistance = 40000, gridSize = 40 } = _a, options = __rest(_a, [\"maxDistance\", \"gridSize\"]);\n        super(options);\n        this.clusters = [];\n        this.maxDistance = maxDistance;\n        this.gridSize = gridSize;\n        this.state = { zoom: null };\n    }\n    calculate({ markers, map, mapCanvasProjection, }) {\n        const state = { zoom: map.getZoom() };\n        let changed = false;\n        if (this.state.zoom > this.maxZoom && state.zoom > this.maxZoom) ;\n        else {\n            changed = !fastDeepEqual(this.state, state);\n        }\n        this.state = state;\n        if (map.getZoom() >= this.maxZoom) {\n            return {\n                clusters: this.noop({\n                    markers,\n                    map,\n                    mapCanvasProjection,\n                }),\n                changed: changed,\n            };\n        }\n        return {\n            clusters: this.cluster({\n                markers: filterMarkersToPaddedViewport(map, mapCanvasProjection, markers, this.viewportPadding),\n                map,\n                mapCanvasProjection,\n            }),\n        };\n    }\n    cluster({ markers, map, mapCanvasProjection, }) {\n        this.clusters = [];\n        markers.forEach((marker) => {\n            this.addToClosestCluster(marker, map, mapCanvasProjection);\n        });\n        return this.clusters;\n    }\n    addToClosestCluster(marker, map, projection) {\n        let maxDistance = this.maxDistance; // Some large number\n        let cluster = null;\n        for (let i = 0; i < this.clusters.length; i++) {\n            const candidate = this.clusters[i];\n            const distance = distanceBetweenPoints(candidate.bounds.getCenter().toJSON(), marker.getPosition().toJSON());\n            if (distance < maxDistance) {\n                maxDistance = distance;\n                cluster = candidate;\n            }\n        }\n        if (cluster &&\n            extendBoundsToPaddedViewport(cluster.bounds, projection, this.gridSize).contains(marker.getPosition())) {\n            cluster.push(marker);\n        }\n        else {\n            const cluster = new Cluster({ markers: [marker] });\n            this.clusters.push(cluster);\n        }\n    }\n}\n\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Noop algorithm does not generate any clusters or filter markers by the an extended viewport.\n */\nclass NoopAlgorithm extends AbstractAlgorithm {\n    constructor(_a) {\n        var options = __rest(_a, []);\n        super(options);\n    }\n    calculate({ markers, map, mapCanvasProjection, }) {\n        return {\n            clusters: this.cluster({ markers, map, mapCanvasProjection }),\n            changed: false,\n        };\n    }\n    cluster(input) {\n        return this.noop(input);\n    }\n}\n\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A very fast JavaScript algorithm for geospatial point clustering using KD trees.\n *\n * @see https://www.npmjs.com/package/supercluster for more information on options.\n */\nclass SuperClusterAlgorithm extends AbstractAlgorithm {\n    constructor(_a) {\n        var { maxZoom, radius = 60 } = _a, options = __rest(_a, [\"maxZoom\", \"radius\"]);\n        super({ maxZoom });\n        this.superCluster = new Supercluster(Object.assign({ maxZoom: this.maxZoom, radius }, options));\n        this.state = { zoom: null };\n    }\n    calculate(input) {\n        let changed = false;\n        if (!fastDeepEqual(input.markers, this.markers)) {\n            changed = true;\n            // TODO use proxy to avoid copy?\n            this.markers = [...input.markers];\n            const points = this.markers.map((marker) => {\n                return {\n                    type: \"Feature\",\n                    geometry: {\n                        type: \"Point\",\n                        coordinates: [\n                            marker.getPosition().lng(),\n                            marker.getPosition().lat(),\n                        ],\n                    },\n                    properties: { marker },\n                };\n            });\n            this.superCluster.load(points);\n        }\n        const state = { zoom: input.map.getZoom() };\n        if (!changed) {\n            if (this.state.zoom > this.maxZoom && state.zoom > this.maxZoom) ;\n            else {\n                changed = changed || !fastDeepEqual(this.state, state);\n            }\n        }\n        this.state = state;\n        if (changed) {\n            this.clusters = this.cluster(input);\n        }\n        return { clusters: this.clusters, changed };\n    }\n    cluster({ map }) {\n        return this.superCluster\n            .getClusters([-180, -90, 180, 90], Math.round(map.getZoom()))\n            .map(this.transformCluster.bind(this));\n    }\n    transformCluster({ geometry: { coordinates: [lng, lat], }, properties, }) {\n        if (properties.cluster) {\n            return new Cluster({\n                markers: this.superCluster\n                    .getLeaves(properties.cluster_id, Infinity)\n                    .map((leaf) => leaf.properties.marker),\n                position: new google.maps.LatLng({ lat, lng }),\n            });\n        }\n        else {\n            const marker = properties.marker;\n            return new Cluster({\n                markers: [marker],\n                position: marker.getPosition(),\n            });\n        }\n    }\n}\n\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Provides statistics on all clusters in the current render cycle for use in {@link Renderer.render}.\n */\nclass ClusterStats {\n    constructor(markers, clusters) {\n        this.markers = { sum: markers.length };\n        const clusterMarkerCounts = clusters.map((a) => a.count);\n        const clusterMarkerSum = clusterMarkerCounts.reduce((a, b) => a + b, 0);\n        this.clusters = {\n            count: clusters.length,\n            markers: {\n                mean: clusterMarkerSum / clusters.length,\n                sum: clusterMarkerSum,\n                min: Math.min(...clusterMarkerCounts),\n                max: Math.max(...clusterMarkerCounts),\n            },\n        };\n    }\n}\nclass DefaultRenderer {\n    /**\n     * The default render function for the library used by {@link MarkerClusterer}.\n     *\n     * Currently set to use the following:\n     *\n     * ```typescript\n     * // change color if this cluster has more markers than the mean cluster\n     * const color =\n     *   count > Math.max(10, stats.clusters.markers.mean)\n     *     ? \"#ff0000\"\n     *     : \"#0000ff\";\n     *\n     * // create svg url with fill color\n     * const svg = window.btoa(`\n     * <svg fill=\"${color}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 240 240\">\n     *   <circle cx=\"120\" cy=\"120\" opacity=\".6\" r=\"70\" />\n     *   <circle cx=\"120\" cy=\"120\" opacity=\".3\" r=\"90\" />\n     *   <circle cx=\"120\" cy=\"120\" opacity=\".2\" r=\"110\" />\n     *   <circle cx=\"120\" cy=\"120\" opacity=\".1\" r=\"130\" />\n     * </svg>`);\n     *\n     * // create marker using svg icon\n     * return new google.maps.Marker({\n     *   position,\n     *   icon: {\n     *     url: `data:image/svg+xml;base64,${svg}`,\n     *     scaledSize: new google.maps.Size(45, 45),\n     *   },\n     *   label: {\n     *     text: String(count),\n     *     color: \"rgba(255,255,255,0.9)\",\n     *     fontSize: \"12px\",\n     *   },\n     *   // adjust zIndex to be above other markers\n     *   zIndex: 1000 + count,\n     * });\n     * ```\n     */\n    render({ count, position }, stats) {\n        // change color if this cluster has more markers than the mean cluster\n        const color = count > Math.max(10, stats.clusters.markers.mean) ? \"#ff0000\" : \"#0000ff\";\n        // create svg url with fill color\n        const svg = window.btoa(`\n  <svg fill=\"${color}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 240 240\">\n    <circle cx=\"120\" cy=\"120\" opacity=\".6\" r=\"70\" />\n    <circle cx=\"120\" cy=\"120\" opacity=\".3\" r=\"90\" />\n    <circle cx=\"120\" cy=\"120\" opacity=\".2\" r=\"110\" />\n  </svg>`);\n        // create marker using svg icon\n        return new google.maps.Marker({\n            position,\n            icon: {\n                url: `data:image/svg+xml;base64,${svg}`,\n                scaledSize: new google.maps.Size(45, 45),\n            },\n            label: {\n                text: String(count),\n                color: \"rgba(255,255,255,0.9)\",\n                fontSize: \"12px\",\n            },\n            title: `Cluster of ${count} markers`,\n            // adjust zIndex to be above other markers\n            zIndex: Number(google.maps.Marker.MAX_ZINDEX) + count,\n        });\n    }\n}\n\n/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Extends an object's prototype by another's.\n *\n * @param type1 The Type to be extended.\n * @param type2 The Type to extend with.\n * @ignore\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction extend(type1, type2) {\n    /* istanbul ignore next */\n    // eslint-disable-next-line prefer-const\n    for (let property in type2.prototype) {\n        type1.prototype[property] = type2.prototype[property];\n    }\n}\n/**\n * @ignore\n */\nclass OverlayViewSafe {\n    constructor() {\n        // MarkerClusterer implements google.maps.OverlayView interface. We use the\n        // extend function to extend MarkerClusterer with google.maps.OverlayView\n        // because it might not always be available when the code is defined so we\n        // look for it at the last possible moment. If it doesn't exist now then\n        // there is no point going ahead :)\n        extend(OverlayViewSafe, google.maps.OverlayView);\n    }\n}\n\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar MarkerClustererEvents;\n(function (MarkerClustererEvents) {\n    MarkerClustererEvents[\"CLUSTERING_BEGIN\"] = \"clusteringbegin\";\n    MarkerClustererEvents[\"CLUSTERING_END\"] = \"clusteringend\";\n    MarkerClustererEvents[\"CLUSTER_CLICK\"] = \"click\";\n})(MarkerClustererEvents || (MarkerClustererEvents = {}));\nconst defaultOnClusterClickHandler = (_, cluster, map) => {\n    map.fitBounds(cluster.bounds);\n};\n/**\n * MarkerClusterer creates and manages per-zoom-level clusters for large amounts\n * of markers. See {@link MarkerClustererOptions} for more details.\n *\n */\nclass MarkerClusterer extends OverlayViewSafe {\n    constructor({ map, markers = [], algorithm = new SuperClusterAlgorithm({}), renderer = new DefaultRenderer(), onClusterClick = defaultOnClusterClickHandler, }) {\n        super();\n        this.markers = [...markers];\n        this.clusters = [];\n        this.algorithm = algorithm;\n        this.renderer = renderer;\n        this.onClusterClick = onClusterClick;\n        if (map) {\n            this.setMap(map);\n        }\n    }\n    addMarker(marker, noDraw) {\n        if (this.markers.includes(marker)) {\n            return;\n        }\n        this.markers.push(marker);\n        if (!noDraw) {\n            this.render();\n        }\n    }\n    addMarkers(markers, noDraw) {\n        markers.forEach((marker) => {\n            this.addMarker(marker, true);\n        });\n        if (!noDraw) {\n            this.render();\n        }\n    }\n    removeMarker(marker, noDraw) {\n        const index = this.markers.indexOf(marker);\n        if (index === -1) {\n            // Marker is not in our list of markers, so do nothing:\n            return false;\n        }\n        marker.setMap(null);\n        this.markers.splice(index, 1); // Remove the marker from the list of managed markers\n        if (!noDraw) {\n            this.render();\n        }\n        return true;\n    }\n    removeMarkers(markers, noDraw) {\n        let removed = false;\n        markers.forEach((marker) => {\n            removed = this.removeMarker(marker, true) || removed;\n        });\n        if (removed && !noDraw) {\n            this.render();\n        }\n        return removed;\n    }\n    clearMarkers(noDraw) {\n        this.markers.length = 0;\n        if (!noDraw) {\n            this.render();\n        }\n    }\n    /**\n     * Recalculates and draws all the marker clusters.\n     */\n    render() {\n        const map = this.getMap();\n        if (map instanceof google.maps.Map && this.getProjection()) {\n            google.maps.event.trigger(this, MarkerClustererEvents.CLUSTERING_BEGIN, this);\n            const { clusters, changed } = this.algorithm.calculate({\n                markers: this.markers,\n                map,\n                mapCanvasProjection: this.getProjection(),\n            });\n            // allow algorithms to return flag on whether the clusters/markers have changed\n            if (changed || changed == undefined) {\n                // reset visibility of markers and clusters\n                this.reset();\n                // store new clusters\n                this.clusters = clusters;\n                this.renderClusters();\n            }\n            google.maps.event.trigger(this, MarkerClustererEvents.CLUSTERING_END, this);\n        }\n    }\n    onAdd() {\n        this.idleListener = this.getMap().addListener(\"idle\", this.render.bind(this));\n        this.render();\n    }\n    onRemove() {\n        google.maps.event.removeListener(this.idleListener);\n        this.reset();\n    }\n    reset() {\n        this.markers.forEach((marker) => marker.setMap(null));\n        this.clusters.forEach((cluster) => cluster.delete());\n        this.clusters = [];\n    }\n    renderClusters() {\n        // generate stats to pass to renderers\n        const stats = new ClusterStats(this.markers, this.clusters);\n        const map = this.getMap();\n        this.clusters.forEach((cluster) => {\n            if (cluster.markers.length === 1) {\n                cluster.marker = cluster.markers[0];\n            }\n            else {\n                cluster.marker = this.renderer.render(cluster, stats);\n                if (this.onClusterClick) {\n                    cluster.marker.addListener(\"click\", \n                    /* istanbul ignore next */\n                    (event) => {\n                        google.maps.event.trigger(this, MarkerClustererEvents.CLUSTER_CLICK, cluster);\n                        this.onClusterClick(event, cluster, map);\n                    });\n                }\n            }\n            cluster.marker.setMap(map);\n        });\n    }\n}\n\nvar index_esm = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tAbstractAlgorithm: AbstractAlgorithm,\n\tAbstractViewportAlgorithm: AbstractViewportAlgorithm,\n\tCluster: Cluster,\n\tClusterStats: ClusterStats,\n\tDefaultRenderer: DefaultRenderer,\n\tGridAlgorithm: GridAlgorithm,\n\tMarkerClusterer: MarkerClusterer,\n\tget MarkerClustererEvents () { return MarkerClustererEvents; },\n\tNoopAlgorithm: NoopAlgorithm,\n\tSuperClusterAlgorithm: SuperClusterAlgorithm,\n\tdefaultOnClusterClickHandler: defaultOnClusterClickHandler,\n\tdistanceBetweenPoints: distanceBetweenPoints,\n\textendBoundsToPaddedViewport: extendBoundsToPaddedViewport,\n\textendPixelBounds: extendPixelBounds,\n\tfilterMarkersToPaddedViewport: filterMarkersToPaddedViewport,\n\tnoop: noop$1,\n\tpixelBoundsToLatLngBounds: pixelBoundsToLatLngBounds\n});\n\nfunction useGoogleMarkerClusterer(options) {\n    const map = useGoogleMap();\n    const [markerClusterer, setMarkerClusterer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map && markerClusterer === null) {\n            const markerCluster = new MarkerClusterer(Object.assign(Object.assign({}, options), { map }));\n            setMarkerClusterer(markerCluster);\n        }\n    }, [map]);\n    return markerClusterer;\n}\n/** Wrapper around [@googlemaps/markerclusterer](https://github.com/googlemaps/js-markerclusterer)\n *\n * Accepts {@link  MarkerClustererOptionsSubset} which is a subset of  {@link MarkerClustererOptions}\n */\nfunction GoogleMarkerClusterer({ children, options }) {\n    const markerClusterer = useGoogleMarkerClusterer(options);\n    return markerClusterer !== null ? children(markerClusterer) : null;\n}\nvar GoogleMarkerClusterer$1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(GoogleMarkerClusterer);\n\n/* global google */\nconst eventMap$c = {\n    onCloseClick: 'closeclick',\n    onContentChanged: 'content_changed',\n    onDomReady: 'domready',\n    onPositionChanged: 'position_changed',\n    onZindexChanged: 'zindex_changed',\n};\nconst updaterMap$c = {\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    position(instance, position) {\n        instance.setPosition(position);\n    },\n    zIndex(instance, zIndex) {\n        instance.setZIndex(zIndex);\n    },\n};\nfunction InfoWindowFunctional({ children, anchor, options, position, zIndex, onCloseClick, onDomReady, onContentChanged, onPositionChanged, onZindexChanged, onLoad, onUnmount }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [closeclickListener, setCloseClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [domreadyclickListener, setDomReadyClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [contentchangedclickListener, setContentChangedClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [positionchangedclickListener, setPositionChangedClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [zindexchangedclickListener, setZindexChangedClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const containerElementRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.close();\n            if (anchor) {\n                instance.open(map, anchor);\n            }\n            else if (instance.getPosition()) {\n                instance.open(map);\n            }\n        }\n    }, [map, instance, anchor]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (options && instance !== null) {\n            instance.setOptions(options);\n        }\n    }, [instance, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (position && instance !== null) {\n            instance.setPosition(position);\n        }\n    }, [position]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof zIndex === 'number' && instance !== null) {\n            instance.setZIndex(zIndex);\n        }\n    }, [zIndex]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onCloseClick) {\n            if (closeclickListener !== null) {\n                google.maps.event.removeListener(closeclickListener);\n            }\n            setCloseClickListener(google.maps.event.addListener(instance, 'closeclick', onCloseClick));\n        }\n    }, [onCloseClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDomReady) {\n            if (domreadyclickListener !== null) {\n                google.maps.event.removeListener(domreadyclickListener);\n            }\n            setDomReadyClickListener(google.maps.event.addListener(instance, 'domready', onDomReady));\n        }\n    }, [onDomReady]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onContentChanged) {\n            if (contentchangedclickListener !== null) {\n                google.maps.event.removeListener(contentchangedclickListener);\n            }\n            setContentChangedClickListener(google.maps.event.addListener(instance, 'content_changed', onContentChanged));\n        }\n    }, [onContentChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onPositionChanged) {\n            if (positionchangedclickListener !== null) {\n                google.maps.event.removeListener(positionchangedclickListener);\n            }\n            setPositionChangedClickListener(google.maps.event.addListener(instance, 'position_changed', onPositionChanged));\n        }\n    }, [onPositionChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onZindexChanged) {\n            if (zindexchangedclickListener !== null) {\n                google.maps.event.removeListener(zindexchangedclickListener);\n            }\n            setZindexChangedClickListener(google.maps.event.addListener(instance, 'zindex_changed', onZindexChanged));\n        }\n    }, [onZindexChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const infoWindow = new google.maps.InfoWindow(Object.assign({}, (options || {})));\n        setInstance(infoWindow);\n        containerElementRef.current = document.createElement('div');\n        if (onCloseClick) {\n            setCloseClickListener(google.maps.event.addListener(infoWindow, 'closeclick', onCloseClick));\n        }\n        if (onDomReady) {\n            setDomReadyClickListener(google.maps.event.addListener(infoWindow, 'domready', onDomReady));\n        }\n        if (onContentChanged) {\n            setContentChangedClickListener(google.maps.event.addListener(infoWindow, 'content_changed', onContentChanged));\n        }\n        if (onPositionChanged) {\n            setPositionChangedClickListener(google.maps.event.addListener(infoWindow, 'position_changed', onPositionChanged));\n        }\n        if (onZindexChanged) {\n            setZindexChangedClickListener(google.maps.event.addListener(infoWindow, 'zindex_changed', onZindexChanged));\n        }\n        infoWindow.setContent(containerElementRef.current);\n        if (position) {\n            infoWindow.setPosition(position);\n        }\n        if (zIndex) {\n            infoWindow.setZIndex(zIndex);\n        }\n        if (anchor) {\n            infoWindow.open(map, anchor);\n        }\n        else if (infoWindow.getPosition()) {\n            infoWindow.open(map);\n        }\n        else {\n            invariant_1(false, `You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.`);\n        }\n        if (onLoad) {\n            onLoad(infoWindow);\n        }\n        return () => {\n            if (closeclickListener) {\n                google.maps.event.removeListener(closeclickListener);\n            }\n            if (contentchangedclickListener) {\n                google.maps.event.removeListener(contentchangedclickListener);\n            }\n            if (domreadyclickListener) {\n                google.maps.event.removeListener(domreadyclickListener);\n            }\n            if (positionchangedclickListener) {\n                google.maps.event.removeListener(positionchangedclickListener);\n            }\n            if (zindexchangedclickListener) {\n                google.maps.event.removeListener(zindexchangedclickListener);\n            }\n            if (onUnmount) {\n                onUnmount(infoWindow);\n            }\n            infoWindow.close();\n        };\n    }, []);\n    return containerElementRef.current ? ((0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children), containerElementRef.current)) : (null);\n}\nconst InfoWindowF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(InfoWindowFunctional);\nclass InfoWindow extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.containerElement = null;\n        this.state = {\n            infoWindow: null,\n        };\n        this.open = (infoWindow, anchor) => {\n            if (anchor) {\n                infoWindow.open(this.context, anchor);\n            }\n            else if (infoWindow.getPosition()) {\n                // @ts-ignore\n                infoWindow.open(this.context);\n            }\n            else {\n                invariant_1(false, `You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.`);\n            }\n        };\n        this.setInfoWindowCallback = () => {\n            if (this.state.infoWindow !== null && this.containerElement !== null) {\n                this.state.infoWindow.setContent(this.containerElement);\n                this.open(this.state.infoWindow, this.props.anchor);\n                if (this.props.onLoad) {\n                    this.props.onLoad(this.state.infoWindow);\n                }\n            }\n        };\n    }\n    componentDidMount() {\n        const infoWindow = new google.maps.InfoWindow(Object.assign({}, (this.props.options || {})));\n        this.containerElement = document.createElement('div');\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$c,\n            eventMap: eventMap$c,\n            prevProps: {},\n            nextProps: this.props,\n            instance: infoWindow,\n        });\n        this.setState(() => {\n            return {\n                infoWindow,\n            };\n        }, this.setInfoWindowCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.infoWindow !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$c,\n                eventMap: eventMap$c,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.infoWindow,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.infoWindow !== null) {\n            unregisterEvents(this.registeredEvents);\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.infoWindow);\n            }\n            this.state.infoWindow.close();\n        }\n    }\n    render() {\n        return this.containerElement ? ((0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(react__WEBPACK_IMPORTED_MODULE_0__.Children.only(this.props.children), this.containerElement)) : (null);\n    }\n}\nInfoWindow.contextType = MapContext;\n\nconst eventMap$b = {\n    onClick: 'click',\n    onDblClick: 'dblclick',\n    onDrag: 'drag',\n    onDragEnd: 'dragend',\n    onDragStart: 'dragstart',\n    onMouseDown: 'mousedown',\n    onMouseMove: 'mousemove',\n    onMouseOut: 'mouseout',\n    onMouseOver: 'mouseover',\n    onMouseUp: 'mouseup',\n    onRightClick: 'rightclick',\n};\nconst updaterMap$b = {\n    draggable(instance, draggable) {\n        instance.setDraggable(draggable);\n    },\n    editable(instance, editable) {\n        instance.setEditable(editable);\n    },\n    map(instance, map) {\n        instance.setMap(map);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    path(instance, path) {\n        instance.setPath(path);\n    },\n    visible(instance, visible) {\n        instance.setVisible(visible);\n    },\n};\nconst defaultOptions$1 = {};\nfunction PolylineFunctional({ options, draggable, editable, visible, path, onDblClick, onDragEnd, onDragStart, onMouseDown, onMouseMove, onMouseOut, onMouseOver, onMouseUp, onRightClick, onClick, onDrag, onLoad, onUnmount, }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dblclickListener, setDblclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragendListener, setDragendListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragstartListener, setDragstartListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousedownListener, setMousedownListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousemoveListener, setMousemoveListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoutListener, setMouseoutListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoverListener, setMouseoverListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseupListener, setMouseupListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [rightclickListener, setRightclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [clickListener, setClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragListener, setDragListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof options !== 'undefined' && instance !== null) {\n            instance.setOptions(options);\n        }\n    }, [instance, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof draggable !== 'undefined' && instance !== null) {\n            instance.setDraggable(draggable);\n        }\n    }, [instance, draggable]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof editable !== 'undefined' && instance !== null) {\n            instance.setEditable(editable);\n        }\n    }, [instance, editable]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof visible !== 'undefined' && instance !== null) {\n            instance.setVisible(visible);\n        }\n    }, [instance, visible]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof path !== 'undefined' && instance !== null) {\n            instance.setPath(path);\n        }\n    }, [instance, path]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDblClick) {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            setDblclickListener(google.maps.event.addListener(instance, 'dblclick', onDblClick));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragEnd) {\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            setDragendListener(google.maps.event.addListener(instance, 'dragend', onDragEnd));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragStart) {\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            setDragstartListener(google.maps.event.addListener(instance, 'dragstart', onDragStart));\n        }\n    }, [onDragStart]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseDown) {\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            setMousedownListener(google.maps.event.addListener(instance, 'mousedown', onMouseDown));\n        }\n    }, [onMouseDown]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseMove) {\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            setMousemoveListener(google.maps.event.addListener(instance, 'mousemove', onMouseMove));\n        }\n    }, [onMouseMove]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOut) {\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            setMouseoutListener(google.maps.event.addListener(instance, 'mouseout', onMouseOut));\n        }\n    }, [onMouseOut]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOver) {\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            setMouseoverListener(google.maps.event.addListener(instance, 'mouseover', onMouseOver));\n        }\n    }, [onMouseOver]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseUp) {\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            setMouseupListener(google.maps.event.addListener(instance, 'mouseup', onMouseUp));\n        }\n    }, [onMouseUp]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRightClick) {\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            setRightclickListener(google.maps.event.addListener(instance, 'rightclick', onRightClick));\n        }\n    }, [onRightClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onClick) {\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            setClickListener(google.maps.event.addListener(instance, 'click', onClick));\n        }\n    }, [onClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDrag) {\n            if (dragListener !== null) {\n                google.maps.event.removeListener(dragListener);\n            }\n            setDragListener(google.maps.event.addListener(instance, 'drag', onDrag));\n        }\n    }, [onDrag]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const polyline = new google.maps.Polyline(Object.assign(Object.assign({}, (options || defaultOptions$1)), { map }));\n        if (path) {\n            polyline.setPath(path);\n        }\n        if (typeof visible !== 'undefined') {\n            polyline.setVisible(visible);\n        }\n        if (typeof editable !== 'undefined') {\n            polyline.setEditable(editable);\n        }\n        if (typeof draggable !== 'undefined') {\n            polyline.setDraggable(draggable);\n        }\n        if (onDblClick) {\n            setDblclickListener(google.maps.event.addListener(polyline, 'dblclick', onDblClick));\n        }\n        if (onDragEnd) {\n            setDragendListener(google.maps.event.addListener(polyline, 'dragend', onDragEnd));\n        }\n        if (onDragStart) {\n            setDragstartListener(google.maps.event.addListener(polyline, 'dragstart', onDragStart));\n        }\n        if (onMouseDown) {\n            setMousedownListener(google.maps.event.addListener(polyline, 'mousedown', onMouseDown));\n        }\n        if (onMouseMove) {\n            setMousemoveListener(google.maps.event.addListener(polyline, 'mousemove', onMouseMove));\n        }\n        if (onMouseOut) {\n            setMouseoutListener(google.maps.event.addListener(polyline, 'mouseout', onMouseOut));\n        }\n        if (onMouseOver) {\n            setMouseoverListener(google.maps.event.addListener(polyline, 'mouseover', onMouseOver));\n        }\n        if (onMouseUp) {\n            setMouseupListener(google.maps.event.addListener(polyline, 'mouseup', onMouseUp));\n        }\n        if (onRightClick) {\n            setRightclickListener(google.maps.event.addListener(polyline, 'rightclick', onRightClick));\n        }\n        if (onClick) {\n            setClickListener(google.maps.event.addListener(polyline, 'click', onClick));\n        }\n        if (onDrag) {\n            setDragListener(google.maps.event.addListener(polyline, 'drag', onDrag));\n        }\n        setInstance(polyline);\n        if (onLoad) {\n            onLoad(polyline);\n        }\n        return () => {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            if (onUnmount) {\n                onUnmount(polyline);\n            }\n            polyline.setMap(null);\n        };\n    }, []);\n    return null;\n}\nconst PolylineF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(PolylineFunctional);\nclass Polyline extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            polyline: null,\n        };\n        this.setPolylineCallback = () => {\n            if (this.state.polyline !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.polyline);\n            }\n        };\n    }\n    componentDidMount() {\n        const polyline = new google.maps.Polyline(Object.assign(Object.assign({}, (this.props.options || {})), { map: this.context }));\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$b,\n            eventMap: eventMap$b,\n            prevProps: {},\n            nextProps: this.props,\n            instance: polyline,\n        });\n        this.setState(function setPolyline() {\n            return {\n                polyline,\n            };\n        }, this.setPolylineCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.polyline !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$b,\n                eventMap: eventMap$b,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.polyline,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.polyline !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.polyline);\n            }\n            unregisterEvents(this.registeredEvents);\n            this.state.polyline.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nPolyline.contextType = MapContext;\n\n/* global google */\nconst eventMap$a = {\n    onClick: 'click',\n    onDblClick: 'dblclick',\n    onDrag: 'drag',\n    onDragEnd: 'dragend',\n    onDragStart: 'dragstart',\n    onMouseDown: 'mousedown',\n    onMouseMove: 'mousemove',\n    onMouseOut: 'mouseout',\n    onMouseOver: 'mouseover',\n    onMouseUp: 'mouseup',\n    onRightClick: 'rightclick',\n};\nconst updaterMap$a = {\n    draggable(instance, draggable) {\n        instance.setDraggable(draggable);\n    },\n    editable(instance, editable) {\n        instance.setEditable(editable);\n    },\n    map(instance, map) {\n        instance.setMap(map);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    path(instance, path) {\n        instance.setPath(path);\n    },\n    paths(instance, paths) {\n        instance.setPaths(paths);\n    },\n    visible(instance, visible) {\n        instance.setVisible(visible);\n    },\n};\nfunction PolygonFunctional({ options, draggable, editable, visible, path, onDblClick, onDragEnd, onDragStart, onMouseDown, onMouseMove, onMouseOut, onMouseOver, onMouseUp, onRightClick, onClick, onDrag, onLoad, onUnmount, }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dblclickListener, setDblclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragendListener, setDragendListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragstartListener, setDragstartListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousedownListener, setMousedownListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousemoveListener, setMousemoveListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoutListener, setMouseoutListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoverListener, setMouseoverListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseupListener, setMouseupListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [rightclickListener, setRightclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [clickListener, setClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragListener, setDragListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof options !== 'undefined' && instance !== null) {\n            instance.setOptions(options);\n        }\n    }, [instance, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof draggable !== 'undefined' && instance !== null) {\n            instance.setDraggable(draggable);\n        }\n    }, [instance, draggable]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof editable !== 'undefined' && instance !== null) {\n            instance.setEditable(editable);\n        }\n    }, [instance, editable]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof visible !== 'undefined' && instance !== null) {\n            instance.setVisible(visible);\n        }\n    }, [instance, visible]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof path !== 'undefined' && instance !== null) {\n            instance.setPath(path);\n        }\n    }, [instance, path]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDblClick) {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            setDblclickListener(google.maps.event.addListener(instance, 'dblclick', onDblClick));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragEnd) {\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            setDragendListener(google.maps.event.addListener(instance, 'dragend', onDragEnd));\n        }\n    }, [onDragEnd]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragStart) {\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            setDragstartListener(google.maps.event.addListener(instance, 'dragstart', onDragStart));\n        }\n    }, [onDragStart]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseDown) {\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            setMousedownListener(google.maps.event.addListener(instance, 'mousedown', onMouseDown));\n        }\n    }, [onMouseDown]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseMove) {\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            setMousemoveListener(google.maps.event.addListener(instance, 'mousemove', onMouseMove));\n        }\n    }, [onMouseMove]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOut) {\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            setMouseoutListener(google.maps.event.addListener(instance, 'mouseout', onMouseOut));\n        }\n    }, [onMouseOut]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOver) {\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            setMouseoverListener(google.maps.event.addListener(instance, 'mouseover', onMouseOver));\n        }\n    }, [onMouseOver]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseUp) {\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            setMouseupListener(google.maps.event.addListener(instance, 'mouseup', onMouseUp));\n        }\n    }, [onMouseUp]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRightClick) {\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            setRightclickListener(google.maps.event.addListener(instance, 'rightclick', onRightClick));\n        }\n    }, [onRightClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onClick) {\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            setClickListener(google.maps.event.addListener(instance, 'click', onClick));\n        }\n    }, [onClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDrag) {\n            if (dragListener !== null) {\n                google.maps.event.removeListener(dragListener);\n            }\n            setDragListener(google.maps.event.addListener(instance, 'drag', onDrag));\n        }\n    }, [onDrag]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const polygon = new google.maps.Polygon(Object.assign(Object.assign({}, (options || {})), { map }));\n        if (path) {\n            polygon.setPath(path);\n        }\n        if (typeof visible !== 'undefined') {\n            polygon.setVisible(visible);\n        }\n        if (typeof editable !== 'undefined') {\n            polygon.setEditable(editable);\n        }\n        if (typeof draggable !== 'undefined') {\n            polygon.setDraggable(draggable);\n        }\n        if (onDblClick) {\n            setDblclickListener(google.maps.event.addListener(polygon, 'dblclick', onDblClick));\n        }\n        if (onDragEnd) {\n            setDragendListener(google.maps.event.addListener(polygon, 'dragend', onDragEnd));\n        }\n        if (onDragStart) {\n            setDragstartListener(google.maps.event.addListener(polygon, 'dragstart', onDragStart));\n        }\n        if (onMouseDown) {\n            setMousedownListener(google.maps.event.addListener(polygon, 'mousedown', onMouseDown));\n        }\n        if (onMouseMove) {\n            setMousemoveListener(google.maps.event.addListener(polygon, 'mousemove', onMouseMove));\n        }\n        if (onMouseOut) {\n            setMouseoutListener(google.maps.event.addListener(polygon, 'mouseout', onMouseOut));\n        }\n        if (onMouseOver) {\n            setMouseoverListener(google.maps.event.addListener(polygon, 'mouseover', onMouseOver));\n        }\n        if (onMouseUp) {\n            setMouseupListener(google.maps.event.addListener(polygon, 'mouseup', onMouseUp));\n        }\n        if (onRightClick) {\n            setRightclickListener(google.maps.event.addListener(polygon, 'rightclick', onRightClick));\n        }\n        if (onClick) {\n            setClickListener(google.maps.event.addListener(polygon, 'click', onClick));\n        }\n        if (onDrag) {\n            setDragListener(google.maps.event.addListener(polygon, 'drag', onDrag));\n        }\n        setInstance(polygon);\n        if (onLoad) {\n            onLoad(polygon);\n        }\n        return () => {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            if (onUnmount) {\n                onUnmount(polygon);\n            }\n            polygon.setMap(null);\n        };\n    }, []);\n    return null;\n}\nconst PolygonF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(PolygonFunctional);\nclass Polygon extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            polygon: null,\n        };\n        this.setPolygonCallback = () => {\n            if (this.state.polygon !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.polygon);\n            }\n        };\n    }\n    componentDidMount() {\n        const polygon = new google.maps.Polygon(Object.assign(Object.assign({}, (this.props.options || {})), { \n            // @ts-ignore\n            map: this.context }));\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$a,\n            eventMap: eventMap$a,\n            prevProps: {},\n            nextProps: this.props,\n            instance: polygon,\n        });\n        this.setState(function setPolygon() {\n            return {\n                polygon,\n            };\n        }, this.setPolygonCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.polygon !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$a,\n                eventMap: eventMap$a,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.polygon,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.polygon !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.polygon);\n            }\n            unregisterEvents(this.registeredEvents);\n            this.state.polygon && this.state.polygon.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nPolygon.contextType = MapContext;\n\nconst eventMap$9 = {\n    onBoundsChanged: 'bounds_changed',\n    onClick: 'click',\n    onDblClick: 'dblclick',\n    onDrag: 'drag',\n    onDragEnd: 'dragend',\n    onDragStart: 'dragstart',\n    onMouseDown: 'mousedown',\n    onMouseMove: 'mousemove',\n    onMouseOut: 'mouseout',\n    onMouseOver: 'mouseover',\n    onMouseUp: 'mouseup',\n    onRightClick: 'rightclick',\n};\nconst updaterMap$9 = {\n    bounds(instance, bounds) {\n        instance.setBounds(bounds);\n    },\n    draggable(instance, draggable) {\n        instance.setDraggable(draggable);\n    },\n    editable(instance, editable) {\n        instance.setEditable(editable);\n    },\n    map(instance, map) {\n        instance.setMap(map);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    visible(instance, visible) {\n        instance.setVisible(visible);\n    },\n};\nfunction RectangleFunctional({ options, bounds, draggable, editable, visible, onDblClick, onDragEnd, onDragStart, onMouseDown, onMouseMove, onMouseOut, onMouseOver, onMouseUp, onRightClick, onClick, onDrag, onBoundsChanged, onLoad, onUnmount, }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dblclickListener, setDblclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragendListener, setDragendListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragstartListener, setDragstartListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousedownListener, setMousedownListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousemoveListener, setMousemoveListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoutListener, setMouseoutListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoverListener, setMouseoverListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseupListener, setMouseupListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [rightclickListener, setRightclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [clickListener, setClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragListener, setDragListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [boundsChangedListener, setBoundsChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof options !== 'undefined' && instance !== null) {\n            instance.setOptions(options);\n        }\n    }, [instance, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof draggable !== 'undefined' && instance !== null) {\n            instance.setDraggable(draggable);\n        }\n    }, [instance, draggable]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof editable !== 'undefined' && instance !== null) {\n            instance.setEditable(editable);\n        }\n    }, [instance, editable]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof visible !== 'undefined' && instance !== null) {\n            instance.setVisible(visible);\n        }\n    }, [instance, visible]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof bounds !== 'undefined' && instance !== null) {\n            instance.setBounds(bounds);\n        }\n    }, [instance, bounds]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDblClick) {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            setDblclickListener(google.maps.event.addListener(instance, 'dblclick', onDblClick));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragEnd) {\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            setDragendListener(google.maps.event.addListener(instance, 'dragend', onDragEnd));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragStart) {\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            setDragstartListener(google.maps.event.addListener(instance, 'dragstart', onDragStart));\n        }\n    }, [onDragStart]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseDown) {\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            setMousedownListener(google.maps.event.addListener(instance, 'mousedown', onMouseDown));\n        }\n    }, [onMouseDown]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseMove) {\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            setMousemoveListener(google.maps.event.addListener(instance, 'mousemove', onMouseMove));\n        }\n    }, [onMouseMove]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOut) {\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            setMouseoutListener(google.maps.event.addListener(instance, 'mouseout', onMouseOut));\n        }\n    }, [onMouseOut]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOver) {\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            setMouseoverListener(google.maps.event.addListener(instance, 'mouseover', onMouseOver));\n        }\n    }, [onMouseOver]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseUp) {\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            setMouseupListener(google.maps.event.addListener(instance, 'mouseup', onMouseUp));\n        }\n    }, [onMouseUp]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRightClick) {\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            setRightclickListener(google.maps.event.addListener(instance, 'rightclick', onRightClick));\n        }\n    }, [onRightClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onClick) {\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            setClickListener(google.maps.event.addListener(instance, 'click', onClick));\n        }\n    }, [onClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDrag) {\n            if (dragListener !== null) {\n                google.maps.event.removeListener(dragListener);\n            }\n            setDragListener(google.maps.event.addListener(instance, 'drag', onDrag));\n        }\n    }, [onDrag]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onBoundsChanged) {\n            if (boundsChangedListener !== null) {\n                google.maps.event.removeListener(boundsChangedListener);\n            }\n            setBoundsChangedListener(google.maps.event.addListener(instance, 'bounds_changed', onBoundsChanged));\n        }\n    }, [onBoundsChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const rectangle = new google.maps.Rectangle(Object.assign(Object.assign({}, (options || {})), { map }));\n        if (typeof visible !== 'undefined') {\n            rectangle.setVisible(visible);\n        }\n        if (typeof editable !== 'undefined') {\n            rectangle.setEditable(editable);\n        }\n        if (typeof draggable !== 'undefined') {\n            rectangle.setDraggable(draggable);\n        }\n        if (typeof bounds !== 'undefined') {\n            rectangle.setBounds(bounds);\n        }\n        if (onDblClick) {\n            setDblclickListener(google.maps.event.addListener(rectangle, 'dblclick', onDblClick));\n        }\n        if (onDragEnd) {\n            setDragendListener(google.maps.event.addListener(rectangle, 'dragend', onDragEnd));\n        }\n        if (onDragStart) {\n            setDragstartListener(google.maps.event.addListener(rectangle, 'dragstart', onDragStart));\n        }\n        if (onMouseDown) {\n            setMousedownListener(google.maps.event.addListener(rectangle, 'mousedown', onMouseDown));\n        }\n        if (onMouseMove) {\n            setMousemoveListener(google.maps.event.addListener(rectangle, 'mousemove', onMouseMove));\n        }\n        if (onMouseOut) {\n            setMouseoutListener(google.maps.event.addListener(rectangle, 'mouseout', onMouseOut));\n        }\n        if (onMouseOver) {\n            setMouseoverListener(google.maps.event.addListener(rectangle, 'mouseover', onMouseOver));\n        }\n        if (onMouseUp) {\n            setMouseupListener(google.maps.event.addListener(rectangle, 'mouseup', onMouseUp));\n        }\n        if (onRightClick) {\n            setRightclickListener(google.maps.event.addListener(rectangle, 'rightclick', onRightClick));\n        }\n        if (onClick) {\n            setClickListener(google.maps.event.addListener(rectangle, 'click', onClick));\n        }\n        if (onDrag) {\n            setDragListener(google.maps.event.addListener(rectangle, 'drag', onDrag));\n        }\n        if (onBoundsChanged) {\n            setBoundsChangedListener(google.maps.event.addListener(rectangle, 'bounds_changed', onBoundsChanged));\n        }\n        setInstance(rectangle);\n        if (onLoad) {\n            onLoad(rectangle);\n        }\n        return () => {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            if (dragListener !== null) {\n                google.maps.event.removeListener(dragListener);\n            }\n            if (boundsChangedListener !== null) {\n                google.maps.event.removeListener(boundsChangedListener);\n            }\n            if (onUnmount) {\n                onUnmount(rectangle);\n            }\n            rectangle.setMap(null);\n        };\n    }, []);\n    return null;\n}\nconst RectangleF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(RectangleFunctional);\nclass Rectangle extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            rectangle: null,\n        };\n        this.setRectangleCallback = () => {\n            if (this.state.rectangle !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.rectangle);\n            }\n        };\n    }\n    componentDidMount() {\n        const rectangle = new google.maps.Rectangle(Object.assign(Object.assign({}, (this.props.options || {})), { \n            // @ts-ignore\n            map: this.context }));\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$9,\n            eventMap: eventMap$9,\n            prevProps: {},\n            nextProps: this.props,\n            instance: rectangle,\n        });\n        this.setState(function setRectangle() {\n            return {\n                rectangle,\n            };\n        }, this.setRectangleCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.rectangle !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$9,\n                eventMap: eventMap$9,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.rectangle,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.rectangle !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.rectangle);\n            }\n            unregisterEvents(this.registeredEvents);\n            this.state.rectangle.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nRectangle.contextType = MapContext;\n\nconst eventMap$8 = {\n    onCenterChanged: 'center_changed',\n    onRadiusChanged: 'radius_changed',\n    onClick: 'click',\n    onDblClick: 'dblclick',\n    onDrag: 'drag',\n    onDragEnd: 'dragend',\n    onDragStart: 'dragstart',\n    onMouseDown: 'mousedown',\n    onMouseMove: 'mousemove',\n    onMouseOut: 'mouseout',\n    onMouseOver: 'mouseover',\n    onMouseUp: 'mouseup',\n    onRightClick: 'rightclick',\n};\nconst updaterMap$8 = {\n    center(instance, center) {\n        instance.setCenter(center);\n    },\n    draggable(instance, draggable) {\n        instance.setDraggable(draggable);\n    },\n    editable(instance, editable) {\n        instance.setEditable(editable);\n    },\n    map(instance, map) {\n        instance.setMap(map);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    radius(instance, radius) {\n        instance.setRadius(radius);\n    },\n    visible(instance, visible) {\n        instance.setVisible(visible);\n    },\n};\nconst defaultOptions = {};\nfunction CircleFunctional({ options, center, radius, draggable, editable, visible, onDblClick, onDragEnd, onDragStart, onMouseDown, onMouseMove, onMouseOut, onMouseOver, onMouseUp, onRightClick, onClick, onDrag, onCenterChanged, onRadiusChanged, onLoad, onUnmount, }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dblclickListener, setDblclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragendListener, setDragendListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragstartListener, setDragstartListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousedownListener, setMousedownListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousemoveListener, setMousemoveListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoutListener, setMouseoutListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoverListener, setMouseoverListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseupListener, setMouseupListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [rightclickListener, setRightclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [clickListener, setClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dragListener, setDragListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [centerChangedListener, setCenterChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [radiusChangedListener, setRadiusChangedListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof options !== 'undefined' && instance !== null) {\n            instance.setOptions(options);\n        }\n    }, [instance, options]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof draggable !== 'undefined' && instance !== null) {\n            instance.setDraggable(draggable);\n        }\n    }, [instance, draggable]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof editable !== 'undefined' && instance !== null) {\n            instance.setEditable(editable);\n        }\n    }, [instance, editable]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof visible !== 'undefined' && instance !== null) {\n            instance.setVisible(visible);\n        }\n    }, [instance, visible]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof radius === 'number' && instance !== null) {\n            instance.setRadius(radius);\n        }\n    }, [instance, radius]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (typeof center !== 'undefined' && instance !== null) {\n            instance.setCenter(center);\n        }\n    }, [instance, center]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDblClick) {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            setDblclickListener(google.maps.event.addListener(instance, 'dblclick', onDblClick));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragEnd) {\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            setDragendListener(google.maps.event.addListener(instance, 'dragend', onDragEnd));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDragStart) {\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            setDragstartListener(google.maps.event.addListener(instance, 'dragstart', onDragStart));\n        }\n    }, [onDragStart]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseDown) {\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            setMousedownListener(google.maps.event.addListener(instance, 'mousedown', onMouseDown));\n        }\n    }, [onMouseDown]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseMove) {\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            setMousemoveListener(google.maps.event.addListener(instance, 'mousemove', onMouseMove));\n        }\n    }, [onMouseMove]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOut) {\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            setMouseoutListener(google.maps.event.addListener(instance, 'mouseout', onMouseOut));\n        }\n    }, [onMouseOut]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOver) {\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            setMouseoverListener(google.maps.event.addListener(instance, 'mouseover', onMouseOver));\n        }\n    }, [onMouseOver]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseUp) {\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            setMouseupListener(google.maps.event.addListener(instance, 'mouseup', onMouseUp));\n        }\n    }, [onMouseUp]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRightClick) {\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            setRightclickListener(google.maps.event.addListener(instance, 'rightclick', onRightClick));\n        }\n    }, [onRightClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onClick) {\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            setClickListener(google.maps.event.addListener(instance, 'click', onClick));\n        }\n    }, [onClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDrag) {\n            if (dragListener !== null) {\n                google.maps.event.removeListener(dragListener);\n            }\n            setDragListener(google.maps.event.addListener(instance, 'drag', onDrag));\n        }\n    }, [onDrag]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onCenterChanged) {\n            if (centerChangedListener !== null) {\n                google.maps.event.removeListener(centerChangedListener);\n            }\n            setCenterChangedListener(google.maps.event.addListener(instance, 'center_changed', onCenterChanged));\n        }\n    }, [onClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRadiusChanged) {\n            if (radiusChangedListener !== null) {\n                google.maps.event.removeListener(radiusChangedListener);\n            }\n            setRadiusChangedListener(google.maps.event.addListener(instance, 'radius_changed', onRadiusChanged));\n        }\n    }, [onRadiusChanged]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const circle = new google.maps.Circle(Object.assign(Object.assign({}, (options || defaultOptions)), { map }));\n        if (typeof radius === 'number') {\n            circle.setRadius(radius);\n        }\n        if (typeof center !== 'undefined') {\n            circle.setCenter(center);\n        }\n        if (typeof radius === 'number') {\n            circle.setRadius(radius);\n        }\n        if (typeof visible !== 'undefined') {\n            circle.setVisible(visible);\n        }\n        if (typeof editable !== 'undefined') {\n            circle.setEditable(editable);\n        }\n        if (typeof draggable !== 'undefined') {\n            circle.setDraggable(draggable);\n        }\n        if (onDblClick) {\n            setDblclickListener(google.maps.event.addListener(circle, 'dblclick', onDblClick));\n        }\n        if (onDragEnd) {\n            setDragendListener(google.maps.event.addListener(circle, 'dragend', onDragEnd));\n        }\n        if (onDragStart) {\n            setDragstartListener(google.maps.event.addListener(circle, 'dragstart', onDragStart));\n        }\n        if (onMouseDown) {\n            setMousedownListener(google.maps.event.addListener(circle, 'mousedown', onMouseDown));\n        }\n        if (onMouseMove) {\n            setMousemoveListener(google.maps.event.addListener(circle, 'mousemove', onMouseMove));\n        }\n        if (onMouseOut) {\n            setMouseoutListener(google.maps.event.addListener(circle, 'mouseout', onMouseOut));\n        }\n        if (onMouseOver) {\n            setMouseoverListener(google.maps.event.addListener(circle, 'mouseover', onMouseOver));\n        }\n        if (onMouseUp) {\n            setMouseupListener(google.maps.event.addListener(circle, 'mouseup', onMouseUp));\n        }\n        if (onRightClick) {\n            setRightclickListener(google.maps.event.addListener(circle, 'rightclick', onRightClick));\n        }\n        if (onClick) {\n            setClickListener(google.maps.event.addListener(circle, 'click', onClick));\n        }\n        if (onDrag) {\n            setDragListener(google.maps.event.addListener(circle, 'drag', onDrag));\n        }\n        if (onCenterChanged) {\n            setCenterChangedListener(google.maps.event.addListener(circle, 'center_changed', onCenterChanged));\n        }\n        if (onRadiusChanged) {\n            setRadiusChangedListener(google.maps.event.addListener(circle, 'radius_changed', onRadiusChanged));\n        }\n        setInstance(circle);\n        if (onLoad) {\n            onLoad(circle);\n        }\n        return () => {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            if (dragendListener !== null) {\n                google.maps.event.removeListener(dragendListener);\n            }\n            if (dragstartListener !== null) {\n                google.maps.event.removeListener(dragstartListener);\n            }\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            if (centerChangedListener !== null) {\n                google.maps.event.removeListener(centerChangedListener);\n            }\n            if (radiusChangedListener !== null) {\n                google.maps.event.removeListener(radiusChangedListener);\n            }\n            if (onUnmount) {\n                onUnmount(circle);\n            }\n            circle.setMap(null);\n        };\n    }, []);\n    return null;\n}\nconst CircleF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(CircleFunctional);\nclass Circle extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            circle: null,\n        };\n        this.setCircleCallback = () => {\n            if (this.state.circle !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.circle);\n            }\n        };\n    }\n    componentDidMount() {\n        const circle = new google.maps.Circle(Object.assign(Object.assign({}, (this.props.options || {})), { \n            // @ts-ignore\n            map: this.context }));\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$8,\n            eventMap: eventMap$8,\n            prevProps: {},\n            nextProps: this.props,\n            instance: circle,\n        });\n        this.setState(function setCircle() {\n            return {\n                circle,\n            };\n        }, this.setCircleCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.circle !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$8,\n                eventMap: eventMap$8,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.circle,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.circle !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.circle);\n            }\n            unregisterEvents(this.registeredEvents);\n            this.state.circle && this.state.circle.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nCircle.contextType = MapContext;\n\nconst eventMap$7 = {\n    onClick: 'click',\n    onDblClick: 'dblclick',\n    onMouseDown: 'mousedown',\n    onMouseOut: 'mouseout',\n    onMouseOver: 'mouseover',\n    onMouseUp: 'mouseup',\n    onRightClick: 'rightclick',\n    onAddFeature: 'addfeature',\n    onRemoveFeature: 'removefeature',\n    onRemoveProperty: 'removeproperty',\n    onSetGeometry: 'setgeometry',\n    onSetProperty: 'setproperty',\n};\nconst updaterMap$7 = {\n    add(instance, feature) {\n        instance.add(feature);\n    },\n    addgeojson(instance, geojson, options) {\n        instance.addGeoJson(geojson, options);\n    },\n    contains(instance, feature) {\n        instance.contains(feature);\n    },\n    foreach(instance, callback) {\n        instance.forEach(callback);\n    },\n    loadgeojson(instance, url, options, callback) {\n        instance.loadGeoJson(url, options, callback);\n    },\n    overridestyle(instance, feature, style) {\n        instance.overrideStyle(feature, style);\n    },\n    remove(instance, feature) {\n        instance.remove(feature);\n    },\n    revertstyle(instance, feature) {\n        instance.revertStyle(feature);\n    },\n    controlposition(instance, controlPosition) {\n        instance.setControlPosition(controlPosition);\n    },\n    controls(instance, controls) {\n        instance.setControls(controls);\n    },\n    drawingmode(instance, mode) {\n        instance.setDrawingMode(mode);\n    },\n    map(instance, map) {\n        instance.setMap(map);\n    },\n    style(instance, style) {\n        instance.setStyle(style);\n    },\n    togeojson(instance, callback) {\n        instance.toGeoJson(callback);\n    },\n};\nfunction DataFunctional({ options, onClick, onDblClick, onMouseDown, onMouseMove, onMouseOut, onMouseOver, onMouseUp, onRightClick, onAddFeature, onRemoveFeature, onRemoveProperty, onSetGeometry, onSetProperty, onLoad, onUnmount, }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const [instance, setInstance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dblclickListener, setDblclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousedownListener, setMousedownListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mousemoveListener, setMousemoveListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoutListener, setMouseoutListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseoverListener, setMouseoverListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [mouseupListener, setMouseupListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [rightclickListener, setRightclickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [clickListener, setClickListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [addFeatureListener, setAddFeatureListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [removeFeatureListener, setRemoveFeatureListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [removePropertyListener, setRemovePropertyListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [setGeometryListener, setSetGeometryListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [setPropertyListener, setSetPropertyListener] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Order does matter\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance !== null) {\n            instance.setMap(map);\n        }\n    }, [map]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onDblClick) {\n            if (dblclickListener !== null) {\n                google.maps.event.removeListener(dblclickListener);\n            }\n            setDblclickListener(google.maps.event.addListener(instance, 'dblclick', onDblClick));\n        }\n    }, [onDblClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseDown) {\n            if (mousedownListener !== null) {\n                google.maps.event.removeListener(mousedownListener);\n            }\n            setMousedownListener(google.maps.event.addListener(instance, 'mousedown', onMouseDown));\n        }\n    }, [onMouseDown]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseMove) {\n            if (mousemoveListener !== null) {\n                google.maps.event.removeListener(mousemoveListener);\n            }\n            setMousemoveListener(google.maps.event.addListener(instance, 'mousemove', onMouseMove));\n        }\n    }, [onMouseMove]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOut) {\n            if (mouseoutListener !== null) {\n                google.maps.event.removeListener(mouseoutListener);\n            }\n            setMouseoutListener(google.maps.event.addListener(instance, 'mouseout', onMouseOut));\n        }\n    }, [onMouseOut]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseOver) {\n            if (mouseoverListener !== null) {\n                google.maps.event.removeListener(mouseoverListener);\n            }\n            setMouseoverListener(google.maps.event.addListener(instance, 'mouseover', onMouseOver));\n        }\n    }, [onMouseOver]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onMouseUp) {\n            if (mouseupListener !== null) {\n                google.maps.event.removeListener(mouseupListener);\n            }\n            setMouseupListener(google.maps.event.addListener(instance, 'mouseup', onMouseUp));\n        }\n    }, [onMouseUp]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRightClick) {\n            if (rightclickListener !== null) {\n                google.maps.event.removeListener(rightclickListener);\n            }\n            setRightclickListener(google.maps.event.addListener(instance, 'rightclick', onRightClick));\n        }\n    }, [onRightClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onClick) {\n            if (clickListener !== null) {\n                google.maps.event.removeListener(clickListener);\n            }\n            setClickListener(google.maps.event.addListener(instance, 'click', onClick));\n        }\n    }, [onClick]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onAddFeature) {\n            if (addFeatureListener !== null) {\n                google.maps.event.removeListener(addFeatureListener);\n            }\n            setAddFeatureListener(google.maps.event.addListener(instance, 'addfeature', onAddFeature));\n        }\n    }, [onAddFeature]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRemoveFeature) {\n            if (removeFeatureListener !== null) {\n                google.maps.event.removeListener(removeFeatureListener);\n            }\n            setRemoveFeatureListener(google.maps.event.addListener(instance, 'removefeature', onRemoveFeature));\n        }\n    }, [onRemoveFeature]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onRemoveProperty) {\n            if (removePropertyListener !== null) {\n                google.maps.event.removeListener(removePropertyListener);\n            }\n            setRemovePropertyListener(google.maps.event.addListener(instance, 'removeproperty', onRemoveProperty));\n        }\n    }, [onRemoveProperty]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onSetGeometry) {\n            if (setGeometryListener !== null) {\n                google.maps.event.removeListener(setGeometryListener);\n            }\n            setSetGeometryListener(google.maps.event.addListener(instance, 'setgeometry', onSetGeometry));\n        }\n    }, [onSetGeometry]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (instance && onSetProperty) {\n            if (setPropertyListener !== null) {\n                google.maps.event.removeListener(setPropertyListener);\n            }\n            setSetPropertyListener(google.maps.event.addListener(instance, 'setproperty', onSetProperty));\n        }\n    }, [onSetProperty]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (map !== null) {\n            const data = new google.maps.Data(Object.assign(Object.assign({}, (options || {})), { map }));\n            if (onDblClick) {\n                setDblclickListener(google.maps.event.addListener(data, 'dblclick', onDblClick));\n            }\n            if (onMouseDown) {\n                setMousedownListener(google.maps.event.addListener(data, 'mousedown', onMouseDown));\n            }\n            if (onMouseMove) {\n                setMousemoveListener(google.maps.event.addListener(data, 'mousemove', onMouseMove));\n            }\n            if (onMouseOut) {\n                setMouseoutListener(google.maps.event.addListener(data, 'mouseout', onMouseOut));\n            }\n            if (onMouseOver) {\n                setMouseoverListener(google.maps.event.addListener(data, 'mouseover', onMouseOver));\n            }\n            if (onMouseUp) {\n                setMouseupListener(google.maps.event.addListener(data, 'mouseup', onMouseUp));\n            }\n            if (onRightClick) {\n                setRightclickListener(google.maps.event.addListener(data, 'rightclick', onRightClick));\n            }\n            if (onClick) {\n                setClickListener(google.maps.event.addListener(data, 'click', onClick));\n            }\n            if (onAddFeature) {\n                setAddFeatureListener(google.maps.event.addListener(data, 'addfeature', onAddFeature));\n            }\n            if (onRemoveFeature) {\n                setRemoveFeatureListener(google.maps.event.addListener(data, 'removefeature', onRemoveFeature));\n            }\n            if (onRemoveProperty) {\n                setRemovePropertyListener(google.maps.event.addListener(data, 'removeproperty', onRemoveProperty));\n            }\n            if (onSetGeometry) {\n                setSetGeometryListener(google.maps.event.addListener(data, 'setgeometry', onSetGeometry));\n            }\n            if (onSetProperty) {\n                setSetPropertyListener(google.maps.event.addListener(data, 'setproperty', onSetProperty));\n            }\n            setInstance(data);\n            if (onLoad) {\n                onLoad(data);\n            }\n        }\n        return () => {\n            if (instance) {\n                if (dblclickListener !== null) {\n                    google.maps.event.removeListener(dblclickListener);\n                }\n                if (mousedownListener !== null) {\n                    google.maps.event.removeListener(mousedownListener);\n                }\n                if (mousemoveListener !== null) {\n                    google.maps.event.removeListener(mousemoveListener);\n                }\n                if (mouseoutListener !== null) {\n                    google.maps.event.removeListener(mouseoutListener);\n                }\n                if (mouseoverListener !== null) {\n                    google.maps.event.removeListener(mouseoverListener);\n                }\n                if (mouseupListener !== null) {\n                    google.maps.event.removeListener(mouseupListener);\n                }\n                if (rightclickListener !== null) {\n                    google.maps.event.removeListener(rightclickListener);\n                }\n                if (clickListener !== null) {\n                    google.maps.event.removeListener(clickListener);\n                }\n                if (addFeatureListener !== null) {\n                    google.maps.event.removeListener(addFeatureListener);\n                }\n                if (removeFeatureListener !== null) {\n                    google.maps.event.removeListener(removeFeatureListener);\n                }\n                if (removePropertyListener !== null) {\n                    google.maps.event.removeListener(removePropertyListener);\n                }\n                if (setGeometryListener !== null) {\n                    google.maps.event.removeListener(setGeometryListener);\n                }\n                if (setPropertyListener !== null) {\n                    google.maps.event.removeListener(setPropertyListener);\n                }\n                if (onUnmount) {\n                    onUnmount(instance);\n                }\n                instance.setMap(null);\n            }\n        };\n    }, []);\n    return null;\n}\nconst DataF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(DataFunctional);\nclass Data extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            data: null,\n        };\n        this.setDataCallback = () => {\n            if (this.state.data !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.data);\n            }\n        };\n    }\n    componentDidMount() {\n        if (this.context !== null) {\n            const data = new google.maps.Data(Object.assign(Object.assign({}, (this.props.options || {})), { map: this.context }));\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$7,\n                eventMap: eventMap$7,\n                prevProps: {},\n                nextProps: this.props,\n                instance: data,\n            });\n            this.setState(() => {\n                return {\n                    data,\n                };\n            }, this.setDataCallback);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.data !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$7,\n                eventMap: eventMap$7,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.data,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.data !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.data);\n            }\n            unregisterEvents(this.registeredEvents);\n            if (this.state.data) {\n                this.state.data.setMap(null);\n            }\n        }\n    }\n    render() {\n        return null;\n    }\n}\nData.contextType = MapContext;\n\nconst eventMap$6 = {\n    onClick: 'click',\n    onDefaultViewportChanged: 'defaultviewport_changed',\n    onStatusChanged: 'status_changed',\n};\nconst updaterMap$6 = {\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    url(instance, url) {\n        instance.setUrl(url);\n    },\n    zIndex(instance, zIndex) {\n        instance.setZIndex(zIndex);\n    },\n};\nclass KmlLayer extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            kmlLayer: null,\n        };\n        this.setKmlLayerCallback = () => {\n            if (this.state.kmlLayer !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.kmlLayer);\n            }\n        };\n    }\n    componentDidMount() {\n        const kmlLayer = new google.maps.KmlLayer(Object.assign(Object.assign({}, this.props.options), { map: this.context }));\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$6,\n            eventMap: eventMap$6,\n            prevProps: {},\n            nextProps: this.props,\n            instance: kmlLayer,\n        });\n        this.setState(function setLmlLayer() {\n            return {\n                kmlLayer,\n            };\n        }, this.setKmlLayerCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.kmlLayer !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$6,\n                eventMap: eventMap$6,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.kmlLayer,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.kmlLayer !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.kmlLayer);\n            }\n            unregisterEvents(this.registeredEvents);\n            this.state.kmlLayer.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nKmlLayer.contextType = MapContext;\n\nfunction getOffsetOverride(containerElement, getPixelPositionOffset) {\n    return typeof getPixelPositionOffset === 'function'\n        ? getPixelPositionOffset(containerElement.offsetWidth, containerElement.offsetHeight)\n        : {\n            x: 0,\n            y: 0,\n        };\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction createLatLng(inst, Type) { return new Type(inst.lat, inst.lng); }\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction createLatLngBounds(inst, Type) {\n    return new Type(new google.maps.LatLng(inst.ne.lat, inst.ne.lng), new google.maps.LatLng(inst.sw.lat, inst.sw.lng));\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction ensureOfType(inst, type, factory) {\n    return inst instanceof type ? inst : factory(inst, type);\n}\nfunction ensureOfTypeBounds(inst, type, factory) {\n    return inst instanceof type ? inst : factory(inst, type);\n}\nfunction getLayoutStylesByBounds(mapCanvasProjection, offset, bounds) {\n    const ne = mapCanvasProjection && mapCanvasProjection.fromLatLngToDivPixel(bounds.getNorthEast());\n    const sw = mapCanvasProjection && mapCanvasProjection.fromLatLngToDivPixel(bounds.getSouthWest());\n    if (ne && sw) {\n        return {\n            left: `${sw.x + offset.x}px`,\n            top: `${ne.y + offset.y}px`,\n            width: `${ne.x - sw.x - offset.x}px`,\n            height: `${sw.y - ne.y - offset.y}px`,\n        };\n    }\n    return {\n        left: '-9999px',\n        top: '-9999px',\n    };\n}\nfunction getLayoutStylesByPosition(mapCanvasProjection, offset, position) {\n    const point = mapCanvasProjection && mapCanvasProjection.fromLatLngToDivPixel(position);\n    if (point) {\n        const { x, y } = point;\n        return {\n            left: `${x + offset.x}px`,\n            top: `${y + offset.y}px`,\n        };\n    }\n    return {\n        left: '-9999px',\n        top: '-9999px',\n    };\n}\nfunction getLayoutStyles(mapCanvasProjection, offset, bounds, position) {\n    return bounds !== undefined\n        ? getLayoutStylesByBounds(mapCanvasProjection, offset, ensureOfTypeBounds(bounds, google.maps.LatLngBounds, createLatLngBounds))\n        : getLayoutStylesByPosition(mapCanvasProjection, offset, ensureOfType(position, google.maps.LatLng, createLatLng));\n}\nfunction arePositionsEqual(currentPosition, previousPosition) {\n    return currentPosition.left === previousPosition.left\n        && currentPosition.top === previousPosition.top\n        && currentPosition.width === previousPosition.height\n        && currentPosition.height === previousPosition.height;\n}\n\nfunction createOverlay(container, pane, position, getPixelPositionOffset) {\n    class Overlay extends google.maps.OverlayView {\n        constructor(container, pane, position) {\n            super();\n            this.container = container;\n            this.pane = pane;\n            this.position = position;\n        }\n        onAdd() {\n            var _a;\n            const pane = (_a = this.getPanes()) === null || _a === void 0 ? void 0 : _a[this.pane];\n            pane === null || pane === void 0 ? void 0 : pane.appendChild(this.container);\n        }\n        draw() {\n            const projection = this.getProjection();\n            const point = projection.fromLatLngToDivPixel(this.position);\n            const offset = Object.assign({}, (this.container\n                ? getOffsetOverride(this.container, getPixelPositionOffset)\n                : {\n                    x: 0,\n                    y: 0,\n                }));\n            if (point === null) {\n                return;\n            }\n            this.container.style.transform = `translate(${point.x + offset.x}px, ${point.y + offset.y}px)`;\n        }\n        onRemove() {\n            if (this.container.parentNode !== null) {\n                this.container.parentNode.removeChild(this.container);\n            }\n        }\n    }\n    return new Overlay(container, pane, position);\n}\n\nfunction convertToLatLngString(latLngLike) {\n    if (!latLngLike) {\n        return '';\n    }\n    const latLng = latLngLike instanceof google.maps.LatLng\n        ? latLngLike\n        : new google.maps.LatLng(latLngLike.lat, latLngLike.lng);\n    return latLng + '';\n}\nfunction convertToLatLngBoundsString(latLngBoundsLike) {\n    if (!latLngBoundsLike) {\n        return '';\n    }\n    const latLngBounds = latLngBoundsLike instanceof google.maps.LatLngBounds\n        ? latLngBoundsLike\n        : new google.maps.LatLngBounds(new google.maps.LatLng(latLngBoundsLike.south, latLngBoundsLike.east), new google.maps.LatLng(latLngBoundsLike.north, latLngBoundsLike.west));\n    return latLngBounds + '';\n}\nconst FLOAT_PANE = `floatPane`;\nconst MAP_PANE = `mapPane`;\nconst MARKER_LAYER = `markerLayer`;\nconst OVERLAY_LAYER = `overlayLayer`;\nconst OVERLAY_MOUSE_TARGET = `overlayMouseTarget`;\nfunction OverlayViewFunctional({ position, mapPaneName, zIndex, onLoad, onUnmount, getPixelPositionOffset, children, }) {\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n    const container = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n        const div = document.createElement('div');\n        div.style.position = 'absolute';\n        return div;\n    }, []);\n    const overlay = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n        return createOverlay(container, mapPaneName, position, getPixelPositionOffset);\n    }, [container, mapPaneName, position]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        onLoad === null || onLoad === void 0 ? void 0 : onLoad(overlay);\n        overlay === null || overlay === void 0 ? void 0 : overlay.setMap(map);\n        return () => {\n            onUnmount === null || onUnmount === void 0 ? void 0 : onUnmount(overlay);\n            overlay === null || overlay === void 0 ? void 0 : overlay.setMap(null);\n        };\n    }, [map, overlay]);\n    // to move the container to the foreground and background\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        container.style.zIndex = `${zIndex}`;\n    }, [zIndex, container]);\n    return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(children, container);\n}\nconst OverlayViewF = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(OverlayViewFunctional);\nclass OverlayView extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            paneEl: null,\n            containerStyle: {\n                // set initial position\n                position: 'absolute',\n            },\n        };\n        this.updatePane = () => {\n            const mapPaneName = this.props.mapPaneName;\n            // https://developers.google.com/maps/documentation/javascript/3.exp/reference#MapPanes\n            const mapPanes = this.overlayView.getPanes();\n            invariant_1(!!mapPaneName, `OverlayView requires props.mapPaneName but got %s`, mapPaneName);\n            if (mapPanes) {\n                this.setState({\n                    paneEl: mapPanes[mapPaneName],\n                });\n            }\n            else {\n                this.setState({\n                    paneEl: null,\n                });\n            }\n        };\n        this.onAdd = () => {\n            var _a, _b;\n            this.updatePane();\n            (_b = (_a = this.props).onLoad) === null || _b === void 0 ? void 0 : _b.call(_a, this.overlayView);\n        };\n        this.onPositionElement = () => {\n            const mapCanvasProjection = this.overlayView.getProjection();\n            const offset = Object.assign({ x: 0, y: 0 }, (this.containerRef.current\n                ? getOffsetOverride(this.containerRef.current, this.props.getPixelPositionOffset)\n                : {}));\n            const layoutStyles = getLayoutStyles(mapCanvasProjection, offset, this.props.bounds, this.props.position);\n            const { left, top, width, height } = this.state.containerStyle;\n            if (!arePositionsEqual(layoutStyles, { left, top, width, height })) {\n                this.setState({\n                    containerStyle: Object.assign(Object.assign({}, layoutStyles), { position: 'absolute' }),\n                });\n            }\n        };\n        this.draw = () => {\n            this.onPositionElement();\n        };\n        this.onRemove = () => {\n            var _a, _b;\n            this.setState(() => ({\n                paneEl: null,\n            }));\n            // this.mapPaneEl = null\n            (_b = (_a = this.props).onUnmount) === null || _b === void 0 ? void 0 : _b.call(_a, this.overlayView);\n        };\n        this.containerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();\n        // You must implement three methods: onAdd(), draw(), and onRemove().\n        const overlayView = new google.maps.OverlayView();\n        overlayView.onAdd = this.onAdd;\n        overlayView.draw = this.draw;\n        overlayView.onRemove = this.onRemove;\n        this.overlayView = overlayView;\n    }\n    componentDidMount() {\n        // You must call setMap() with a valid Map object to trigger the call to\n        // the onAdd() method and setMap(null) in order to trigger the onRemove() method.\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this.overlayView.setMap(this.context);\n    }\n    componentDidUpdate(prevProps) {\n        const prevPositionString = convertToLatLngString(prevProps.position);\n        const positionString = convertToLatLngString(this.props.position);\n        const prevBoundsString = convertToLatLngBoundsString(prevProps.bounds);\n        const boundsString = convertToLatLngBoundsString(this.props.bounds);\n        if (prevPositionString !== positionString ||\n            prevBoundsString !== boundsString) {\n            this.overlayView.draw();\n        }\n        if (prevProps.mapPaneName !== this.props.mapPaneName) {\n            this.updatePane();\n        }\n    }\n    componentWillUnmount() {\n        this.overlayView.setMap(null);\n    }\n    render() {\n        const paneEl = this.state.paneEl;\n        if (paneEl) {\n            return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(jsxRuntime.exports.jsx(\"div\", Object.assign({ ref: this.containerRef, style: this.state.containerStyle }, { children: react__WEBPACK_IMPORTED_MODULE_0__.Children.only(this.props.children) })), paneEl);\n        }\n        else {\n            return null;\n        }\n    }\n}\nOverlayView.FLOAT_PANE = `floatPane`;\nOverlayView.MAP_PANE = `mapPane`;\nOverlayView.MARKER_LAYER = `markerLayer`;\nOverlayView.OVERLAY_LAYER = `overlayLayer`;\nOverlayView.OVERLAY_MOUSE_TARGET = `overlayMouseTarget`;\nOverlayView.contextType = MapContext;\n\nfunction noop() { return; }\n\nconst eventMap$5 = {\n    onDblClick: 'dblclick',\n    onClick: 'click',\n};\nconst updaterMap$5 = {\n    opacity(instance, opacity) {\n        instance.setOpacity(opacity);\n    },\n};\nclass GroundOverlay extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            groundOverlay: null,\n        };\n        this.setGroundOverlayCallback = () => {\n            if (this.state.groundOverlay !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.groundOverlay);\n            }\n        };\n    }\n    componentDidMount() {\n        invariant_1(!!this.props.url || !!this.props.bounds, `For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by \\`react-google-maps-api\\`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just \\`key={url}\\` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655`);\n        const groundOverlay = new google.maps.GroundOverlay(this.props.url, this.props.bounds, Object.assign(Object.assign({}, this.props.options), { \n            // @ts-ignore\n            map: this.context }));\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$5,\n            eventMap: eventMap$5,\n            prevProps: {},\n            nextProps: this.props,\n            instance: groundOverlay,\n        });\n        this.setState(function setGroundOverlay() {\n            return {\n                groundOverlay,\n            };\n        }, this.setGroundOverlayCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.groundOverlay !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$5,\n                eventMap: eventMap$5,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.groundOverlay,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.groundOverlay) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.groundOverlay);\n            }\n            this.state.groundOverlay.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nGroundOverlay.defaultProps = {\n    onLoad: noop,\n};\nGroundOverlay.contextType = MapContext;\n\nconst eventMap$4 = {};\nconst updaterMap$4 = {\n    data(instance, data) {\n        instance.setData(data);\n    },\n    map(instance, map) {\n        instance.setMap(map);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n};\nclass HeatmapLayer extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            heatmapLayer: null,\n        };\n        this.setHeatmapLayerCallback = () => {\n            if (this.state.heatmapLayer !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.heatmapLayer);\n            }\n        };\n    }\n    componentDidMount() {\n        invariant_1(!!google.maps.visualization, 'Did you include prop libraries={[\"visualization\"]} to <LoadScript />? %s', google.maps.visualization);\n        invariant_1(!!this.props.data, 'data property is required in HeatmapLayer %s', this.props.data);\n        const heatmapLayer = new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({}, (this.props.options || {})), { data: this.props.data, \n            // @ts-ignore\n            map: this.context }));\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$4,\n            eventMap: eventMap$4,\n            prevProps: {},\n            nextProps: this.props,\n            instance: heatmapLayer,\n        });\n        this.setState(function setHeatmapLayer() {\n            return {\n                heatmapLayer,\n            };\n        }, this.setHeatmapLayerCallback);\n    }\n    componentDidUpdate(prevProps) {\n        unregisterEvents(this.registeredEvents);\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$4,\n            eventMap: eventMap$4,\n            prevProps,\n            nextProps: this.props,\n            instance: this.state.heatmapLayer,\n        });\n    }\n    componentWillUnmount() {\n        if (this.state.heatmapLayer !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.heatmapLayer);\n            }\n            unregisterEvents(this.registeredEvents);\n            this.state.heatmapLayer.setMap(null);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nHeatmapLayer.contextType = MapContext;\n\nconst eventMap$3 = {\n    onCloseClick: 'closeclick',\n    onPanoChanged: 'pano_changed',\n    onPositionChanged: 'position_changed',\n    onPovChanged: 'pov_changed',\n    onResize: 'resize',\n    onStatusChanged: 'status_changed',\n    onVisibleChanged: 'visible_changed',\n    onZoomChanged: 'zoom_changed',\n};\nconst updaterMap$3 = {\n    register(instance, provider, options) {\n        instance.registerPanoProvider(provider, options);\n    },\n    links(instance, links) {\n        instance.setLinks(links);\n    },\n    motionTracking(instance, motionTracking) {\n        instance.setMotionTracking(motionTracking);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    pano(instance, pano) {\n        instance.setPano(pano);\n    },\n    position(instance, position) {\n        instance.setPosition(position);\n    },\n    pov(instance, pov) {\n        instance.setPov(pov);\n    },\n    visible(instance, visible) {\n        instance.setVisible(visible);\n    },\n    zoom(instance, zoom) {\n        instance.setZoom(zoom);\n    },\n};\nclass StreetViewPanorama extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            streetViewPanorama: null,\n        };\n        this.setStreetViewPanoramaCallback = () => {\n            if (this.state.streetViewPanorama !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.streetViewPanorama);\n            }\n        };\n    }\n    componentDidMount() {\n        // @ts-ignore\n        const streetViewPanorama = this.context.getStreetView();\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$3,\n            eventMap: eventMap$3,\n            prevProps: {},\n            nextProps: this.props,\n            instance: streetViewPanorama,\n        });\n        this.setState(() => {\n            return {\n                streetViewPanorama,\n            };\n        }, this.setStreetViewPanoramaCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.streetViewPanorama !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$3,\n                eventMap: eventMap$3,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.streetViewPanorama,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.streetViewPanorama !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.streetViewPanorama);\n            }\n            unregisterEvents(this.registeredEvents);\n            this.state.streetViewPanorama.setVisible(false);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nStreetViewPanorama.contextType = MapContext;\n\nclass StreetViewService extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            streetViewService: null,\n        };\n        this.setStreetViewServiceCallback = () => {\n            if (this.state.streetViewService !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.streetViewService);\n            }\n        };\n    }\n    componentDidMount() {\n        const streetViewService = new google.maps.StreetViewService();\n        this.setState(function setStreetViewService() {\n            return {\n                streetViewService,\n            };\n        }, this.setStreetViewServiceCallback);\n    }\n    componentWillUnmount() {\n        if (this.state.streetViewService !== null && this.props.onUnmount) {\n            this.props.onUnmount(this.state.streetViewService);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nStreetViewService.contextType = MapContext;\n\nclass DirectionsService extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            directionsService: null,\n        };\n        this.setDirectionsServiceCallback = () => {\n            if (this.state.directionsService !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.directionsService);\n            }\n        };\n    }\n    componentDidMount() {\n        invariant_1(!!this.props.options, 'DirectionsService expected options object as parameter, but got %s', this.props.options);\n        const directionsService = new google.maps.DirectionsService();\n        this.setState(function setDirectionsService() {\n            return {\n                directionsService,\n            };\n        }, this.setDirectionsServiceCallback);\n    }\n    componentDidUpdate() {\n        if (this.state.directionsService !== null) {\n            this.state.directionsService.route(this.props.options, this.props.callback);\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.directionsService !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.directionsService);\n            }\n        }\n    }\n    render() {\n        return null;\n    }\n}\n\nconst eventMap$2 = {\n    onDirectionsChanged: 'directions_changed',\n};\nconst updaterMap$2 = {\n    directions(instance, directions) {\n        instance.setDirections(directions);\n    },\n    map(instance, map) {\n        instance.setMap(map);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    panel(instance, panel) {\n        instance.setPanel(panel);\n    },\n    routeIndex(instance, routeIndex) {\n        instance.setRouteIndex(routeIndex);\n    },\n};\nclass DirectionsRenderer extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.state = {\n            directionsRenderer: null,\n        };\n        this.setDirectionsRendererCallback = () => {\n            if (this.state.directionsRenderer !== null) {\n                // @ts-ignore\n                this.state.directionsRenderer.setMap(this.context);\n                if (this.props.onLoad) {\n                    this.props.onLoad(this.state.directionsRenderer);\n                }\n            }\n        };\n    }\n    componentDidMount() {\n        const directionsRenderer = new google.maps.DirectionsRenderer(this.props.options);\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap: updaterMap$2,\n            eventMap: eventMap$2,\n            prevProps: {},\n            nextProps: this.props,\n            instance: directionsRenderer,\n        });\n        this.setState(function setDirectionsRenderer() {\n            return {\n                directionsRenderer,\n            };\n        }, this.setDirectionsRendererCallback);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.directionsRenderer !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$2,\n                eventMap: eventMap$2,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.directionsRenderer,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.directionsRenderer !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.directionsRenderer);\n            }\n            unregisterEvents(this.registeredEvents);\n            if (this.state.directionsRenderer) {\n                this.state.directionsRenderer.setMap(null);\n            }\n        }\n    }\n    render() {\n        return jsxRuntime.exports.jsx(jsxRuntime.exports.Fragment, {});\n    }\n}\nDirectionsRenderer.contextType = MapContext;\n\nclass DistanceMatrixService extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            distanceMatrixService: null,\n        };\n        this.setDistanceMatrixServiceCallback = () => {\n            if (this.state.distanceMatrixService !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.distanceMatrixService);\n            }\n        };\n    }\n    componentDidMount() {\n        invariant_1(!!this.props.options, 'DistanceMatrixService expected options object as parameter, but go %s', this.props.options);\n        const distanceMatrixService = new google.maps.DistanceMatrixService();\n        this.setState(function setDistanceMatrixService() {\n            return {\n                distanceMatrixService,\n            };\n        }, this.setDistanceMatrixServiceCallback);\n    }\n    componentDidUpdate() {\n        if (this.state.distanceMatrixService !== null) {\n            this.state.distanceMatrixService.getDistanceMatrix(this.props.options, this.props.callback);\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.distanceMatrixService !== null && this.props.onUnmount) {\n            this.props.onUnmount(this.state.distanceMatrixService);\n        }\n    }\n    render() {\n        return null;\n    }\n}\n\nconst eventMap$1 = {\n    onPlacesChanged: 'places_changed',\n};\nconst updaterMap$1 = {\n    bounds(instance, bounds) {\n        instance.setBounds(bounds);\n    },\n};\nclass StandaloneSearchBox extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.containerElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();\n        this.state = {\n            searchBox: null,\n        };\n        this.setSearchBoxCallback = () => {\n            if (this.state.searchBox !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.searchBox);\n            }\n        };\n    }\n    componentDidMount() {\n        invariant_1(!!google.maps.places, 'You need to provide libraries={[\"places\"]} prop to <LoadScript /> component %s', google.maps.places);\n        if (this.containerElement !== null && this.containerElement.current !== null) {\n            const input = this.containerElement.current.querySelector('input');\n            if (input !== null) {\n                const searchBox = new google.maps.places.SearchBox(input, this.props.options);\n                this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                    updaterMap: updaterMap$1,\n                    eventMap: eventMap$1,\n                    prevProps: {},\n                    nextProps: this.props,\n                    instance: searchBox,\n                });\n                this.setState(function setSearchBox() {\n                    return {\n                        searchBox,\n                    };\n                }, this.setSearchBoxCallback);\n            }\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.searchBox !== null) {\n            unregisterEvents(this.registeredEvents);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap: updaterMap$1,\n                eventMap: eventMap$1,\n                prevProps,\n                nextProps: this.props,\n                instance: this.state.searchBox,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.searchBox !== null) {\n            if (this.props.onUnmount) {\n                this.props.onUnmount(this.state.searchBox);\n            }\n            unregisterEvents(this.registeredEvents);\n        }\n    }\n    render() {\n        return jsxRuntime.exports.jsx(\"div\", Object.assign({ ref: this.containerElement }, { children: react__WEBPACK_IMPORTED_MODULE_0__.Children.only(this.props.children) }));\n    }\n}\nStandaloneSearchBox.contextType = MapContext;\n\nconst eventMap = {\n    onPlaceChanged: 'place_changed',\n};\nconst updaterMap = {\n    bounds(instance, bounds) {\n        instance.setBounds(bounds);\n    },\n    restrictions(instance, restrictions) {\n        instance.setComponentRestrictions(restrictions);\n    },\n    fields(instance, fields) {\n        instance.setFields(fields);\n    },\n    options(instance, options) {\n        instance.setOptions(options);\n    },\n    types(instance, types) {\n        instance.setTypes(types);\n    },\n};\nclass Autocomplete extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.registeredEvents = [];\n        this.containerElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();\n        this.state = {\n            autocomplete: null,\n        };\n        this.setAutocompleteCallback = () => {\n            if (this.state.autocomplete !== null && this.props.onLoad) {\n                this.props.onLoad(this.state.autocomplete);\n            }\n        };\n    }\n    componentDidMount() {\n        invariant_1(!!google.maps.places, 'You need to provide libraries={[\"places\"]} prop to <LoadScript /> component %s', google.maps.places);\n        // TODO: why current could be equal null?\n        // @ts-ignore\n        const input = this.containerElement.current.querySelector('input');\n        if (input) {\n            const autocomplete = new google.maps.places.Autocomplete(input, this.props.options);\n            this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n                updaterMap,\n                eventMap,\n                prevProps: {},\n                nextProps: this.props,\n                instance: autocomplete,\n            });\n            this.setState(() => {\n                return {\n                    autocomplete,\n                };\n            }, this.setAutocompleteCallback);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        unregisterEvents(this.registeredEvents);\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n            updaterMap,\n            eventMap,\n            prevProps,\n            nextProps: this.props,\n            instance: this.state.autocomplete,\n        });\n    }\n    componentWillUnmount() {\n        if (this.state.autocomplete !== null) {\n            unregisterEvents(this.registeredEvents);\n        }\n    }\n    render() {\n        return jsxRuntime.exports.jsx(\"div\", Object.assign({ ref: this.containerElement, className: this.props.className }, { children: react__WEBPACK_IMPORTED_MODULE_0__.Children.only(this.props.children) }));\n    }\n}\nAutocomplete.defaultProps = {\n    className: ''\n};\nAutocomplete.contextType = MapContext;\n\n\n//# sourceMappingURL=esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LWdvb2dsZS1tYXBzL2FwaS9kaXN0L2VzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9DO0FBQ2lKO0FBQy9JO0FBQ0c7O0FBRXpDLHNIQUFzSCxxQkFBTSxtQkFBbUIscUJBQU07O0FBRXJKLGtCQUFrQjs7QUFFbEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sOENBQW1CLDRLQUE0SztBQUNyTSxtQkFBbUIsVUFBVSxlQUFlLHFCQUFxQiw2QkFBNkIsMEJBQTBCLDBEQUEwRCw0RUFBNEUsUUFBUSx3REFBd0QsMENBQTBDLHFDQUFxQztBQUM3WTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSyxJQUFxQztBQUMxQzs7QUFFQSxhQUFhLDhDQUFtQjs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrR0FBa0csZUFBZTtBQUNqSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUDtBQUNBO0FBQ0EsTUFBTSxHQUFHOztBQUVULG1EQUFtRDtBQUNuRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw2QkFBNkI7QUFDN0I7QUFDQSxzQ0FBc0M7O0FBRXRDLGlDQUFpQztBQUNqQztBQUNBOztBQUVBLGlDQUFpQzs7QUFFakM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7O0FBRVY7QUFDQSx1QkFB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxHQUFHO0FBQ2YsWUFBWSxHQUFHO0FBQ2YsWUFBWSxHQUFHO0FBQ2YsWUFBWSxlQUFlO0FBQzNCLFlBQVksR0FBRztBQUNmLFlBQVksR0FBRztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxHQUFHO0FBQ2Y7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2IsMEVBQTBFLG9FQUFvRSxLQUFLLE1BQU0sb0JBQW9CO0FBQzdLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGdCQUFnQiw4Q0FBTztBQUN2QjtBQUNBLGNBQWMsK0NBQVk7QUFDMUIscUJBQXFCLHFEQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtREFBWSxpQkFBaUIsa0JBQWtCO0FBQ3RFLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTCxpRUFBaUUsZUFBZTtBQUNoRjtBQUNBLGdCQUFnQiwyQ0FBSTtBQUNwQixxQkFBcUIsZ0RBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSwwRkFBMEYsbUJBQW1CLE1BQU0sK0JBQStCO0FBQzVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLCtDQUFZO0FBQ25DLHFCQUFxQixxREFBYztBQUNuQztBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsbURBQVksaUJBQWlCLHFCQUFxQjtBQUN6RSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsU0FBUztBQUNoQztBQUNBO0FBQ0E7QUFDQSx3RkFBd0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsU0FBUztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsWUFBWTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlCQUF5QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlCQUF5QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBCQUEwQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyQkFBMkI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDRCQUE0QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlCQUF5QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdCQUF3QjtBQUNwRDtBQUNBO0FBQ0EsU0FBUztBQUNU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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG1CQUFtQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHVEQUF1RDtBQUMxRjtBQUNBLHdDQUF3QyxHQUFHO0FBQzNDLHFDQUFxQztBQUNyQyx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QWM7QUFDNUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxt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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiLGdGQUFnRixvQ0FBb0MsS0FBSztBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLDJDQUFJO0FBQ3RCLHVCQUF1QixnREFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRiwyQkFBMkIsTUFBTSxtQkFBbUI7QUFDcEk7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDZCQUE2QixrTUFBa007QUFDL04sZ0JBQWdCLGlEQUFVO0FBQzFCLG9DQUFvQywrQ0FBUTtBQUM1QyxvREFBb0QsK0NBQVE7QUFDNUQsa0RBQWtELCtDQUFRO0FBQzFELHNEQUFzRCwrQ0FBUTtBQUM5RCxzREFBc0QsK0NBQVE7QUFDOUQsc0RBQXNELCtDQUFRO0FBQzlELG9EQUFvRCwrQ0FBUTtBQUM1RCxzREFBc0QsK0NBQVE7QUFDOUQsa0RBQWtELCtDQUFRO0FBQzFELHdEQUF3RCwrQ0FBUTtBQUNoRSw4Q0FBOEMsK0NBQVE7QUFDdEQsNENBQTRDLCtDQUFRO0FBQ3BEO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYiw4RUFBOEUsZ0JBQWdCLE1BQU0sS0FBSztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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UztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2Isa0ZBQWtGLGdCQUFnQixNQUFNLEtBQUs7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQiwyQ0FBSTtBQUN2Qix3QkFBd0IsZ0RBQWE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsMkJBQTJCO0FBQzdHO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLDhPQUE4TztBQUMxUSxnQkFBZ0IsaURBQVU7QUFDMUIsb0NBQW9DLCtDQUFRO0FBQzVDLG9EQUFvRCwrQ0FBUTtBQUM1RCxrREFBa0QsK0NBQVE7QUFDMUQsc0RBQXNELCtDQUFRO0FBQzlELHNEQUFzRCwrQ0FBUTtBQUM5RCxzREFBc0QsK0NBQVE7QUFDOUQsb0RBQW9ELCtDQUFRO0FBQzVELHNEQUFzRCwrQ0FBUTtBQUM5RCxrREFBa0QsK0NBQVE7QUFDMUQsd0RBQXdELCtDQUFRO0FBQ2hFLDhDQUE4QywrQ0FBUTtBQUN0RCw0Q0FBNEMsK0NBQVE7QUFDcEQsOERBQThELCtDQUFRO0FBQ3RFLDhEQUE4RCwrQ0FBUTtBQUN0RTtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBLDRFQUE0RSxnQkFBZ0IsTUFBTSxLQUFLO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxjQUFjLDJDQUFJO0FBQ2xCLG1CQUFtQixnREFBYTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLDJCQUEyQixNQUFNLG1CQUFtQjtBQUNoSTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHVCQUF1QixnREFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRix5QkFBeUIs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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUNBQWlDLGdEQUFhO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQyxnREFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0NBQWdDLGdEQUF3QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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IndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1nb29nbGUtbWFwcy9hcGkvZGlzdC9lc20uanM/ODUyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyByZXF1aXJlJCQwIGZyb20gJ3JlYWN0JztcbmltcG9ydCByZXF1aXJlJCQwX19kZWZhdWx0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIG1lbW8sIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCwgUHVyZUNvbXBvbmVudCwgY3JlYXRlUmVmLCB1c2VNZW1vLCBDaGlsZHJlbiwgaXNWYWxpZEVsZW1lbnQsIGNsb25lRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xuXG52YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxudmFyIGpzeFJ1bnRpbWUgPSB7ZXhwb3J0czoge319O1xuXG52YXIgcmVhY3RKc3hSdW50aW1lX3Byb2R1Y3Rpb25fbWluID0ge307XG5cbi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIGhhc1JlcXVpcmVkUmVhY3RKc3hSdW50aW1lX3Byb2R1Y3Rpb25fbWluO1xuXG5mdW5jdGlvbiByZXF1aXJlUmVhY3RKc3hSdW50aW1lX3Byb2R1Y3Rpb25fbWluICgpIHtcblx0aWYgKGhhc1JlcXVpcmVkUmVhY3RKc3hSdW50aW1lX3Byb2R1Y3Rpb25fbWluKSByZXR1cm4gcmVhY3RKc3hSdW50aW1lX3Byb2R1Y3Rpb25fbWluO1xuXHRoYXNSZXF1aXJlZFJlYWN0SnN4UnVudGltZV9wcm9kdWN0aW9uX21pbiA9IDE7XG52YXIgZj1yZXF1aXJlJCQwX19kZWZhdWx0LGs9U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksbD1TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksbT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49Zi5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRC5SZWFjdEN1cnJlbnRPd25lcixwPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07XG5cdGZ1bmN0aW9uIHEoYyxhLGcpe3ZhciBiLGQ9e30sZT1udWxsLGg9bnVsbDt2b2lkIDAhPT1nJiYoZT1cIlwiK2cpO3ZvaWQgMCE9PWEua2V5JiYoZT1cIlwiK2Eua2V5KTt2b2lkIDAhPT1hLnJlZiYmKGg9YS5yZWYpO2ZvcihiIGluIGEpbS5jYWxsKGEsYikmJiFwLmhhc093blByb3BlcnR5KGIpJiYoZFtiXT1hW2JdKTtpZihjJiZjLmRlZmF1bHRQcm9wcylmb3IoYiBpbiBhPWMuZGVmYXVsdFByb3BzLGEpdm9pZCAwPT09ZFtiXSYmKGRbYl09YVtiXSk7cmV0dXJuIHskJHR5cGVvZjprLHR5cGU6YyxrZXk6ZSxyZWY6aCxwcm9wczpkLF9vd25lcjpuLmN1cnJlbnR9fXJlYWN0SnN4UnVudGltZV9wcm9kdWN0aW9uX21pbi5GcmFnbWVudD1sO3JlYWN0SnN4UnVudGltZV9wcm9kdWN0aW9uX21pbi5qc3g9cTtyZWFjdEpzeFJ1bnRpbWVfcHJvZHVjdGlvbl9taW4uanN4cz1xO1xuXHRyZXR1cm4gcmVhY3RKc3hSdW50aW1lX3Byb2R1Y3Rpb25fbWluO1xufVxuXG52YXIgcmVhY3RKc3hSdW50aW1lX2RldmVsb3BtZW50ID0ge307XG5cbi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIGhhc1JlcXVpcmVkUmVhY3RKc3hSdW50aW1lX2RldmVsb3BtZW50O1xuXG5mdW5jdGlvbiByZXF1aXJlUmVhY3RKc3hSdW50aW1lX2RldmVsb3BtZW50ICgpIHtcblx0aWYgKGhhc1JlcXVpcmVkUmVhY3RKc3hSdW50aW1lX2RldmVsb3BtZW50KSByZXR1cm4gcmVhY3RKc3hSdW50aW1lX2RldmVsb3BtZW50O1xuXHRoYXNSZXF1aXJlZFJlYWN0SnN4UnVudGltZV9kZXZlbG9wbWVudCA9IDE7XG5cblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuXHQgIChmdW5jdGlvbigpIHtcblxuXHR2YXIgUmVhY3QgPSByZXF1aXJlJCQwX19kZWZhdWx0O1xuXG5cdC8vIEFUVEVOVElPTlxuXHQvLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG5cdC8vIFBsZWFzZSBjb25zaWRlciBhbHNvIGFkZGluZyB0byAncmVhY3QtZGV2dG9vbHMtc2hhcmVkL3NyYy9iYWNrZW5kL1JlYWN0U3ltYm9scydcblx0Ly8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuXG5cdHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG5cdHZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpO1xuXHR2YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50Jyk7XG5cdHZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcblx0dmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpO1xuXHR2YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJyk7XG5cdHZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb250ZXh0Jyk7XG5cdHZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcblx0dmFyIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZScpO1xuXHR2YXIgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2VfbGlzdCcpO1xuXHR2YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xuXHR2YXIgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubGF6eScpO1xuXHR2YXIgUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5vZmZzY3JlZW4nKTtcblx0dmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcblx0dmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuXHRmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcblx0ICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH1cblxuXHQgIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuXHQgIGlmICh0eXBlb2YgbWF5YmVJdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgcmV0dXJuIG1heWJlSXRlcmF0b3I7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIG51bGw7XG5cdH1cblxuXHR2YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuXHRmdW5jdGlvbiBlcnJvcihmb3JtYXQpIHtcblx0ICB7XG5cdCAgICB7XG5cdCAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHByaW50V2FybmluZygnZXJyb3InLCBmb3JtYXQsIGFyZ3MpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIHByaW50V2FybmluZyhsZXZlbCwgZm9ybWF0LCBhcmdzKSB7XG5cdCAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG5cdCAgLy8gdXBkYXRlIGNvbnNvbGVXaXRoU3RhY2tEZXYud3d3LmpzIGFzIHdlbGwuXG5cdCAge1xuXHQgICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXHQgICAgdmFyIHN0YWNrID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG5cblx0ICAgIGlmIChzdGFjayAhPT0gJycpIHtcblx0ICAgICAgZm9ybWF0ICs9ICclcyc7XG5cdCAgICAgIGFyZ3MgPSBhcmdzLmNvbmNhdChbc3RhY2tdKTtcblx0ICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3NhZmUtc3RyaW5nLWNvZXJjaW9uXG5cblxuXHQgICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgcmV0dXJuIFN0cmluZyhpdGVtKTtcblx0ICAgIH0pOyAvLyBDYXJlZnVsOiBSTiBjdXJyZW50bHkgZGVwZW5kcyBvbiB0aGlzIHByZWZpeFxuXG5cdCAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcblx0ICAgIC8vIGJyZWFrcyBJRTk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTM2MTBcblx0ICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmdcblxuXHQgICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcblx0ICB9XG5cdH1cblxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdHZhciBlbmFibGVTY29wZUFQSSA9IGZhbHNlOyAvLyBFeHBlcmltZW50YWwgQ3JlYXRlIEV2ZW50IEhhbmRsZSBBUEkuXG5cdHZhciBlbmFibGVDYWNoZUVsZW1lbnQgPSBmYWxzZTtcblx0dmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cblx0dmFyIGVuYWJsZUxlZ2FjeUhpZGRlbiA9IGZhbHNlOyAvLyBFbmFibGVzIHVuc3RhYmxlX2F2b2lkVGhpc0ZhbGxiYWNrIGZlYXR1cmUgaW4gRmliZXJcblx0Ly8gc3R1ZmYuIEludGVuZGVkIHRvIGVuYWJsZSBSZWFjdCBjb3JlIG1lbWJlcnMgdG8gbW9yZSBlYXNpbHkgZGVidWcgc2NoZWR1bGluZ1xuXHQvLyBpc3N1ZXMgaW4gREVWIGJ1aWxkcy5cblxuXHR2YXIgZW5hYmxlRGVidWdUcmFjaW5nID0gZmFsc2U7IC8vIFRyYWNrIHdoaWNoIEZpYmVyKHMpIHNjaGVkdWxlIHJlbmRlciB3b3JrLlxuXG5cdHZhciBSRUFDVF9NT0RVTEVfUkVGRVJFTkNFO1xuXG5cdHtcblx0ICBSRUFDVF9NT0RVTEVfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QubW9kdWxlLnJlZmVyZW5jZScpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcblx0ICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuXHQgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHwgZW5hYmxlRGVidWdUcmFjaW5nICB8fCB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFIHx8IGVuYWJsZUxlZ2FjeUhpZGRlbiAgfHwgdHlwZSA9PT0gUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgfHwgZW5hYmxlU2NvcGVBUEkgIHx8IGVuYWJsZUNhY2hlRWxlbWVudCAgfHwgZW5hYmxlVHJhbnNpdGlvblRyYWNpbmcgKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cblx0ICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwpIHtcblx0ICAgIGlmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuXHQgICAgLy8gdHlwZXMgc3VwcG9ydGVkIGJ5IGFueSBGbGlnaHQgY29uZmlndXJhdGlvbiBhbnl3aGVyZSBzaW5jZVxuXHQgICAgLy8gd2UgZG9uJ3Qga25vdyB3aGljaCBGbGlnaHQgYnVpbGQgdGhpcyB3aWxsIGVuZCB1cCBiZWluZyB1c2VkXG5cdCAgICAvLyB3aXRoLlxuXHQgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0V3JhcHBlZE5hbWUob3V0ZXJUeXBlLCBpbm5lclR5cGUsIHdyYXBwZXJOYW1lKSB7XG5cdCAgdmFyIGRpc3BsYXlOYW1lID0gb3V0ZXJUeXBlLmRpc3BsYXlOYW1lO1xuXG5cdCAgaWYgKGRpc3BsYXlOYW1lKSB7XG5cdCAgICByZXR1cm4gZGlzcGxheU5hbWU7XG5cdCAgfVxuXG5cdCAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcblx0ICByZXR1cm4gZnVuY3Rpb25OYW1lICE9PSAnJyA/IHdyYXBwZXJOYW1lICsgXCIoXCIgKyBmdW5jdGlvbk5hbWUgKyBcIilcIiA6IHdyYXBwZXJOYW1lO1xuXHR9IC8vIEtlZXAgaW4gc3luYyB3aXRoIHJlYWN0LXJlY29uY2lsZXIvZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlclxuXG5cblx0ZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuXHQgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8ICdDb250ZXh0Jztcblx0fSAvLyBOb3RlIHRoYXQgdGhlIHJlY29uY2lsZXIgcGFja2FnZSBzaG91bGQgZ2VuZXJhbGx5IHByZWZlciB0byB1c2UgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcigpIGluc3RlYWQuXG5cblxuXHRmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuXHQgIGlmICh0eXBlID09IG51bGwpIHtcblx0ICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfVxuXG5cdCAge1xuXHQgICAgaWYgKHR5cGVvZiB0eXBlLnRhZyA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgZXJyb3IoJ1JlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuXHQgIH1cblxuXHQgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiB0eXBlO1xuXHQgIH1cblxuXHQgIHN3aXRjaCAodHlwZSkge1xuXHQgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuXHQgICAgICByZXR1cm4gJ0ZyYWdtZW50JztcblxuXHQgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcblx0ICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG5cdCAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG5cdCAgICAgIHJldHVybiAnUHJvZmlsZXInO1xuXG5cdCAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG5cdCAgICAgIHJldHVybiAnU3RyaWN0TW9kZSc7XG5cblx0ICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcblx0ICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cblx0ICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuXHQgICAgICByZXR1cm4gJ1N1c3BlbnNlTGlzdCc7XG5cblx0ICB9XG5cblx0ICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG5cdCAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcblx0ICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG5cdCAgICAgICAgdmFyIGNvbnRleHQgPSB0eXBlO1xuXHQgICAgICAgIHJldHVybiBnZXRDb250ZXh0TmFtZShjb250ZXh0KSArICcuQ29uc3VtZXInO1xuXG5cdCAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcblx0ICAgICAgICB2YXIgcHJvdmlkZXIgPSB0eXBlO1xuXHQgICAgICAgIHJldHVybiBnZXRDb250ZXh0TmFtZShwcm92aWRlci5fY29udGV4dCkgKyAnLlByb3ZpZGVyJztcblxuXHQgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG5cdCAgICAgICAgcmV0dXJuIGdldFdyYXBwZWROYW1lKHR5cGUsIHR5cGUucmVuZGVyLCAnRm9yd2FyZFJlZicpO1xuXG5cdCAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuXHQgICAgICAgIHZhciBvdXRlck5hbWUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGw7XG5cblx0ICAgICAgICBpZiAob3V0ZXJOYW1lICE9PSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCAnTWVtbyc7XG5cblx0ICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG5cdCAgICAgICAge1xuXHQgICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuXHQgICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuXHQgICAgICAgICAgdmFyIGluaXQgPSBsYXp5Q29tcG9uZW50Ll9pbml0O1xuXG5cdCAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuXHQgICAgICAgICAgfSBjYXRjaCAoeCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIG51bGw7XG5cdH1cblxuXHR2YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuXHQvLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG5cdC8vIHJlcGxheWluZyBvbiByZW5kZXIgZnVuY3Rpb24uIFRoaXMgY3VycmVudGx5IG9ubHkgcGF0Y2hlcyB0aGUgb2JqZWN0XG5cdC8vIGxhemlseSB3aGljaCB3b24ndCBjb3ZlciBpZiB0aGUgbG9nIGZ1bmN0aW9uIHdhcyBleHRyYWN0ZWQgZWFnZXJseS5cblx0Ly8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG5cdHZhciBkaXNhYmxlZERlcHRoID0gMDtcblx0dmFyIHByZXZMb2c7XG5cdHZhciBwcmV2SW5mbztcblx0dmFyIHByZXZXYXJuO1xuXHR2YXIgcHJldkVycm9yO1xuXHR2YXIgcHJldkdyb3VwO1xuXHR2YXIgcHJldkdyb3VwQ29sbGFwc2VkO1xuXHR2YXIgcHJldkdyb3VwRW5kO1xuXG5cdGZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuXHRkaXNhYmxlZExvZy5fX3JlYWN0RGlzYWJsZWRMb2cgPSB0cnVlO1xuXHRmdW5jdGlvbiBkaXNhYmxlTG9ncygpIHtcblx0ICB7XG5cdCAgICBpZiAoZGlzYWJsZWREZXB0aCA9PT0gMCkge1xuXHQgICAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cblx0ICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuXHQgICAgICBwcmV2SW5mbyA9IGNvbnNvbGUuaW5mbztcblx0ICAgICAgcHJldldhcm4gPSBjb25zb2xlLndhcm47XG5cdCAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG5cdCAgICAgIHByZXZHcm91cCA9IGNvbnNvbGUuZ3JvdXA7XG5cdCAgICAgIHByZXZHcm91cENvbGxhcHNlZCA9IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQ7XG5cdCAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuXHQgICAgICB2YXIgcHJvcHMgPSB7XG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuXHQgICAgICAgIHdyaXRhYmxlOiB0cnVlXG5cdCAgICAgIH07IC8vICRGbG93Rml4TWUgRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cblx0ICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuXHQgICAgICAgIGluZm86IHByb3BzLFxuXHQgICAgICAgIGxvZzogcHJvcHMsXG5cdCAgICAgICAgd2FybjogcHJvcHMsXG5cdCAgICAgICAgZXJyb3I6IHByb3BzLFxuXHQgICAgICAgIGdyb3VwOiBwcm9wcyxcblx0ICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG5cdCAgICAgICAgZ3JvdXBFbmQ6IHByb3BzXG5cdCAgICAgIH0pO1xuXHQgICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuXHQgICAgfVxuXG5cdCAgICBkaXNhYmxlZERlcHRoKys7XG5cdCAgfVxuXHR9XG5cdGZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcblx0ICB7XG5cdCAgICBkaXNhYmxlZERlcHRoLS07XG5cblx0ICAgIGlmIChkaXNhYmxlZERlcHRoID09PSAwKSB7XG5cdCAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuXHQgICAgICB2YXIgcHJvcHMgPSB7XG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgICAgd3JpdGFibGU6IHRydWVcblx0ICAgICAgfTsgLy8gJEZsb3dGaXhNZSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuXHQgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG5cdCAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7XG5cdCAgICAgICAgICB2YWx1ZTogcHJldkxvZ1xuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHtcblx0ICAgICAgICAgIHZhbHVlOiBwcmV2SW5mb1xuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHtcblx0ICAgICAgICAgIHZhbHVlOiBwcmV2V2FyblxuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7XG5cdCAgICAgICAgICB2YWx1ZTogcHJldkVycm9yXG5cdCAgICAgICAgfSksXG5cdCAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHtcblx0ICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBcblx0ICAgICAgICB9KSxcblx0ICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywge1xuXHQgICAgICAgICAgdmFsdWU6IHByZXZHcm91cENvbGxhcHNlZFxuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7XG5cdCAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwRW5kXG5cdCAgICAgICAgfSlcblx0ICAgICAgfSk7XG5cdCAgICAgIC8qIGVzbGludC1lbmFibGUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nICovXG5cdCAgICB9XG5cblx0ICAgIGlmIChkaXNhYmxlZERlcHRoIDwgMCkge1xuXHQgICAgICBlcnJvcignZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uICcgKyAnVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cblx0dmFyIFJlYWN0Q3VycmVudERpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnREaXNwYXRjaGVyO1xuXHR2YXIgcHJlZml4O1xuXHRmdW5jdGlvbiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lLCBzb3VyY2UsIG93bmVyRm4pIHtcblx0ICB7XG5cdCAgICBpZiAocHJlZml4ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgLy8gRXh0cmFjdCB0aGUgVk0gc3BlY2lmaWMgcHJlZml4IHVzZWQgYnkgZWFjaCBsaW5lLlxuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHRocm93IEVycm9yKCk7XG5cdCAgICAgIH0gY2F0Y2ggKHgpIHtcblx0ICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuXHQgICAgICAgIHByZWZpeCA9IG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xuXHQgICAgICB9XG5cdCAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cblx0ICAgIHJldHVybiAnXFxuJyArIHByZWZpeCArIG5hbWU7XG5cdCAgfVxuXHR9XG5cdHZhciByZWVudHJ5ID0gZmFsc2U7XG5cdHZhciBjb21wb25lbnRGcmFtZUNhY2hlO1xuXG5cdHtcblx0ICB2YXIgUG9zc2libHlXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicgPyBXZWFrTWFwIDogTWFwO1xuXHQgIGNvbXBvbmVudEZyYW1lQ2FjaGUgPSBuZXcgUG9zc2libHlXZWFrTWFwKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBjb25zdHJ1Y3QpIHtcblx0ICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cblx0ICBpZiAoICFmbiB8fCByZWVudHJ5KSB7XG5cdCAgICByZXR1cm4gJyc7XG5cdCAgfVxuXG5cdCAge1xuXHQgICAgdmFyIGZyYW1lID0gY29tcG9uZW50RnJhbWVDYWNoZS5nZXQoZm4pO1xuXG5cdCAgICBpZiAoZnJhbWUgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICByZXR1cm4gZnJhbWU7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgdmFyIGNvbnRyb2w7XG5cdCAgcmVlbnRyeSA9IHRydWU7XG5cdCAgdmFyIHByZXZpb3VzUHJlcGFyZVN0YWNrVHJhY2UgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTsgLy8gJEZsb3dGaXhNZSBJdCBkb2VzIGFjY2VwdCB1bmRlZmluZWQuXG5cblx0ICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcblx0ICB2YXIgcHJldmlvdXNEaXNwYXRjaGVyO1xuXG5cdCAge1xuXHQgICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cblx0ICAgIC8vIGZvciB3YXJuaW5ncy5cblxuXHQgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gbnVsbDtcblx0ICAgIGRpc2FibGVMb2dzKCk7XG5cdCAgfVxuXG5cdCAgdHJ5IHtcblx0ICAgIC8vIFRoaXMgc2hvdWxkIHRocm93LlxuXHQgICAgaWYgKGNvbnN0cnVjdCkge1xuXHQgICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cblx0ICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdGhyb3cgRXJyb3IoKTtcblx0ICAgICAgfTsgLy8gJEZsb3dGaXhNZVxuXG5cblx0ICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCAncHJvcHMnLCB7XG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAvLyBXZSB1c2UgYSB0aHJvd2luZyBzZXR0ZXIgaW5zdGVhZCBvZiBmcm96ZW4gb3Igbm9uLXdyaXRhYmxlIHByb3BzXG5cdCAgICAgICAgICAvLyBiZWNhdXNlIHRoYXQgd29uJ3QgdGhyb3cgaW4gYSBub24tc3RyaWN0IG1vZGUgZnVuY3Rpb24uXG5cdCAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cblx0ICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuXHQgICAgICAgIC8vIFdlIGNvbnN0cnVjdCBhIGRpZmZlcmVudCBjb250cm9sIGZvciB0aGlzIGNhc2UgdG8gaW5jbHVkZSBhbnkgZXh0cmFcblx0ICAgICAgICAvLyBmcmFtZXMgYWRkZWQgYnkgdGhlIGNvbnN0cnVjdCBjYWxsLlxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChGYWtlLCBbXSk7XG5cdCAgICAgICAgfSBjYXRjaCAoeCkge1xuXHQgICAgICAgICAgY29udHJvbCA9IHg7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZm4sIFtdLCBGYWtlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgRmFrZS5jYWxsKCk7XG5cdCAgICAgICAgfSBjYXRjaCAoeCkge1xuXHQgICAgICAgICAgY29udHJvbCA9IHg7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgZm4uY2FsbChGYWtlLnByb3RvdHlwZSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgdGhyb3cgRXJyb3IoKTtcblx0ICAgICAgfSBjYXRjaCAoeCkge1xuXHQgICAgICAgIGNvbnRyb2wgPSB4O1xuXHQgICAgICB9XG5cblx0ICAgICAgZm4oKTtcblx0ICAgIH1cblx0ICB9IGNhdGNoIChzYW1wbGUpIHtcblx0ICAgIC8vIFRoaXMgaXMgaW5saW5lZCBtYW51YWxseSBiZWNhdXNlIGNsb3N1cmUgZG9lc24ndCBkbyBpdCBmb3IgdXMuXG5cdCAgICBpZiAoc2FtcGxlICYmIGNvbnRyb2wgJiYgdHlwZW9mIHNhbXBsZS5zdGFjayA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgLy8gVGhpcyBleHRyYWN0cyB0aGUgZmlyc3QgZnJhbWUgZnJvbSB0aGUgc2FtcGxlIHRoYXQgaXNuJ3QgYWxzbyBpbiB0aGUgY29udHJvbC5cblx0ICAgICAgLy8gU2tpcHBpbmcgb25lIGZyYW1lIHRoYXQgd2UgYXNzdW1lIGlzIHRoZSBmcmFtZSB0aGF0IGNhbGxzIHRoZSB0d28uXG5cdCAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZS5zdGFjay5zcGxpdCgnXFxuJyk7XG5cdCAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sLnN0YWNrLnNwbGl0KCdcXG4nKTtcblx0ICAgICAgdmFyIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuXHQgICAgICB2YXIgYyA9IGNvbnRyb2xMaW5lcy5sZW5ndGggLSAxO1xuXG5cdCAgICAgIHdoaWxlIChzID49IDEgJiYgYyA+PSAwICYmIHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcblx0ICAgICAgICAvLyBXZSBleHBlY3QgYXQgbGVhc3Qgb25lIHN0YWNrIGZyYW1lIHRvIGJlIHNoYXJlZC5cblx0ICAgICAgICAvLyBUeXBpY2FsbHkgdGhpcyB3aWxsIGJlIHRoZSByb290IG1vc3Qgb25lLiBIb3dldmVyLCBzdGFjayBmcmFtZXMgbWF5IGJlXG5cdCAgICAgICAgLy8gY3V0IG9mZiBkdWUgdG8gbWF4aW11bSBzdGFjayBsaW1pdHMuIEluIHRoaXMgY2FzZSwgb25lIG1heWJlIGN1dCBvZmZcblx0ICAgICAgICAvLyBlYXJsaWVyIHRoYW4gdGhlIG90aGVyLiBXZSBhc3N1bWUgdGhhdCB0aGUgc2FtcGxlIGlzIGxvbmdlciBvciB0aGUgc2FtZVxuXHQgICAgICAgIC8vIGFuZCB0aGVyZSBmb3IgY3V0IG9mZiBlYXJsaWVyLiBTbyB3ZSBzaG91bGQgZmluZCB0aGUgcm9vdCBtb3N0IGZyYW1lIGluXG5cdCAgICAgICAgLy8gdGhlIHNhbXBsZSBzb21ld2hlcmUgaW4gdGhlIGNvbnRyb2wuXG5cdCAgICAgICAgYy0tO1xuXHQgICAgICB9XG5cblx0ICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG5cdCAgICAgICAgLy8gTmV4dCB3ZSBmaW5kIHRoZSBmaXJzdCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSB3aGljaCBzaG91bGQgYmUgdGhlXG5cdCAgICAgICAgLy8gZnJhbWUgdGhhdCBjYWxsZWQgb3VyIHNhbXBsZSBmdW5jdGlvbiBhbmQgdGhlIGNvbnRyb2wuXG5cdCAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcblx0ICAgICAgICAgIC8vIEluIFY4LCB0aGUgZmlyc3QgbGluZSBpcyBkZXNjcmliaW5nIHRoZSBtZXNzYWdlIGJ1dCBvdGhlciBWTXMgZG9uJ3QuXG5cdCAgICAgICAgICAvLyBJZiB3ZSdyZSBhYm91dCB0byByZXR1cm4gdGhlIGZpcnN0IGxpbmUsIGFuZCB0aGUgY29udHJvbCBpcyBhbHNvIG9uIHRoZSBzYW1lXG5cdCAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuXHQgICAgICAgICAgLy8gdGhlIGNvbnRyb2wuIEkuZS4gYmVmb3JlIHdlIGVudGVyZWQgdGhlIHNhbXBsZSBmcmFtZS4gU28gd2UgaWdub3JlIHRoaXMgcmVzdWx0LlxuXHQgICAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHlvdSBwYXNzZWQgYSBjbGFzcyB0byBmdW5jdGlvbiBjb21wb25lbnQsIG9yIG5vbi1mdW5jdGlvbi5cblx0ICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcblx0ICAgICAgICAgICAgZG8ge1xuXHQgICAgICAgICAgICAgIHMtLTtcblx0ICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cblx0ICAgICAgICAgICAgICAvLyBUaGUgbmV4dCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSBzaG91bGQgYmUgb3VyIG1hdGNoIHRob3VnaC5cblxuXHQgICAgICAgICAgICAgIGlmIChjIDwgMCB8fCBzYW1wbGVMaW5lc1tzXSAhPT0gY29udHJvbExpbmVzW2NdKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cblx0ICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPSAnXFxuJyArIHNhbXBsZUxpbmVzW3NdLnJlcGxhY2UoJyBhdCBuZXcgJywgJyBhdCAnKTsgLy8gSWYgb3VyIGNvbXBvbmVudCBmcmFtZSBpcyBsYWJlbGVkIFwiPGFub255bW91cz5cIlxuXHQgICAgICAgICAgICAgICAgLy8gYnV0IHdlIGhhdmUgYSB1c2VyLXByb3ZpZGVkIFwiZGlzcGxheU5hbWVcIlxuXHQgICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuXHQgICAgICAgICAgICAgICAgaWYgKGZuLmRpc3BsYXlOYW1lICYmIF9mcmFtZS5pbmNsdWRlcygnPGFub255bW91cz4nKSkge1xuXHQgICAgICAgICAgICAgICAgICBfZnJhbWUgPSBfZnJhbWUucmVwbGFjZSgnPGFub255bW91cz4nLCBmbi5kaXNwbGF5TmFtZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG5cdCAgICAgICAgICB9XG5cblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0gZmluYWxseSB7XG5cdCAgICByZWVudHJ5ID0gZmFsc2U7XG5cblx0ICAgIHtcblx0ICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuXHQgICAgICByZWVuYWJsZUxvZ3MoKTtcblx0ICAgIH1cblxuXHQgICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuXHQgIH0gLy8gRmFsbGJhY2sgdG8ganVzdCB1c2luZyB0aGUgbmFtZSBpZiB3ZSBjb3VsZG4ndCBtYWtlIGl0IHRocm93LlxuXG5cblx0ICB2YXIgbmFtZSA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6ICcnO1xuXHQgIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG5cdCAge1xuXHQgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIHJldHVybiBzeW50aGV0aWNGcmFtZTtcblx0fVxuXHRmdW5jdGlvbiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUoZm4sIHNvdXJjZSwgb3duZXJGbikge1xuXHQgIHtcblx0ICAgIHJldHVybiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBmYWxzZSk7XG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuXHQgIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuXHQgIHJldHVybiAhIShwcm90b3R5cGUgJiYgcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIHNvdXJjZSwgb3duZXJGbikge1xuXG5cdCAgaWYgKHR5cGUgPT0gbnVsbCkge1xuXHQgICAgcmV0dXJuICcnO1xuXHQgIH1cblxuXHQgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAge1xuXHQgICAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZSh0eXBlLCBzaG91bGRDb25zdHJ1Y3QodHlwZSkpO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSh0eXBlKTtcblx0ICB9XG5cblx0ICBzd2l0Y2ggKHR5cGUpIHtcblx0ICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcblx0ICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG5cdCAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcblx0ICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZUxpc3QnKTtcblx0ICB9XG5cblx0ICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG5cdCAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcblx0ICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuXHQgICAgICAgIHJldHVybiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUodHlwZS5yZW5kZXIpO1xuXG5cdCAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuXHQgICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG5cdCAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLnR5cGUsIHNvdXJjZSwgb3duZXJGbik7XG5cblx0ICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG5cdCAgICAgICAge1xuXHQgICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuXHQgICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuXHQgICAgICAgICAgdmFyIGluaXQgPSBsYXp5Q29tcG9uZW50Ll9pbml0O1xuXG5cdCAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuXHQgICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGluaXQocGF5bG9hZCksIHNvdXJjZSwgb3duZXJGbik7XG5cdCAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gJyc7XG5cdH1cblxuXHR2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5cdHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcblx0dmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXG5cdGZ1bmN0aW9uIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpIHtcblx0ICB7XG5cdCAgICBpZiAoZWxlbWVudCkge1xuXHQgICAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcblx0ICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgZWxlbWVudC5fc291cmNlLCBvd25lciA/IG93bmVyLnR5cGUgOiBudWxsKTtcblx0ICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5zZXRFeHRyYVN0YWNrRnJhbWUoc3RhY2spO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5zZXRFeHRyYVN0YWNrRnJhbWUobnVsbCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBlbGVtZW50KSB7XG5cdCAge1xuXHQgICAgLy8gJEZsb3dGaXhNZSBUaGlzIGlzIG9rYXkgYnV0IEZsb3cgZG9lc24ndCBrbm93IGl0LlxuXHQgICAgdmFyIGhhcyA9IEZ1bmN0aW9uLmNhbGwuYmluZChoYXNPd25Qcm9wZXJ0eSk7XG5cblx0ICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcblx0ICAgICAgaWYgKGhhcyh0eXBlU3BlY3MsIHR5cGVTcGVjTmFtZSkpIHtcblx0ICAgICAgICB2YXIgZXJyb3IkMSA9IHZvaWQgMDsgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cblx0ICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG5cdCAgICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuXHQgICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuXHQgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvcHJvZC1lcnJvci1jb2Rlc1xuXHQgICAgICAgICAgICB2YXIgZXJyID0gRXJyb3IoKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiAnICsgbG9jYXRpb24gKyAnIHR5cGUgYCcgKyB0eXBlU3BlY05hbWUgKyAnYCBpcyBpbnZhbGlkOyAnICsgJ2l0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAnICsgdHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICsgJ2AuJyArICdUaGlzIG9mdGVuIGhhcHBlbnMgYmVjYXVzZSBvZiB0eXBvcyBzdWNoIGFzIGBQcm9wVHlwZXMuZnVuY3Rpb25gIGluc3RlYWQgb2YgYFByb3BUeXBlcy5mdW5jYC4nKTtcblx0ICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG5cdCAgICAgICAgICAgIHRocm93IGVycjtcblx0ICAgICAgICAgIH1cblxuXHQgICAgICAgICAgZXJyb3IkMSA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJyk7XG5cdCAgICAgICAgfSBjYXRjaCAoZXgpIHtcblx0ICAgICAgICAgIGVycm9yJDEgPSBleDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAoZXJyb3IkMSAmJiAhKGVycm9yJDEgaW5zdGFuY2VvZiBFcnJvcikpIHtcblx0ICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpO1xuXG5cdCAgICAgICAgICBlcnJvcignJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcycgKyAnIGAlc2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICsgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICVzLiAnICsgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgKyAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICsgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiBlcnJvciQxKTtcblxuXHQgICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKGVycm9yJDEgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yJDEubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG5cdCAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcblx0ICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG5cdCAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IkMS5tZXNzYWdlXSA9IHRydWU7XG5cdCAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuXHQgICAgICAgICAgZXJyb3IoJ0ZhaWxlZCAlcyB0eXBlOiAlcycsIGxvY2F0aW9uLCBlcnJvciQxLm1lc3NhZ2UpO1xuXG5cdCAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChudWxsKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblxuXHR2YXIgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5cblx0ZnVuY3Rpb24gaXNBcnJheShhKSB7XG5cdCAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xuXHR9XG5cblx0Lypcblx0ICogVGhlIGAnJyArIHZhbHVlYCBwYXR0ZXJuICh1c2VkIGluIGluIHBlcmYtc2Vuc2l0aXZlIGNvZGUpIHRocm93cyBmb3IgU3ltYm9sXG5cdCAqIGFuZCBUZW1wb3JhbC4qIHR5cGVzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMjIwNjQuXG5cdCAqXG5cdCAqIFRoZSBmdW5jdGlvbnMgaW4gdGhpcyBtb2R1bGUgd2lsbCB0aHJvdyBhbiBlYXNpZXItdG8tdW5kZXJzdGFuZCxcblx0ICogZWFzaWVyLXRvLWRlYnVnIGV4Y2VwdGlvbiB3aXRoIGEgY2xlYXIgZXJyb3JzIG1lc3NhZ2UgbWVzc2FnZSBleHBsYWluaW5nIHRoZVxuXHQgKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cblx0ICogb2YgdGhlIGB2YWx1ZWAgb2JqZWN0KS5cblx0ICovXG5cdC8vICRGbG93Rml4TWUgb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5cdGZ1bmN0aW9uIHR5cGVOYW1lKHZhbHVlKSB7XG5cdCAge1xuXHQgICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuXHQgICAgdmFyIGhhc1RvU3RyaW5nVGFnID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wudG9TdHJpbmdUYWc7XG5cdCAgICB2YXIgdHlwZSA9IGhhc1RvU3RyaW5nVGFnICYmIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10gfHwgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fCAnT2JqZWN0Jztcblx0ICAgIHJldHVybiB0eXBlO1xuXHQgIH1cblx0fSAvLyAkRmxvd0ZpeE1lIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cblx0ZnVuY3Rpb24gd2lsbENvZXJjaW9uVGhyb3codmFsdWUpIHtcblx0ICB7XG5cdCAgICB0cnkge1xuXHQgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuXHQgIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuXHQgIC8vIGhhcHBlbmVkOiB5b3Ugc3VwcGxpZWQgYW4gb2JqZWN0IG9yIHN5bWJvbCB2YWx1ZSB0byBSZWFjdCAoYXMgYSBwcm9wLCBrZXksXG5cdCAgLy8gRE9NIGF0dHJpYnV0ZSwgQ1NTIHByb3BlcnR5LCBzdHJpbmcgcmVmLCBldGMuKSBhbmQgd2hlbiBSZWFjdCB0cmllZCB0b1xuXHQgIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuXHQgIC8vXG5cdCAgLy8gVGhlIG1vc3QgY29tbW9uIHR5cGVzIHRoYXQgd2lsbCBjYXVzZSB0aGlzIGV4Y2VwdGlvbiBhcmUgYFN5bWJvbGAgaW5zdGFuY2VzXG5cdCAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcblx0ICAvLyBgdmFsdWVPZmAgb3IgYFtTeW1ib2wudG9QcmltaXRpdmVdYCBtZXRob2QgdGhhdCB0aHJvd3Mgd2lsbCBhbHNvIGNhdXNlIHRoaXNcblx0ICAvLyBleGNlcHRpb24uIChMaWJyYXJ5IGF1dGhvcnMgZG8gdGhpcyB0byBwcmV2ZW50IHVzZXJzIGZyb20gdXNpbmcgYnVpbHQtaW5cblx0ICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cblx0ICAvLyBtZXRob2RzIGFyZSBuZWVkZWQgdG8gcGVyZm9ybSBhY2N1cmF0ZSBhcml0aG1ldGljIG9yIGNvbXBhcmlzb24uKVxuXHQgIC8vXG5cdCAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuXHQgIC8vIHBhc3NpbmcgaXQgdG8gUmVhY3QuIFRoZSBtb3N0IHJlbGlhYmxlIHdheSBpcyB1c3VhbGx5IGBTdHJpbmcodmFsdWUpYC5cblx0ICAvL1xuXHQgIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG5cdCAgLy8gQmVmb3JlIHRoaXMgZXhjZXB0aW9uIHdhcyB0aHJvd24sIHRoZXJlIHNob3VsZCBiZSBgY29uc29sZS5lcnJvcmAgb3V0cHV0XG5cdCAgLy8gdGhhdCBzaG93cyB0aGUgdHlwZSAoU3ltYm9sLCBUZW1wb3JhbC5QbGFpbkRhdGUsIGV0Yy4pIHRoYXQgY2F1c2VkIHRoZVxuXHQgIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG5cdCAgLy8gSW4gbW9zdCBjYXNlcywgdGhpcyBjb25zb2xlIG91dHB1dCBhbHNvIHNob3dzIHRoZSBjb21wb25lbnQgYW5kIGl0c1xuXHQgIC8vIGFuY2VzdG9yIGNvbXBvbmVudHMgd2hlcmUgdGhlIGV4Y2VwdGlvbiBoYXBwZW5lZC5cblx0ICAvL1xuXHQgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9zYWZlLXN0cmluZy1jb2VyY2lvblxuXHQgIHJldHVybiAnJyArIHZhbHVlO1xuXHR9XG5cdGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcblx0ICB7XG5cdCAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG5cdCAgICAgIGVycm9yKCdUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuJyArICcgVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cblx0ICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7IC8vIHRocm93ICh0byBoZWxwIGNhbGxlcnMgZmluZCB0cm91Ymxlc2hvb3RpbmcgY29tbWVudHMpXG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cblx0dmFyIFJlYWN0Q3VycmVudE93bmVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50T3duZXI7XG5cdHZhciBSRVNFUlZFRF9QUk9QUyA9IHtcblx0ICBrZXk6IHRydWUsXG5cdCAgcmVmOiB0cnVlLFxuXHQgIF9fc2VsZjogdHJ1ZSxcblx0ICBfX3NvdXJjZTogdHJ1ZVxuXHR9O1xuXHR2YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd247XG5cdHZhciBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bjtcblx0dmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cblx0e1xuXHQgIGRpZFdhcm5BYm91dFN0cmluZ1JlZnMgPSB7fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhhc1ZhbGlkUmVmKGNvbmZpZykge1xuXHQgIHtcblx0ICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG5cdCAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ3JlZicpLmdldDtcblxuXHQgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblxuXHQgIHJldHVybiBjb25maWcucmVmICE9PSB1bmRlZmluZWQ7XG5cdH1cblxuXHRmdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcblx0ICB7XG5cdCAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdrZXknKSkge1xuXHQgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cblx0ICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xuXHR9XG5cblx0ZnVuY3Rpb24gd2FybklmU3RyaW5nUmVmQ2Fubm90QmVBdXRvQ29udmVydGVkKGNvbmZpZywgc2VsZikge1xuXHQgIHtcblx0ICAgIGlmICh0eXBlb2YgY29uZmlnLnJlZiA9PT0gJ3N0cmluZycgJiYgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBzZWxmICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuc3RhdGVOb2RlICE9PSBzZWxmKSB7XG5cdCAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQudHlwZSk7XG5cblx0ICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG5cdCAgICAgICAgZXJyb3IoJ0NvbXBvbmVudCBcIiVzXCIgY29udGFpbnMgdGhlIHN0cmluZyByZWYgXCIlc1wiLiAnICsgJ1N1cHBvcnQgZm9yIHN0cmluZyByZWZzIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiAnICsgJ1RoaXMgY2FzZSBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYW4gYXJyb3cgZnVuY3Rpb24uICcgKyAnV2UgYXNrIHlvdSB0byBtYW51YWxseSBmaXggdGhpcyBjYXNlIGJ5IHVzaW5nIHVzZVJlZigpIG9yIGNyZWF0ZVJlZigpIGluc3RlYWQuICcgKyAnTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiAnICsgJ2h0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zdHJpY3QtbW9kZS1zdHJpbmctcmVmJywgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQudHlwZSksIGNvbmZpZy5yZWYpO1xuXG5cdCAgICAgICAgZGlkV2FybkFib3V0U3RyaW5nUmVmc1tjb21wb25lbnROYW1lXSA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcblx0ICB7XG5cdCAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoIXNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duKSB7XG5cdCAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG5cdCAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAna2V5Jywge1xuXHQgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcblx0ICB7XG5cdCAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG5cdCAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG5cdCAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuXHQgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICB9XG5cdH1cblx0LyoqXG5cdCAqIEZhY3RvcnkgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyBSZWFjdCBlbGVtZW50LiBUaGlzIG5vIGxvbmdlciBhZGhlcmVzIHRvXG5cdCAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG5cdCAqIHdpbGwgbm90IHdvcmsuIEluc3RlYWQgdGVzdCAkJHR5cGVvZiBmaWVsZCBhZ2FpbnN0IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSB0byBjaGVja1xuXHQgKiBpZiBzb21ldGhpbmcgaXMgYSBSZWFjdCBFbGVtZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0geyp9IHR5cGVcblx0ICogQHBhcmFtIHsqfSBwcm9wc1xuXHQgKiBAcGFyYW0geyp9IGtleVxuXHQgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlZlxuXHQgKiBAcGFyYW0geyp9IG93bmVyXG5cdCAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuXHQgKiBkaWZmZXJlbnQgZnJvbSB0aGUgYG93bmVyYCB3aGVuIFJlYWN0LmNyZWF0ZUVsZW1lbnQgaXMgY2FsbGVkLCBzbyB0aGF0IHdlXG5cdCAqIGNhbiB3YXJuLiBXZSB3YW50IHRvIGdldCByaWQgb2Ygb3duZXIgYW5kIHJlcGxhY2Ugc3RyaW5nIGByZWZgcyB3aXRoIGFycm93XG5cdCAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cblx0ICogY2hhbmdlIGluIGJlaGF2aW9yLlxuXHQgKiBAcGFyYW0geyp9IHNvdXJjZSBBbiBhbm5vdGF0aW9uIG9iamVjdCAoYWRkZWQgYnkgYSB0cmFuc3BpbGVyIG9yIG90aGVyd2lzZSlcblx0ICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXG5cblx0dmFyIFJlYWN0RWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcblx0ICB2YXIgZWxlbWVudCA9IHtcblx0ICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuXHQgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcblx0ICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcblx0ICAgIHR5cGU6IHR5cGUsXG5cdCAgICBrZXk6IGtleSxcblx0ICAgIHJlZjogcmVmLFxuXHQgICAgcHJvcHM6IHByb3BzLFxuXHQgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cblx0ICAgIF9vd25lcjogb3duZXJcblx0ICB9O1xuXG5cdCAge1xuXHQgICAgLy8gVGhlIHZhbGlkYXRpb24gZmxhZyBpcyBjdXJyZW50bHkgbXV0YXRpdmUuIFdlIHB1dCBpdCBvblxuXHQgICAgLy8gYW4gZXh0ZXJuYWwgYmFja2luZyBzdG9yZSBzbyB0aGF0IHdlIGNhbiBmcmVlemUgdGhlIHdob2xlIG9iamVjdC5cblx0ICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cblx0ICAgIC8vIGNvbW1vbmx5IHVzZWQgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzLlxuXHQgICAgZWxlbWVudC5fc3RvcmUgPSB7fTsgLy8gVG8gbWFrZSBjb21wYXJpbmcgUmVhY3RFbGVtZW50cyBlYXNpZXIgZm9yIHRlc3RpbmcgcHVycG9zZXMsIHdlIG1ha2Vcblx0ICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcblx0ICAgIC8vIGluY2x1ZGUgZXZlcnkgZW52aXJvbm1lbnQgd2UgcnVuIHRlc3RzIGluKSwgc28gdGhlIHRlc3QgZnJhbWV3b3JrXG5cdCAgICAvLyBpZ25vcmVzIGl0LlxuXG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdCAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuXHQgICAgICB3cml0YWJsZTogdHJ1ZSxcblx0ICAgICAgdmFsdWU6IGZhbHNlXG5cdCAgICB9KTsgLy8gc2VsZiBhbmQgc291cmNlIGFyZSBERVYgb25seSBwcm9wZXJ0aWVzLlxuXG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zZWxmJywge1xuXHQgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuXHQgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0ICAgICAgd3JpdGFibGU6IGZhbHNlLFxuXHQgICAgICB2YWx1ZTogc2VsZlxuXHQgICAgfSk7IC8vIFR3byBlbGVtZW50cyBjcmVhdGVkIGluIHR3byBkaWZmZXJlbnQgcGxhY2VzIHNob3VsZCBiZSBjb25zaWRlcmVkXG5cdCAgICAvLyBlcXVhbCBmb3IgdGVzdGluZyBwdXJwb3NlcyBhbmQgdGhlcmVmb3JlIHdlIGhpZGUgaXQgZnJvbSBlbnVtZXJhdGlvbi5cblxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuXHQgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuXHQgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0ICAgICAgd3JpdGFibGU6IGZhbHNlLFxuXHQgICAgICB2YWx1ZTogc291cmNlXG5cdCAgICB9KTtcblxuXHQgICAgaWYgKE9iamVjdC5mcmVlemUpIHtcblx0ICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50LnByb3BzKTtcblx0ICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gZWxlbWVudDtcblx0fTtcblx0LyoqXG5cdCAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JmY3MvcHVsbC8xMDdcblx0ICogQHBhcmFtIHsqfSB0eXBlXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG5cdCAqL1xuXG5cdGZ1bmN0aW9uIGpzeERFVih0eXBlLCBjb25maWcsIG1heWJlS2V5LCBzb3VyY2UsIHNlbGYpIHtcblx0ICB7XG5cdCAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuXHQgICAgdmFyIHByb3BzID0ge307XG5cdCAgICB2YXIga2V5ID0gbnVsbDtcblx0ICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcblx0ICAgIC8vIGlzc3VlIGlmIGtleSBpcyBhbHNvIGV4cGxpY2l0bHkgZGVjbGFyZWQgKGllLiA8ZGl2IHsuLi5wcm9wc30ga2V5PVwiSGlcIiAvPlxuXHQgICAgLy8gb3IgPGRpdiBrZXk9XCJIaVwiIHsuLi5wcm9wc30gLz4gKS4gV2Ugd2FudCB0byBkZXByZWNhdGUga2V5IHNwcmVhZCxcblx0ICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuXHQgICAgLy8gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz4sIGJlY2F1c2Ugd2UgYXJlbid0IGN1cnJlbnRseSBhYmxlIHRvIHRlbGwgaWZcblx0ICAgIC8vIGtleSBpcyBleHBsaWNpdGx5IGRlY2xhcmVkIHRvIGJlIHVuZGVmaW5lZCBvciBub3QuXG5cblx0ICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHtcblx0ICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGtleSA9ICcnICsgbWF5YmVLZXk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG5cdCAgICAgIHtcblx0ICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpO1xuXHQgICAgICB9XG5cblx0ICAgICAga2V5ID0gJycgKyBjb25maWcua2V5O1xuXHQgICAgfVxuXG5cdCAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuXHQgICAgICByZWYgPSBjb25maWcucmVmO1xuXHQgICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcblx0ICAgIH0gLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIGEgbmV3IHByb3BzIG9iamVjdFxuXG5cblx0ICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKSB7XG5cdCAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcblx0ICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuXHQgICAgICB9XG5cdCAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cblx0ICAgIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG5cdCAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcblxuXHQgICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuXHQgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKGtleSB8fCByZWYpIHtcblx0ICAgICAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bicgOiB0eXBlO1xuXG5cdCAgICAgIGlmIChrZXkpIHtcblx0ICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKHJlZikge1xuXHQgICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LCBwcm9wcyk7XG5cdCAgfVxuXHR9XG5cblx0dmFyIFJlYWN0Q3VycmVudE93bmVyJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcblx0dmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG5cblx0ZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShlbGVtZW50KSB7XG5cdCAge1xuXHQgICAgaWYgKGVsZW1lbnQpIHtcblx0ICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG5cdCAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUsIGVsZW1lbnQuX3NvdXJjZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG5cdCAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMS5zZXRFeHRyYVN0YWNrRnJhbWUoc3RhY2spO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQxLnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuXHR2YXIgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd247XG5cblx0e1xuXHQgIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gZmFsc2U7XG5cdH1cblx0LyoqXG5cdCAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG5cdCAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjaXN2YWxpZGVsZW1lbnRcblx0ICogQHBhcmFtIHs/b2JqZWN0fSBvYmplY3Rcblx0ICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cblx0ICogQGZpbmFsXG5cdCAqL1xuXG5cblx0ZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG5cdCAge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG5cdCAge1xuXHQgICAgaWYgKFJlYWN0Q3VycmVudE93bmVyJDEuY3VycmVudCkge1xuXHQgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQudHlwZSk7XG5cblx0ICAgICAgaWYgKG5hbWUpIHtcblx0ICAgICAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcmV0dXJuICcnO1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSkge1xuXHQgIHtcblx0ICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB2YXIgZmlsZU5hbWUgPSBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpO1xuXHQgICAgICB2YXIgbGluZU51bWJlciA9IHNvdXJjZS5saW5lTnVtYmVyO1xuXHQgICAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHlvdXIgY29kZSBhdCAnICsgZmlsZU5hbWUgKyAnOicgKyBsaW5lTnVtYmVyICsgJy4nO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gJyc7XG5cdCAgfVxuXHR9XG5cdC8qKlxuXHQgKiBXYXJuIGlmIHRoZXJlJ3Mgbm8ga2V5IGV4cGxpY2l0bHkgc2V0IG9uIGR5bmFtaWMgYXJyYXlzIG9mIGNoaWxkcmVuIG9yXG5cdCAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuXHQgKiB1cGRhdGVzLlxuXHQgKi9cblxuXG5cdHZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcblxuXHRmdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcblx0ICB7XG5cdCAgICB2YXIgaW5mbyA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuXG5cdCAgICBpZiAoIWluZm8pIHtcblx0ICAgICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG5cblx0ICAgICAgaWYgKHBhcmVudE5hbWUpIHtcblx0ICAgICAgICBpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudE5hbWUgKyBcIj4uXCI7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGluZm87XG5cdCAgfVxuXHR9XG5cdC8qKlxuXHQgKiBXYXJuIGlmIHRoZSBlbGVtZW50IGRvZXNuJ3QgaGF2ZSBhbiBleHBsaWNpdCBrZXkgYXNzaWduZWQgdG8gaXQuXG5cdCAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuXHQgKiByZW9yZGVyZWQuIEFsbCBjaGlsZHJlbiB0aGF0IGhhdmVuJ3QgYWxyZWFkeSBiZWVuIHZhbGlkYXRlZCBhcmUgcmVxdWlyZWQgdG9cblx0ICogaGF2ZSBhIFwia2V5XCIgcHJvcGVydHkgYXNzaWduZWQgdG8gaXQuIEVycm9yIHN0YXR1c2VzIGFyZSBjYWNoZWQgc28gYSB3YXJuaW5nXG5cdCAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuXHQgKlxuXHQgKiBAaW50ZXJuYWxcblx0ICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuXHQgKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgZWxlbWVudCdzIHBhcmVudCdzIHR5cGUuXG5cdCAqL1xuXG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG5cdCAge1xuXHQgICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG5cdCAgICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9IGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSk7XG5cblx0ICAgIGlmIChvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICBvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10gPSB0cnVlOyAvLyBVc3VhbGx5IHRoZSBjdXJyZW50IG93bmVyIGlzIHRoZSBvZmZlbmRlciwgYnV0IGlmIGl0IGFjY2VwdHMgY2hpbGRyZW4gYXMgYVxuXHQgICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuXHQgICAgLy8gYXNzaWduaW5nIGl0IGEga2V5LlxuXG5cdCAgICB2YXIgY2hpbGRPd25lciA9ICcnO1xuXG5cdCAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIkMS5jdXJyZW50KSB7XG5cdCAgICAgIC8vIEdpdmUgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuXHQgICAgICBjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcblx0ICAgIH1cblxuXHQgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShlbGVtZW50KTtcblxuXHQgICAgZXJyb3IoJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4nICsgJyVzJXMgU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgY3VycmVudENvbXBvbmVudEVycm9ySW5mbywgY2hpbGRPd25lcik7XG5cblx0ICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEobnVsbCk7XG5cdCAgfVxuXHR9XG5cdC8qKlxuXHQgKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG5cdCAqIGFycmF5IHdpdGggYW4gZXhwbGljaXQga2V5cyBwcm9wZXJ0eSBkZWZpbmVkLCBvciBpbiBhbiBvYmplY3QgbGl0ZXJhbFxuXHQgKiB3aXRoIHZhbGlkIGtleSBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGludGVybmFsXG5cdCAqIEBwYXJhbSB7UmVhY3ROb2RlfSBub2RlIFN0YXRpY2FsbHkgcGFzc2VkIGNoaWxkIG9mIGFueSB0eXBlLlxuXHQgKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG5cdCAqL1xuXG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuXHQgIHtcblx0ICAgIGlmICh0eXBlb2Ygbm9kZSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoaXNBcnJheShub2RlKSkge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuXG5cdCAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuXHQgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG5cdCAgICAgIC8vIFRoaXMgZWxlbWVudCB3YXMgcGFzc2VkIGluIGEgdmFsaWQgbG9jYXRpb24uXG5cdCAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuXHQgICAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAobm9kZSkge1xuXHQgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cblx0ICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgLy8gRW50cnkgaXRlcmF0b3JzIHVzZWQgdG8gcHJvdmlkZSBpbXBsaWNpdCBrZXlzLFxuXHQgICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuXHQgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcblx0ICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChub2RlKTtcblx0ICAgICAgICAgIHZhciBzdGVwO1xuXG5cdCAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChzdGVwLnZhbHVlKSkge1xuXHQgICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0LyoqXG5cdCAqIEdpdmVuIGFuIGVsZW1lbnQsIHZhbGlkYXRlIHRoYXQgaXRzIHByb3BzIGZvbGxvdyB0aGUgcHJvcFR5cGVzIGRlZmluaXRpb24sXG5cdCAqIHByb3ZpZGVkIGJ5IHRoZSB0eXBlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuXHQgKi9cblxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpIHtcblx0ICB7XG5cdCAgICB2YXIgdHlwZSA9IGVsZW1lbnQudHlwZTtcblxuXHQgICAgaWYgKHR5cGUgPT09IG51bGwgfHwgdHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIHZhciBwcm9wVHlwZXM7XG5cblx0ICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IC8vIE5vdGU6IE1lbW8gb25seSBjaGVja3Mgb3V0ZXIgcHJvcHMgaGVyZS5cblx0ICAgIC8vIElubmVyIHByb3BzIGFyZSBjaGVja2VkIGluIHRoZSByZWNvbmNpbGVyLlxuXHQgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFKSkge1xuXHQgICAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgaWYgKHByb3BUeXBlcykge1xuXHQgICAgICAvLyBJbnRlbnRpb25hbGx5IGluc2lkZSB0byBhdm9pZCB0cmlnZ2VyaW5nIGxhenkgaW5pdGlhbGl6ZXJzOlxuXHQgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcblx0ICAgICAgY2hlY2tQcm9wVHlwZXMocHJvcFR5cGVzLCBlbGVtZW50LnByb3BzLCAncHJvcCcsIG5hbWUsIGVsZW1lbnQpO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlLlByb3BUeXBlcyAhPT0gdW5kZWZpbmVkICYmICFwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93bikge1xuXHQgICAgICBwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93biA9IHRydWU7IC8vIEludGVudGlvbmFsbHkgaW5zaWRlIHRvIGF2b2lkIHRyaWdnZXJpbmcgbGF6eSBpbml0aWFsaXplcnM6XG5cblx0ICAgICAgdmFyIF9uYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuXG5cdCAgICAgIGVycm9yKCdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBfbmFtZSB8fCAnVW5rbm93bicpO1xuXHQgICAgfVxuXG5cdCAgICBpZiAodHlwZW9mIHR5cGUuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nICYmICF0eXBlLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCkge1xuXHQgICAgICBlcnJvcignZ2V0RGVmYXVsdFByb3BzIGlzIG9ubHkgdXNlZCBvbiBjbGFzc2ljIFJlYWN0LmNyZWF0ZUNsYXNzICcgKyAnZGVmaW5pdGlvbnMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSBuYW1lZCBgZGVmYXVsdFByb3BzYCBpbnN0ZWFkLicpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHQvKipcblx0ICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG5cdCAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBmcmFnbWVudFxuXHQgKi9cblxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuXHQgIHtcblx0ICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuXG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cblx0ICAgICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG5cdCAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShmcmFnbWVudCk7XG5cblx0ICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cblx0ICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKG51bGwpO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcblx0ICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShmcmFnbWVudCk7XG5cblx0ICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG5cblx0ICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBqc3hXaXRoVmFsaWRhdGlvbih0eXBlLCBwcm9wcywga2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcblx0ICB7XG5cdCAgICB2YXIgdmFsaWRUeXBlID0gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpOyAvLyBXZSB3YXJuIGluIHRoaXMgY2FzZSBidXQgZG9uJ3QgdGhyb3cuIFdlIGV4cGVjdCB0aGUgZWxlbWVudCBjcmVhdGlvbiB0b1xuXHQgICAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cblxuXHQgICAgaWYgKCF2YWxpZFR5cGUpIHtcblx0ICAgICAgdmFyIGluZm8gPSAnJztcblxuXHQgICAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIGluZm8gKz0gJyBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSAnICsgXCJpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIG5hbWVkIGltcG9ydHMuXCI7XG5cdCAgICAgIH1cblxuXHQgICAgICB2YXIgc291cmNlSW5mbyA9IGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSk7XG5cblx0ICAgICAgaWYgKHNvdXJjZUluZm8pIHtcblx0ICAgICAgICBpbmZvICs9IHNvdXJjZUluZm87XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW5mbyArPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHZhciB0eXBlU3RyaW5nO1xuXG5cdCAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XG5cdCAgICAgICAgdHlwZVN0cmluZyA9ICdudWxsJztcblx0ICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHR5cGUpKSB7XG5cdCAgICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG5cdCAgICAgIH0gZWxzZSBpZiAodHlwZSAhPT0gdW5kZWZpbmVkICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRSkge1xuXHQgICAgICAgIHR5cGVTdHJpbmcgPSBcIjxcIiArIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCAnVW5rbm93bicpICsgXCIgLz5cIjtcblx0ICAgICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdHlwZVN0cmluZyA9IHR5cGVvZiB0eXBlO1xuXHQgICAgICB9XG5cblx0ICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgJyArICdidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlICcgKyAnY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXMnLCB0eXBlU3RyaW5nLCBpbmZvKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIGVsZW1lbnQgPSBqc3hERVYodHlwZSwgcHJvcHMsIGtleSwgc291cmNlLCBzZWxmKTsgLy8gVGhlIHJlc3VsdCBjYW4gYmUgbnVsbGlzaCBpZiBhIG1vY2sgb3IgYSBjdXN0b20gZnVuY3Rpb24gaXMgdXNlZC5cblx0ICAgIC8vIFRPRE86IERyb3AgdGhpcyB3aGVuIHRoZXNlIGFyZSBubyBsb25nZXIgYWxsb3dlZCBhcyB0aGUgdHlwZSBhcmd1bWVudC5cblxuXHQgICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gZWxlbWVudDtcblx0ICAgIH0gLy8gU2tpcCBrZXkgd2FybmluZyBpZiB0aGUgdHlwZSBpc24ndCB2YWxpZCBzaW5jZSBvdXIga2V5IHZhbGlkYXRpb24gbG9naWNcblx0ICAgIC8vIGRvZXNuJ3QgZXhwZWN0IGEgbm9uLXN0cmluZy9mdW5jdGlvbiB0eXBlIGFuZCBjYW4gdGhyb3cgY29uZnVzaW5nIGVycm9ycy5cblx0ICAgIC8vIFdlIGRvbid0IHdhbnQgZXhjZXB0aW9uIGJlaGF2aW9yIHRvIGRpZmZlciBiZXR3ZWVuIGRldiBhbmQgcHJvZC5cblx0ICAgIC8vIChSZW5kZXJpbmcgd2lsbCB0aHJvdyB3aXRoIGEgaGVscGZ1bCBtZXNzYWdlIGFuZCBhcyBzb29uIGFzIHRoZSB0eXBlIGlzXG5cdCAgICAvLyBmaXhlZCwgdGhlIGtleSB3YXJuaW5ncyB3aWxsIGFwcGVhci4pXG5cblxuXHQgICAgaWYgKHZhbGlkVHlwZSkge1xuXHQgICAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcblxuXHQgICAgICBpZiAoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGlmIChpc1N0YXRpY0NoaWxkcmVuKSB7XG5cdCAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuW2ldLCB0eXBlKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG5cdCAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShjaGlsZHJlbik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGVycm9yKCdSZWFjdC5qc3g6IFN0YXRpYyBjaGlsZHJlbiBzaG91bGQgYWx3YXlzIGJlIGFuIGFycmF5LiAnICsgJ1lvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gJyArICdVc2UgdGhlIEJhYmVsIHRyYW5zZm9ybSBpbnN0ZWFkLicpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbiwgdHlwZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG5cdCAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gZWxlbWVudDtcblx0ICB9XG5cdH0gLy8gVGhlc2UgdHdvIGZ1bmN0aW9ucyBleGlzdCB0byBzdGlsbCBnZXQgY2hpbGQgd2FybmluZ3MgaW4gZGV2XG5cdC8vIGV2ZW4gd2l0aCB0aGUgcHJvZCB0cmFuc2Zvcm0uIFRoaXMgbWVhbnMgdGhhdCBqc3hERVYgaXMgcHVyZWx5XG5cdC8vIG9wdC1pbiBiZWhhdmlvciBmb3IgYmV0dGVyIG1lc3NhZ2VzIGJ1dCB0aGF0IHdlIHdvbid0IHN0b3Bcblx0Ly8gZ2l2aW5nIHlvdSB3YXJuaW5ncyBpZiB5b3UgdXNlIHByb2R1Y3Rpb24gYXBpcy5cblxuXHRmdW5jdGlvbiBqc3hXaXRoVmFsaWRhdGlvblN0YXRpYyh0eXBlLCBwcm9wcywga2V5KSB7XG5cdCAge1xuXHQgICAgcmV0dXJuIGpzeFdpdGhWYWxpZGF0aW9uKHR5cGUsIHByb3BzLCBrZXksIHRydWUpO1xuXHQgIH1cblx0fVxuXHRmdW5jdGlvbiBqc3hXaXRoVmFsaWRhdGlvbkR5bmFtaWModHlwZSwgcHJvcHMsIGtleSkge1xuXHQgIHtcblx0ICAgIHJldHVybiBqc3hXaXRoVmFsaWRhdGlvbih0eXBlLCBwcm9wcywga2V5LCBmYWxzZSk7XG5cdCAgfVxuXHR9XG5cblx0dmFyIGpzeCA9ICBqc3hXaXRoVmFsaWRhdGlvbkR5bmFtaWMgOyAvLyB3ZSBtYXkgd2FudCB0byBzcGVjaWFsIGNhc2UganN4cyBpbnRlcm5hbGx5IHRvIHRha2UgYWR2YW50YWdlIG9mIHN0YXRpYyBjaGlsZHJlbi5cblx0Ly8gZm9yIG5vdyB3ZSBjYW4gc2hpcCBpZGVudGljYWwgcHJvZCBmdW5jdGlvbnNcblxuXHR2YXIganN4cyA9ICBqc3hXaXRoVmFsaWRhdGlvblN0YXRpYyA7XG5cblx0cmVhY3RKc3hSdW50aW1lX2RldmVsb3BtZW50LkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcblx0cmVhY3RKc3hSdW50aW1lX2RldmVsb3BtZW50LmpzeCA9IGpzeDtcblx0cmVhY3RKc3hSdW50aW1lX2RldmVsb3BtZW50LmpzeHMgPSBqc3hzO1xuXHQgIH0pKCk7XG5cdH1cblx0cmV0dXJuIHJlYWN0SnN4UnVudGltZV9kZXZlbG9wbWVudDtcbn1cblxuKGZ1bmN0aW9uIChtb2R1bGUpIHtcblxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuXHQgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZVJlYWN0SnN4UnVudGltZV9wcm9kdWN0aW9uX21pbigpO1xuXHR9IGVsc2Uge1xuXHQgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZVJlYWN0SnN4UnVudGltZV9kZXZlbG9wbWVudCgpO1xuXHR9XG59IChqc3hSdW50aW1lKSk7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIE5PREVfRU5WID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlY7XG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAoTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbnZhciBpbnZhcmlhbnRfMSA9IGludmFyaWFudDtcblxuY29uc3QgTWFwQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG5mdW5jdGlvbiB1c2VHb29nbGVNYXAoKSB7XG4gICAgaW52YXJpYW50XzEoISF1c2VDb250ZXh0LCAndXNlR29vZ2xlTWFwIGlzIFJlYWN0IGhvb2sgYW5kIHJlcXVpcmVzIFJlYWN0IHZlcnNpb24gMTYuOCsnKTtcbiAgICBjb25zdCBtYXAgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICAgIGludmFyaWFudF8xKCEhbWFwLCAndXNlR29vZ2xlTWFwIG5lZWRzIGEgR29vZ2xlTWFwIGF2YWlsYWJsZSB1cCBpbiB0aGUgdHJlZScpO1xuICAgIHJldHVybiBtYXA7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiByZWR1Y2Uob2JqLCBmbiwgYWNjKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIHJlZHVjZXIobmV3QWNjLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGZuKG5ld0FjYywgb2JqW2tleV0sIGtleSk7XG4gICAgfSwgYWNjKTtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiBmbihvYmpba2V5XSwga2V5KTtcbiAgICB9KTtcbn1cblxuLyogZ2xvYmFsIGdvb2dsZSAqL1xuZnVuY3Rpb24gYXBwbHlVcGRhdGVyVG9OZXh0UHJvcHMoXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxudXBkYXRlck1hcCwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxucHJldlByb3BzLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5uZXh0UHJvcHMsIFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmluc3RhbmNlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBtYXAgPSB7fTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IGl0ZXIgPSAoZm4sIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBuZXh0UHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG5leHRWYWx1ZSAhPT0gcHJldlByb3BzW2tleV0pIHtcbiAgICAgICAgICAgIG1hcFtrZXldID0gbmV4dFZhbHVlO1xuICAgICAgICAgICAgZm4oaW5zdGFuY2UsIG5leHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZvckVhY2godXBkYXRlck1hcCwgaXRlcik7XG4gICAgcmV0dXJuIG1hcDtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRzKFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbnByb3BzLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5pbnN0YW5jZSwgZXZlbnRNYXApIHtcbiAgICBjb25zdCByZWdpc3RlcmVkTGlzdCA9IHJlZHVjZShldmVudE1hcCwgZnVuY3Rpb24gcmVkdWNlcihhY2MsIGdvb2dsZUV2ZW50TmFtZSwgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBvbkV2ZW50TmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIHByb3BzW29uRXZlbnROYW1lXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYWNjLnB1c2goZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsIGdvb2dsZUV2ZW50TmFtZSwgcHJvcHNbb25FdmVudE5hbWVdKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHJlZ2lzdGVyZWRMaXN0O1xufVxuZnVuY3Rpb24gdW5yZWdpc3RlckV2ZW50KHJlZ2lzdGVyZWQpIHtcbiAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihyZWdpc3RlcmVkKTtcbn1cbmZ1bmN0aW9uIHVucmVnaXN0ZXJFdmVudHMoZXZlbnRzID0gW10pIHtcbiAgICBldmVudHMuZm9yRWFjaCh1bnJlZ2lzdGVyRXZlbnQpO1xufVxuZnVuY3Rpb24gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7IHVwZGF0ZXJNYXAsIGV2ZW50TWFwLCBwcmV2UHJvcHMsIG5leHRQcm9wcywgaW5zdGFuY2UsIH0pIHtcbiAgICBjb25zdCByZWdpc3RlcmVkRXZlbnRzID0gcmVnaXN0ZXJFdmVudHMobmV4dFByb3BzLCBpbnN0YW5jZSwgZXZlbnRNYXApO1xuICAgIGFwcGx5VXBkYXRlclRvTmV4dFByb3BzKHVwZGF0ZXJNYXAsIHByZXZQcm9wcywgbmV4dFByb3BzLCBpbnN0YW5jZSk7XG4gICAgcmV0dXJuIHJlZ2lzdGVyZWRFdmVudHM7XG59XG5cbmNvbnN0IGV2ZW50TWFwJGkgPSB7XG4gICAgb25EYmxDbGljazogJ2RibGNsaWNrJyxcbiAgICBvbkRyYWdFbmQ6ICdkcmFnZW5kJyxcbiAgICBvbkRyYWdTdGFydDogJ2RyYWdzdGFydCcsXG4gICAgb25NYXBUeXBlSWRDaGFuZ2VkOiAnbWFwdHlwZWlkX2NoYW5nZWQnLFxuICAgIG9uTW91c2VNb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgICBvbk1vdXNlT3V0OiAnbW91c2VvdXQnLFxuICAgIG9uTW91c2VPdmVyOiAnbW91c2VvdmVyJyxcbiAgICBvbk1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gICAgb25Nb3VzZVVwOiAnbW91c2V1cCcsXG4gICAgb25SaWdodENsaWNrOiAncmlnaHRjbGljaycsXG4gICAgb25UaWxlc0xvYWRlZDogJ3RpbGVzbG9hZGVkJyxcbiAgICBvbkJvdW5kc0NoYW5nZWQ6ICdib3VuZHNfY2hhbmdlZCcsXG4gICAgb25DZW50ZXJDaGFuZ2VkOiAnY2VudGVyX2NoYW5nZWQnLFxuICAgIG9uQ2xpY2s6ICdjbGljaycsXG4gICAgb25EcmFnOiAnZHJhZycsXG4gICAgb25IZWFkaW5nQ2hhbmdlZDogJ2hlYWRpbmdfY2hhbmdlZCcsXG4gICAgb25JZGxlOiAnaWRsZScsXG4gICAgb25Qcm9qZWN0aW9uQ2hhbmdlZDogJ3Byb2plY3Rpb25fY2hhbmdlZCcsXG4gICAgb25SZXNpemU6ICdyZXNpemUnLFxuICAgIG9uVGlsdENoYW5nZWQ6ICd0aWx0X2NoYW5nZWQnLFxuICAgIG9uWm9vbUNoYW5nZWQ6ICd6b29tX2NoYW5nZWQnLFxufTtcbmNvbnN0IHVwZGF0ZXJNYXAkaSA9IHtcbiAgICBleHRyYU1hcFR5cGVzKG1hcCwgZXh0cmEpIHtcbiAgICAgICAgZXh0cmEuZm9yRWFjaChmdW5jdGlvbiBmb3JFYWNoRXh0cmEoaXQsIGkpIHtcbiAgICAgICAgICAgIG1hcC5tYXBUeXBlcy5zZXQoU3RyaW5nKGkpLCBpdCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY2VudGVyKG1hcCwgY2VudGVyKSB7XG4gICAgICAgIG1hcC5zZXRDZW50ZXIoY2VudGVyKTtcbiAgICB9LFxuICAgIGNsaWNrYWJsZUljb25zKG1hcCwgY2xpY2thYmxlKSB7XG4gICAgICAgIG1hcC5zZXRDbGlja2FibGVJY29ucyhjbGlja2FibGUpO1xuICAgIH0sXG4gICAgaGVhZGluZyhtYXAsIGhlYWRpbmcpIHtcbiAgICAgICAgbWFwLnNldEhlYWRpbmcoaGVhZGluZyk7XG4gICAgfSxcbiAgICBtYXBUeXBlSWQobWFwLCBtYXBUeXBlSWQpIHtcbiAgICAgICAgbWFwLnNldE1hcFR5cGVJZChtYXBUeXBlSWQpO1xuICAgIH0sXG4gICAgb3B0aW9ucyhtYXAsIG9wdGlvbnMpIHtcbiAgICAgICAgbWFwLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfSxcbiAgICBzdHJlZXRWaWV3KG1hcCwgc3RyZWV0Vmlldykge1xuICAgICAgICBtYXAuc2V0U3RyZWV0VmlldyhzdHJlZXRWaWV3KTtcbiAgICB9LFxuICAgIHRpbHQobWFwLCB0aWx0KSB7XG4gICAgICAgIG1hcC5zZXRUaWx0KHRpbHQpO1xuICAgIH0sXG4gICAgem9vbShtYXAsIHpvb20pIHtcbiAgICAgICAgbWFwLnNldFpvb20oem9vbSk7XG4gICAgfSxcbn07XG4vLyBUT0RPOiB1bmZpbmlzaGVkIVxuZnVuY3Rpb24gR29vZ2xlTWFwRnVuY3Rpb25hbCh7IGNoaWxkcmVuLCBvcHRpb25zLCBpZCwgbWFwQ29udGFpbmVyU3R5bGUsIG1hcENvbnRhaW5lckNsYXNzTmFtZSwgY2VudGVyLCBcbi8vIGNsaWNrYWJsZUljb25zLFxuLy8gZXh0cmFNYXBUeXBlcyxcbi8vIGhlYWRpbmcsXG4vLyBtYXBUeXBlSWQsXG5vbkNsaWNrLCBvbkRibENsaWNrLCBvbkRyYWcsIG9uRHJhZ0VuZCwgb25EcmFnU3RhcnQsIG9uTW91c2VNb3ZlLCBvbk1vdXNlT3V0LCBvbk1vdXNlT3Zlciwgb25Nb3VzZURvd24sIG9uTW91c2VVcCwgb25SaWdodENsaWNrLCBcbi8vIG9uTWFwVHlwZUlkQ2hhbmdlZCxcbi8vIG9uVGlsZXNMb2FkZWQsXG4vLyBvbkJvdW5kc0NoYW5nZWQsXG5vbkNlbnRlckNoYW5nZWQsIFxuLy8gb25IZWFkaW5nQ2hhbmdlZCxcbi8vIG9uSWRsZSxcbi8vIG9uUHJvamVjdGlvbkNoYW5nZWQsXG4vLyBvblJlc2l6ZSxcbi8vIG9uVGlsdENoYW5nZWQsXG4vLyBvblpvb21DaGFuZ2VkLFxub25Mb2FkLCBvblVubW91bnQsIH0pIHtcbiAgICBjb25zdCBbbWFwLCBzZXRNYXBdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICAgIC8vIGNvbnN0IFtleHRyYU1hcFR5cGVzTGlzdGVuZXIsIHNldEV4dHJhTWFwVHlwZXNMaXN0ZW5lcl0gPSB1c2VTdGF0ZTxnb29nbGUubWFwcy5NYXBzRXZlbnRMaXN0ZW5lciB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgW2NlbnRlckNoYW5nZWRMaXN0ZW5lciwgc2V0Q2VudGVyQ2hhbmdlZExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkYmxjbGlja0xpc3RlbmVyLCBzZXREYmxjbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkcmFnZW5kTGlzdGVuZXIsIHNldERyYWdlbmRMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZHJhZ3N0YXJ0TGlzdGVuZXIsIHNldERyYWdzdGFydExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZWRvd25MaXN0ZW5lciwgc2V0TW91c2Vkb3duTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlbW92ZUxpc3RlbmVyLCBzZXRNb3VzZW1vdmVMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2VvdXRMaXN0ZW5lciwgc2V0TW91c2VvdXRMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2VvdmVyTGlzdGVuZXIsIHNldE1vdXNlb3Zlckxpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZXVwTGlzdGVuZXIsIHNldE1vdXNldXBMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbcmlnaHRjbGlja0xpc3RlbmVyLCBzZXRSaWdodGNsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2NsaWNrTGlzdGVuZXIsIHNldENsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2RyYWdMaXN0ZW5lciwgc2V0RHJhZ0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIC8vIE9yZGVyIGRvZXMgbWF0dGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgbWFwICE9PSBudWxsKSB7XG4gICAgICAgICAgICBtYXAuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH0sIFttYXAsIG9wdGlvbnNdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobWFwICE9PSBudWxsICYmIHR5cGVvZiBjZW50ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBtYXAuc2V0Q2VudGVyKGNlbnRlcik7XG4gICAgICAgIH1cbiAgICB9LCBbbWFwLCBjZW50ZXJdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobWFwICYmIG9uRGJsQ2xpY2spIHtcbiAgICAgICAgICAgIGlmIChkYmxjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZGJsY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREYmxjbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ2RibGNsaWNrJywgb25EYmxDbGljaykpO1xuICAgICAgICB9XG4gICAgfSwgW29uRGJsQ2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobWFwICYmIG9uRHJhZ0VuZCkge1xuICAgICAgICAgICAgaWYgKGRyYWdlbmRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdlbmRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREcmFnZW5kTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwLCAnZHJhZ2VuZCcsIG9uRHJhZ0VuZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uRGJsQ2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobWFwICYmIG9uRHJhZ1N0YXJ0KSB7XG4gICAgICAgICAgICBpZiAoZHJhZ3N0YXJ0TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkcmFnc3RhcnRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREcmFnc3RhcnRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXAsICdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uRHJhZ1N0YXJ0XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG1hcCAmJiBvbk1vdXNlRG93bikge1xuICAgICAgICAgICAgaWYgKG1vdXNlZG93bkxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2Vkb3duTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2Vkb3duTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwLCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24pKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlRG93bl0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChtYXAgJiYgb25Nb3VzZU1vdmUpIHtcbiAgICAgICAgICAgIGlmIChtb3VzZW1vdmVMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlbW92ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNlbW92ZUxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZU1vdmVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobWFwICYmIG9uTW91c2VPdXQpIHtcbiAgICAgICAgICAgIGlmIChtb3VzZW91dExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdXRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZW91dExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ21vdXNlb3V0Jywgb25Nb3VzZU91dCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VPdXRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobWFwICYmIG9uTW91c2VPdmVyKSB7XG4gICAgICAgICAgICBpZiAobW91c2VvdmVyTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW92ZXJMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZW92ZXJMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXAsICdtb3VzZW92ZXInLCBvbk1vdXNlT3ZlcikpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VPdmVyXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG1hcCAmJiBvbk1vdXNlVXApIHtcbiAgICAgICAgICAgIGlmIChtb3VzZXVwTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZXVwTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2V1cExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ21vdXNldXAnLCBvbk1vdXNlVXApKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlVXBdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobWFwICYmIG9uUmlnaHRDbGljaykge1xuICAgICAgICAgICAgaWYgKHJpZ2h0Y2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHJpZ2h0Y2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRSaWdodGNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwLCAncmlnaHRjbGljaycsIG9uUmlnaHRDbGljaykpO1xuICAgICAgICB9XG4gICAgfSwgW29uUmlnaHRDbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChtYXAgJiYgb25DbGljaykge1xuICAgICAgICAgICAgaWYgKGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwLCAnY2xpY2snLCBvbkNsaWNrKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChtYXAgJiYgb25EcmFnKSB7XG4gICAgICAgICAgICBpZiAoZHJhZ0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZHJhZ0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldERyYWdMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXAsICdkcmFnJywgb25EcmFnKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25EcmFnXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG1hcCAmJiBvbkNlbnRlckNoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmIChjZW50ZXJDaGFuZ2VkTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjZW50ZXJDaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q2VudGVyQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ2NlbnRlcl9jaGFuZ2VkJywgb25DZW50ZXJDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHJlZi5jdXJyZW50ID09PSBudWxsXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogbmV3IGdvb2dsZS5tYXBzLk1hcChyZWYuY3VycmVudCwgb3B0aW9ucyk7XG4gICAgICAgIHNldE1hcChtYXApO1xuICAgICAgICBpZiAobWFwICE9PSBudWxsICYmIG9uTG9hZCkge1xuICAgICAgICAgICAgb25Mb2FkKG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChtYXAgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAob25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIG9uVW5tb3VudChtYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChqc3hSdW50aW1lLmV4cG9ydHMuanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oeyBpZDogaWQsIHJlZjogcmVmLCBzdHlsZTogbWFwQ29udGFpbmVyU3R5bGUsIGNsYXNzTmFtZTogbWFwQ29udGFpbmVyQ2xhc3NOYW1lIH0sIHsgY2hpbGRyZW46IGpzeFJ1bnRpbWUuZXhwb3J0cy5qc3goTWFwQ29udGV4dC5Qcm92aWRlciwgT2JqZWN0LmFzc2lnbih7IHZhbHVlOiBtYXAgfSwgeyBjaGlsZHJlbjogbWFwICE9PSBudWxsID8gY2hpbGRyZW4gOiBqc3hSdW50aW1lLmV4cG9ydHMuanN4KGpzeFJ1bnRpbWUuZXhwb3J0cy5GcmFnbWVudCwge30pIH0pKSB9KSkpO1xufVxubWVtbyhHb29nbGVNYXBGdW5jdGlvbmFsKTtcbmNsYXNzIEdvb2dsZU1hcCBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbWFwOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXBSZWYgPSBudWxsO1xuICAgICAgICB0aGlzLmdldEluc3RhbmNlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMubWFwUmVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLk1hcCh0aGlzLm1hcFJlZiwgdGhpcy5wcm9wcy5vcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wYW5UbyA9IChsYXRMbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgICAgICBtYXAucGFuVG8obGF0TG5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRNYXBDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLm1hcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLnN0YXRlLm1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFJlZiA9IChyZWYpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWFwUmVmID0gcmVmO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkaSxcbiAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRpLFxuICAgICAgICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGluc3RhbmNlOiBtYXAsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIHNldE1hcCgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWFwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgdGhpcy5zZXRNYXBDYWxsYmFjayk7XG4gICAgfVxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubWFwICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGksXG4gICAgICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGksXG4gICAgICAgICAgICAgICAgcHJldlByb3BzLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZTogdGhpcy5zdGF0ZS5tYXAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubWFwICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnN0YXRlLm1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKGpzeFJ1bnRpbWUuZXhwb3J0cy5qc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLnByb3BzLmlkLCByZWY6IHRoaXMuZ2V0UmVmLCBzdHlsZTogdGhpcy5wcm9wcy5tYXBDb250YWluZXJTdHlsZSwgY2xhc3NOYW1lOiB0aGlzLnByb3BzLm1hcENvbnRhaW5lckNsYXNzTmFtZSB9LCB7IGNoaWxkcmVuOiBqc3hSdW50aW1lLmV4cG9ydHMuanN4KE1hcENvbnRleHQuUHJvdmlkZXIsIE9iamVjdC5hc3NpZ24oeyB2YWx1ZTogdGhpcy5zdGF0ZS5tYXAgfSwgeyBjaGlsZHJlbjogdGhpcy5zdGF0ZS5tYXAgIT09IG51bGwgPyB0aGlzLnByb3BzLmNoaWxkcmVuIDoganN4UnVudGltZS5leHBvcnRzLmpzeChqc3hSdW50aW1lLmV4cG9ydHMuRnJhZ21lbnQsIHt9KSB9KSkgfSkpKTtcbiAgICB9XG59XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QkMShzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxuXG5jb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG5mdW5jdGlvbiBpbmplY3RTY3JpcHQoeyB1cmwsIGlkLCBub25jZSB9KSB7XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZG9jdW1lbnQgaXMgdW5kZWZpbmVkJykpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gaW5qZWN0U2NyaXB0Q2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nU2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBjb25zdCB3aW5kb3dXaXRoR29vZ2xlTWFwID0gd2luZG93O1xuICAgICAgICBpZiAoZXhpc3RpbmdTY3JpcHQpIHtcbiAgICAgICAgICAgIC8vIFNhbWUgc2NyaXB0IGlkL3VybDoga2VlcCBzYW1lIHNjcmlwdFxuICAgICAgICAgICAgY29uc3QgZGF0YVN0YXRlQXR0cmlidXRlID0gZXhpc3RpbmdTY3JpcHQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJyk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTY3JpcHQuc3JjID09PSB1cmwgJiYgZGF0YVN0YXRlQXR0cmlidXRlICE9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFTdGF0ZUF0dHJpYnV0ZSA9PT0gJ3JlYWR5Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEluaXRNYXAgPSB3aW5kb3dXaXRoR29vZ2xlTWFwLmluaXRNYXA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsRXJyb3JDYWxsYmFjayA9IGV4aXN0aW5nU2NyaXB0Lm9uZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd1dpdGhHb29nbGVNYXAuaW5pdE1hcCA9IGZ1bmN0aW9uIGluaXRNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbml0TWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbml0TWFwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdTY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yQ2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2FtZSBzY3JpcHQgaWQsIGJ1dCBlaXRoZXJcbiAgICAgICAgICAgIC8vIDEuIHJlcXVlc3RlZCBVUkwgaXMgZGlmZmVyZW50XG4gICAgICAgICAgICAvLyAyLiBzY3JpcHQgZmFpbGVkIHRvIGxvYWRcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nU2NyaXB0LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICAgICAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgICAgICBzY3JpcHQuaWQgPSBpZDtcbiAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgc2NyaXB0Lm5vbmNlID0gbm9uY2U7XG4gICAgICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gb25lcnJvcihlcnIpIHtcbiAgICAgICAgICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdGUnLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9O1xuICAgICAgICB3aW5kb3dXaXRoR29vZ2xlTWFwLmluaXRNYXAgPSBmdW5jdGlvbiBvbmxvYWQoKSB7XG4gICAgICAgICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgJ3JlYWR5Jyk7XG4gICAgICAgICAgICByZXNvbHZlKGlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2luamVjdFNjcmlwdCBlcnJvcjogJywgZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBpc0dvb2dsZUZvbnRTdHlsZShlbGVtZW50KSB7XG4gICAgLy8gJ1JvYm90bycgb3IgJ0dvb2dsZSBTYW5zIFRleHQnIGZvbnQgZG93bmxvYWRcbiAgICBjb25zdCBocmVmID0gZWxlbWVudC5ocmVmO1xuICAgIGlmIChocmVmICYmIChocmVmLmluZGV4T2YoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1Sb2JvdG8nKSA9PT0gMCB8fFxuICAgICAgICBocmVmLmluZGV4T2YoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1Hb29nbGUrU2FucytUZXh0JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBmb250IHN0eWxlIGVsZW1lbnRzXG4gICAgaWYgKGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3R5bGUnICYmXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZWxlbWVudC5zdHlsZVNoZWV0ICYmXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBlbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dC5yZXBsYWNlKCdcXHJcXG4nLCAnJykuaW5kZXhPZignLmdtLXN0eWxlJykgPT09IDApIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBlbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9ICcnO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gZm9udCBzdHlsZSBlbGVtZW50cyBmb3Igb3RoZXIgYnJvd3NlcnNcbiAgICBpZiAoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzdHlsZScgJiZcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgJiZcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwucmVwbGFjZSgnXFxyXFxuJywgJycpLmluZGV4T2YoJy5nbS1zdHlsZScpID09PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyB3aGVuIGdvb2dsZSB0cmllcyB0byBhZGQgZW1wdHkgc3R5bGVcbiAgICBpZiAoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzdHlsZScgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAhZWxlbWVudC5zdHlsZVNoZWV0ICYmXG4gICAgICAgICFlbGVtZW50LmlubmVySFRNTCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gUHJldmVudGluZyB0aGUgR29vZ2xlIE1hcHMgbGlicmFyeSBmcm9tIGRvd25sb2FkaW5nIGFuIGV4dHJhIGZvbnRcbmZ1bmN0aW9uIHByZXZlbnRHb29nbGVGb250cygpIHtcbiAgICAvLyB3ZSBvdmVycmlkZSB0aGVzZSBtZXRob2RzIG9ubHkgZm9yIG9uZSBwYXJ0aWN1bGFyIGhlYWQgZWxlbWVudFxuICAgIC8vIGRlZmF1bHQgbWV0aG9kcyBmb3Igb3RoZXIgZWxlbWVudHMgYXJlIG5vdCBhZmZlY3RlZFxuICAgIGNvbnN0IGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICAgIGNvbnN0IHRydWVJbnNlcnRCZWZvcmUgPSBoZWFkLmluc2VydEJlZm9yZS5iaW5kKGhlYWQpO1xuICAgIC8vIFRPRE86IGFkZGluZyByZXR1cm4gYmVmb3JlIHJlZmxlY3Qgc29sdmVzIHRoZSBUUyBpc3N1ZVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBoZWFkLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIGluc2VydEJlZm9yZShuZXdFbGVtZW50LCByZWZlcmVuY2VFbGVtZW50KSB7XG4gICAgICAgIGlmICghaXNHb29nbGVGb250U3R5bGUobmV3RWxlbWVudCkpIHtcbiAgICAgICAgICAgIFJlZmxlY3QuYXBwbHkodHJ1ZUluc2VydEJlZm9yZSwgaGVhZCwgW25ld0VsZW1lbnQsIHJlZmVyZW5jZUVsZW1lbnRdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdHJ1ZUFwcGVuZCA9IGhlYWQuYXBwZW5kQ2hpbGQuYmluZChoZWFkKTtcbiAgICAvLyBUT0RPOiBhZGRpbmcgcmV0dXJuIGJlZm9yZSByZWZsZWN0IHNvbHZlcyB0aGUgVFMgaXNzdWVcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaGVhZC5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uIGFwcGVuZENoaWxkKHRleHROb2RlKSB7XG4gICAgICAgIGlmICghaXNHb29nbGVGb250U3R5bGUodGV4dE5vZGUpKSB7XG4gICAgICAgICAgICBSZWZsZWN0LmFwcGx5KHRydWVBcHBlbmQsIGhlYWQsIFt0ZXh0Tm9kZV0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZUxvYWRTY3JpcHRVcmwoeyBnb29nbGVNYXBzQXBpS2V5LCBnb29nbGVNYXBzQ2xpZW50SWQsIHZlcnNpb24gPSAnd2Vla2x5JywgbGFuZ3VhZ2UsIHJlZ2lvbiwgbGlicmFyaWVzLCBjaGFubmVsLCBtYXBJZHMsIGF1dGhSZWZlcnJlclBvbGljeSB9KSB7XG4gICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgaW52YXJpYW50XzEoKGdvb2dsZU1hcHNBcGlLZXkgJiYgZ29vZ2xlTWFwc0NsaWVudElkKSB8fCAhKGdvb2dsZU1hcHNBcGlLZXkgJiYgZ29vZ2xlTWFwc0NsaWVudElkKSwgJ1lvdSBuZWVkIHRvIHNwZWNpZnkgZWl0aGVyIGdvb2dsZU1hcHNBcGlLZXkgb3IgZ29vZ2xlTWFwc0NsaWVudElkIGZvciBAcmVhY3QtZ29vZ2xlLW1hcHMvYXBpIGxvYWQgc2NyaXB0IHRvIHdvcmsuIFlvdSBjYW5ub3QgdXNlIGJvdGggYXQgdGhlIHNhbWUgdGltZS4nKTtcbiAgICBpZiAoZ29vZ2xlTWFwc0FwaUtleSkge1xuICAgICAgICBwYXJhbXMucHVzaChga2V5PSR7Z29vZ2xlTWFwc0FwaUtleX1gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZ29vZ2xlTWFwc0NsaWVudElkKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKGBjbGllbnQ9JHtnb29nbGVNYXBzQ2xpZW50SWR9YCk7XG4gICAgfVxuICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKGB2PSR7dmVyc2lvbn1gKTtcbiAgICB9XG4gICAgaWYgKGxhbmd1YWdlKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKGBsYW5ndWFnZT0ke2xhbmd1YWdlfWApO1xuICAgIH1cbiAgICBpZiAocmVnaW9uKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKGByZWdpb249JHtyZWdpb259YCk7XG4gICAgfVxuICAgIGlmIChsaWJyYXJpZXMgJiYgbGlicmFyaWVzLmxlbmd0aCkge1xuICAgICAgICBwYXJhbXMucHVzaChgbGlicmFyaWVzPSR7bGlicmFyaWVzLnNvcnQoKS5qb2luKCcsJyl9YCk7XG4gICAgfVxuICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKGBjaGFubmVsPSR7Y2hhbm5lbH1gKTtcbiAgICB9XG4gICAgaWYgKG1hcElkcyAmJiBtYXBJZHMubGVuZ3RoKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKGBtYXBfaWRzPSR7bWFwSWRzLmpvaW4oJywnKX1gKTtcbiAgICB9XG4gICAgaWYgKGF1dGhSZWZlcnJlclBvbGljeSkge1xuICAgICAgICBwYXJhbXMucHVzaChgYXV0aF9yZWZlcnJlcl9wb2xpY3k9JHthdXRoUmVmZXJyZXJQb2xpY3l9YCk7XG4gICAgfVxuICAgIHBhcmFtcy5wdXNoKCdjYWxsYmFjaz1pbml0TWFwJyk7XG4gICAgcmV0dXJuIGBodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/JHtwYXJhbXMuam9pbignJicpfWA7XG59XG5cbmxldCBjbGVhbmluZ1VwID0gZmFsc2U7XG5mdW5jdGlvbiBEZWZhdWx0TG9hZGluZ0VsZW1lbnQoKSB7XG4gICAgcmV0dXJuIGpzeFJ1bnRpbWUuZXhwb3J0cy5qc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogYExvYWRpbmcuLi5gIH0pO1xufVxuY29uc3QgZGVmYXVsdExvYWRTY3JpcHRQcm9wcyA9IHtcbiAgICBpZDogJ3NjcmlwdC1sb2FkZXInLFxuICAgIHZlcnNpb246ICd3ZWVrbHknLFxufTtcbmNsYXNzIExvYWRTY3JpcHQgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jaGVjayA9IGNyZWF0ZVJlZigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jbGVhbnVwQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBkZWxldGUgd2luZG93Lmdvb2dsZS5tYXBzO1xuICAgICAgICAgICAgdGhpcy5pbmplY3RTY3JpcHQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pc0NsZWFuaW5nVXAgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBwcm9taXNlQ2FsbGJhY2socmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIGlmICghY2xlYW5pbmdVcCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiBpbnRlcnZhbCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsZWFuaW5nVXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHByb21pc2VDYWxsYmFjayk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhbmluZ1VwID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJvcHMuaWQpO1xuICAgICAgICAgICAgaWYgKHNjcmlwdCAmJiBzY3JpcHQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgICAgICAgICAgICAgICAuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JykpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiBmaWx0ZXIoc2NyaXB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBzY3JpcHQuc3JjID09PSAnc3RyaW5nJyAmJiBzY3JpcHQuc3JjLmluY2x1ZGVzKCdtYXBzLmdvb2dsZWFwaXMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gZm9yRWFjaChzY3JpcHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZVxuICAgICAgICAgICAgICAgIC5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaW5rJykpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiBmaWx0ZXIobGluaykge1xuICAgICAgICAgICAgICAgIHJldHVybiAobGluay5ocmVmID09PSAnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVJvYm90bzozMDAsNDAwLDUwMCw3MDB8R29vZ2xlK1NhbnMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gZm9yRWFjaChsaW5rKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmsucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBsaW5rLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgICAgICAgICAgICAgICAuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3R5bGUnKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIGZpbHRlcihzdHlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoc3R5bGUuaW5uZXJUZXh0ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUuaW5uZXJUZXh0Lmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUuaW5uZXJUZXh0LmluY2x1ZGVzKCcuZ20tJykpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiBmb3JFYWNoKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW5qZWN0U2NyaXB0ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMucHJldmVudEdvb2dsZUZvbnRzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHByZXZlbnRHb29nbGVGb250cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW52YXJpYW50XzEoISF0aGlzLnByb3BzLmlkLCAnTG9hZFNjcmlwdCByZXF1aXJlcyBcImlkXCIgcHJvcCB0byBiZSBhIHN0cmluZzogJXMnLCB0aGlzLnByb3BzLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IGluamVjdFNjcmlwdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgICAgbm9uY2U6IHRoaXMucHJvcHMubm9uY2UsXG4gICAgICAgICAgICAgICAgdXJsOiBtYWtlTG9hZFNjcmlwdFVybCh0aGlzLnByb3BzKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbmplY3RTY3JpcHQoaW5qZWN0U2NyaXB0T3B0aW9ucylcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Mb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0TG9hZGVkKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgXG4gICAgICAgICAgVGhlcmUgaGFzIGJlZW4gYW4gRXJyb3Igd2l0aCBsb2FkaW5nIEdvb2dsZSBNYXBzIEFQSSBzY3JpcHQsIHBsZWFzZSBjaGVjayB0aGF0IHlvdSBwcm92aWRlZCBjb3JyZWN0IGdvb2dsZSBBUEkga2V5ICgke3RoaXNcbiAgICAgICAgICAgICAgICAgICAgLnByb3BzLmdvb2dsZU1hcHNBcGlLZXkgfHwgJy0nfSkgb3IgQ2xpZW50IElEICgke3RoaXMucHJvcHMuZ29vZ2xlTWFwc0NsaWVudElkIHx8XG4gICAgICAgICAgICAgICAgICAgICctJ30pIHRvIDxMb2FkU2NyaXB0IC8+XG4gICAgICAgICAgT3RoZXJ3aXNlIGl0IGlzIGEgTmV0d29yayBpc3N1ZS5cbiAgICAgICAgYCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZ29vZ2xlICYmIHdpbmRvdy5nb29nbGUubWFwcyAmJiAhY2xlYW5pbmdVcCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dvb2dsZSBhcGkgaXMgYWxyZWFkeSBwcmVzZW50ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmlzQ2xlYW5pbmdVcCgpXG4gICAgICAgICAgICAgICAgLnRoZW4odGhpcy5pbmplY3RTY3JpcHQpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGF0IGluamVjdGluZyBzY3JpcHQgYWZ0ZXIgY2xlYW5pbmcgdXA6ICcsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxpYnJhcmllcyAhPT0gcHJldlByb3BzLmxpYnJhcmllcykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQZXJmb3JtYW5jZSB3YXJuaW5nISBMb2FkU2NyaXB0IGhhcyBiZWVuIHJlbG9hZGVkIHVuaW50ZW50aW9uYWxseSEgWW91IHNob3VsZCBub3QgcGFzcyBgbGlicmFyaWVzYCBwcm9wIGFzIG5ldyBhcnJheS4gUGxlYXNlIGtlZXAgYW4gYXJyYXkgb2YgbGlicmFyaWVzIGFzIHN0YXRpYyBjbGFzcyBwcm9wZXJ0eSBmb3IgQ29tcG9uZW50cyBhbmQgUHVyZUNvbXBvbmVudHMsIG9yIGp1c3QgYSBjb25zdCB2YXJpYWJsZSBvdXRzaWRlIG9mIGNvbXBvbmVudCwgb3Igc29tZXdoZXJlIGluIGNvbmZpZyBmaWxlcyBvciBFTlYgdmFyaWFibGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQnJvd3NlciAmJiBwcmV2UHJvcHMubGFuZ3VhZ2UgIT09IHRoaXMucHJvcHMubGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICAgICAgLy8gVE9ETzogcmVmYWN0b3IgdG8gdXNlIGdEU0ZQIG1heWJlLi4uIHdhaXQgZm9yIGhvb2tzIHJlZmFjdG9yaW5nLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWRpZC11cGRhdGUtc2V0LXN0YXRlXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIHNldExvYWRlZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCB0aGlzLmNsZWFudXBDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICAgICAgY29uc3QgdGltZW91dENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVjay5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5nb29nbGU7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFuaW5nVXAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGltZW91dENhbGxiYWNrLCAxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKGpzeFJ1bnRpbWUuZXhwb3J0cy5qc3hzKGpzeFJ1bnRpbWUuZXhwb3J0cy5GcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeFJ1bnRpbWUuZXhwb3J0cy5qc3goXCJkaXZcIiwgeyByZWY6IHRoaXMuY2hlY2sgfSksIHRoaXMuc3RhdGUubG9hZGVkXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMucHJvcHMubG9hZGluZ0VsZW1lbnQgfHwganN4UnVudGltZS5leHBvcnRzLmpzeChEZWZhdWx0TG9hZGluZ0VsZW1lbnQsIHt9KV0gfSkpO1xuICAgIH1cbn1cbkxvYWRTY3JpcHQuZGVmYXVsdFByb3BzID0gZGVmYXVsdExvYWRTY3JpcHRQcm9wcztcblxuLyogZXNsaW50LWRpc2FibGUgZmlsZW5hbWVzL21hdGNoLXJlZ2V4ICovXG5sZXQgcHJldmlvdXNseUxvYWRlZFVybDtcbmZ1bmN0aW9uIHVzZUxvYWRTY3JpcHQoeyBpZCA9IGRlZmF1bHRMb2FkU2NyaXB0UHJvcHMuaWQsIHZlcnNpb24gPSBkZWZhdWx0TG9hZFNjcmlwdFByb3BzLnZlcnNpb24sIG5vbmNlLCBnb29nbGVNYXBzQXBpS2V5LCBnb29nbGVNYXBzQ2xpZW50SWQsIGxhbmd1YWdlLCByZWdpb24sIGxpYnJhcmllcywgcHJldmVudEdvb2dsZUZvbnRzTG9hZGluZywgY2hhbm5lbCwgbWFwSWRzLCBhdXRoUmVmZXJyZXJQb2xpY3ksIH0pIHtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IFtpc0xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbbG9hZEVycm9yLCBzZXRMb2FkRXJyb3JdID0gdXNlU3RhdGUodW5kZWZpbmVkKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gdHJhY2tNb3VudGVkU3RhdGUoKSB7XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiBhcHBseVByZXZlbnRHb29nbGVGb250cygpIHtcbiAgICAgICAgaWYgKGlzQnJvd3NlciAmJiBwcmV2ZW50R29vZ2xlRm9udHNMb2FkaW5nKSB7XG4gICAgICAgICAgICBwcmV2ZW50R29vZ2xlRm9udHMoKTtcbiAgICAgICAgfVxuICAgIH0sIFtwcmV2ZW50R29vZ2xlRm9udHNMb2FkaW5nXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uIHZhbGlkYXRlTG9hZGVkU3RhdGUoKSB7XG4gICAgICAgIGlmIChpc0xvYWRlZCkge1xuICAgICAgICAgICAgaW52YXJpYW50XzEoISF3aW5kb3cuZ29vZ2xlLCAndXNlTG9hZFNjcmlwdCB3YXMgbWFya2VkIGFzIGxvYWRlZCwgYnV0IHdpbmRvdy5nb29nbGUgaXMgbm90IHByZXNlbnQuIFNvbWV0aGluZyB3ZW50IHdyb25nLicpO1xuICAgICAgICB9XG4gICAgfSwgW2lzTG9hZGVkXSk7XG4gICAgY29uc3QgdXJsID0gbWFrZUxvYWRTY3JpcHRVcmwoe1xuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBnb29nbGVNYXBzQXBpS2V5LFxuICAgICAgICBnb29nbGVNYXBzQ2xpZW50SWQsXG4gICAgICAgIGxhbmd1YWdlLFxuICAgICAgICByZWdpb24sXG4gICAgICAgIGxpYnJhcmllcyxcbiAgICAgICAgY2hhbm5lbCxcbiAgICAgICAgbWFwSWRzLFxuICAgICAgICBhdXRoUmVmZXJyZXJQb2xpY3lcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gbG9hZFNjcmlwdEFuZE1vZGlmeUxvYWRlZFN0YXRlKCkge1xuICAgICAgICBpZiAoIWlzQnJvd3Nlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNldExvYWRlZElmTW91bnRlZCgpIHtcbiAgICAgICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHNldExvYWRlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c2x5TG9hZGVkVXJsID0gdXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuZ29vZ2xlICYmIHdpbmRvdy5nb29nbGUubWFwcyAmJiBwcmV2aW91c2x5TG9hZGVkVXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgIHNldExvYWRlZElmTW91bnRlZCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluamVjdFNjcmlwdCh7IGlkLCB1cmwsIG5vbmNlIH0pXG4gICAgICAgICAgICAudGhlbihzZXRMb2FkZWRJZk1vdW50ZWQpXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gaGFuZGxlSW5qZWN0RXJyb3IoZXJyKSB7XG4gICAgICAgICAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBzZXRMb2FkRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgXG4gICAgICAgIFRoZXJlIGhhcyBiZWVuIGFuIEVycm9yIHdpdGggbG9hZGluZyBHb29nbGUgTWFwcyBBUEkgc2NyaXB0LCBwbGVhc2UgY2hlY2sgdGhhdCB5b3UgcHJvdmlkZWQgY29ycmVjdCBnb29nbGUgQVBJIGtleSAoJHtnb29nbGVNYXBzQXBpS2V5IHx8XG4gICAgICAgICAgICAgICAgJy0nfSkgb3IgQ2xpZW50IElEICgke2dvb2dsZU1hcHNDbGllbnRJZCB8fCAnLSd9KVxuICAgICAgICBPdGhlcndpc2UgaXQgaXMgYSBOZXR3b3JrIGlzc3VlLlxuICAgICAgYCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH0pO1xuICAgIH0sIFtpZCwgdXJsLCBub25jZV0pO1xuICAgIGNvbnN0IHByZXZMaWJyYXJpZXMgPSB1c2VSZWYoKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gY2hlY2tQZXJmb3JtYW5jZSgpIHtcbiAgICAgICAgaWYgKHByZXZMaWJyYXJpZXMuY3VycmVudCAmJiBsaWJyYXJpZXMgIT09IHByZXZMaWJyYXJpZXMuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQZXJmb3JtYW5jZSB3YXJuaW5nISBMb2FkU2NyaXB0IGhhcyBiZWVuIHJlbG9hZGVkIHVuaW50ZW50aW9uYWxseSEgWW91IHNob3VsZCBub3QgcGFzcyBgbGlicmFyaWVzYCBwcm9wIGFzIG5ldyBhcnJheS4gUGxlYXNlIGtlZXAgYW4gYXJyYXkgb2YgbGlicmFyaWVzIGFzIHN0YXRpYyBjbGFzcyBwcm9wZXJ0eSBmb3IgQ29tcG9uZW50cyBhbmQgUHVyZUNvbXBvbmVudHMsIG9yIGp1c3QgYSBjb25zdCB2YXJpYWJsZSBvdXRzaWRlIG9mIGNvbXBvbmVudCwgb3Igc29tZXdoZXJlIGluIGNvbmZpZyBmaWxlcyBvciBFTlYgdmFyaWFibGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldkxpYnJhcmllcy5jdXJyZW50ID0gbGlicmFyaWVzO1xuICAgIH0sIFtsaWJyYXJpZXNdKTtcbiAgICByZXR1cm4geyBpc0xvYWRlZCwgbG9hZEVycm9yLCB1cmwgfTtcbn1cblxuY29uc3QgZGVmYXVsdExvYWRpbmdFbGVtZW50ID0ganN4UnVudGltZS5leHBvcnRzLmpzeChEZWZhdWx0TG9hZGluZ0VsZW1lbnQsIHt9KTtcbmZ1bmN0aW9uIExvYWRTY3JpcHROZXh0KF9hKSB7XG4gICAgdmFyIHsgbG9hZGluZ0VsZW1lbnQsIG9uTG9hZCwgb25FcnJvciwgb25Vbm1vdW50LCBjaGlsZHJlbiB9ID0gX2EsIGhvb2tPcHRpb25zID0gX19yZXN0JDEoX2EsIFtcImxvYWRpbmdFbGVtZW50XCIsIFwib25Mb2FkXCIsIFwib25FcnJvclwiLCBcIm9uVW5tb3VudFwiLCBcImNoaWxkcmVuXCJdKTtcbiAgICBjb25zdCB7IGlzTG9hZGVkLCBsb2FkRXJyb3IgfSA9IHVzZUxvYWRTY3JpcHQoaG9va09wdGlvbnMpO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiBoYW5kbGVPbkxvYWQoKSB7XG4gICAgICAgIGlmIChpc0xvYWRlZCAmJiB0eXBlb2Ygb25Mb2FkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvbkxvYWQoKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc0xvYWRlZCwgb25Mb2FkXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uIGhhbmRsZU9uRXJyb3IoKSB7XG4gICAgICAgIGlmIChsb2FkRXJyb3IgJiYgdHlwZW9mIG9uRXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9uRXJyb3IobG9hZEVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sIFtsb2FkRXJyb3IsIG9uRXJyb3JdKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gaGFuZGxlT25Vbm1vdW50KCkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIG9uVW5tb3VudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtvblVubW91bnRdKTtcbiAgICByZXR1cm4gaXNMb2FkZWQgPyBjaGlsZHJlbiA6IGxvYWRpbmdFbGVtZW50IHx8IGRlZmF1bHRMb2FkaW5nRWxlbWVudDtcbn1cbnZhciBMb2FkU2NyaXB0TmV4dCQxID0gbWVtbyhMb2FkU2NyaXB0TmV4dCk7XG5cbi8vIGRvIG5vdCBlZGl0IC5qcyBmaWxlcyBkaXJlY3RseSAtIGVkaXQgc3JjL2luZGV4LmpzdFxuXG5cblxudmFyIGZhc3REZWVwRXF1YWwkMSA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdC5cbiAqXG4gKiAgICAgIEh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMC5cbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jb25zdCBERUZBVUxUX0lEID0gXCJfX2dvb2dsZU1hcHNTY3JpcHRJZFwiO1xuLyoqXG4gKiBUaGUgc3RhdHVzIG9mIHRoZSBbW0xvYWRlcl1dLlxuICovXG52YXIgTG9hZGVyU3RhdHVzO1xuKGZ1bmN0aW9uIChMb2FkZXJTdGF0dXMpIHtcbiAgICBMb2FkZXJTdGF0dXNbTG9hZGVyU3RhdHVzW1wiSU5JVElBTElaRURcIl0gPSAwXSA9IFwiSU5JVElBTElaRURcIjtcbiAgICBMb2FkZXJTdGF0dXNbTG9hZGVyU3RhdHVzW1wiTE9BRElOR1wiXSA9IDFdID0gXCJMT0FESU5HXCI7XG4gICAgTG9hZGVyU3RhdHVzW0xvYWRlclN0YXR1c1tcIlNVQ0NFU1NcIl0gPSAyXSA9IFwiU1VDQ0VTU1wiO1xuICAgIExvYWRlclN0YXR1c1tMb2FkZXJTdGF0dXNbXCJGQUlMVVJFXCJdID0gM10gPSBcIkZBSUxVUkVcIjtcbn0pKExvYWRlclN0YXR1cyB8fCAoTG9hZGVyU3RhdHVzID0ge30pKTtcbi8qKlxuICogW1tMb2FkZXJdXSBtYWtlcyBpdCBlYXNpZXIgdG8gYWRkIEdvb2dsZSBNYXBzIEphdmFTY3JpcHQgQVBJIHRvIHlvdXIgYXBwbGljYXRpb25cbiAqIGR5bmFtaWNhbGx5IHVzaW5nXG4gKiBbUHJvbWlzZXNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UpLlxuICogSXQgd29ya3MgYnkgZHluYW1pY2FsbHkgY3JlYXRpbmcgYW5kIGFwcGVuZGluZyBhIHNjcmlwdCBub2RlIHRvIHRoZSB0aGVcbiAqIGRvY3VtZW50IGhlYWQgYW5kIHdyYXBwaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBzbyBhcyB0byByZXR1cm4gYSBwcm9taXNlLlxuICpcbiAqIGBgYFxuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcih7XG4gKiAgIGFwaUtleTogXCJcIixcbiAqICAgdmVyc2lvbjogXCJ3ZWVrbHlcIixcbiAqICAgbGlicmFyaWVzOiBbXCJwbGFjZXNcIl1cbiAqIH0pO1xuICpcbiAqIGxvYWRlci5sb2FkKCkudGhlbigoZ29vZ2xlKSA9PiB7XG4gKiAgIGNvbnN0IG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoLi4uKVxuICogfSlcbiAqIGBgYFxuICovXG5jbGFzcyBMb2FkZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgTG9hZGVyIHVzaW5nIFtbTG9hZGVyT3B0aW9uc11dLiBObyBkZWZhdWx0cyBhcmUgc2V0XG4gICAgICogdXNpbmcgdGhpcyBsaWJyYXJ5LCBpbnN0ZWFkIHRoZSBkZWZhdWx0cyBhcmUgc2V0IGJ5IHRoZSBHb29nbGUgTWFwc1xuICAgICAqIEphdmFTY3JpcHQgQVBJIHNlcnZlci5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IGxvYWRlciA9IExvYWRlcih7YXBpS2V5LCB2ZXJzaW9uOiAnd2Vla2x5JywgbGlicmFyaWVzOiBbJ3BsYWNlcyddfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBhcGlLZXksIGF1dGhSZWZlcnJlclBvbGljeSwgY2hhbm5lbCwgY2xpZW50LCBpZCA9IERFRkFVTFRfSUQsIGxhbmd1YWdlLCBsaWJyYXJpZXMgPSBbXSwgbWFwSWRzLCBub25jZSwgcmVnaW9uLCByZXRyaWVzID0gMywgdXJsID0gXCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanNcIiwgdmVyc2lvbiwgfSkge1xuICAgICAgICB0aGlzLkNBTExCQUNLID0gXCJfX2dvb2dsZU1hcHNDYWxsYmFja1wiO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgICAgICB0aGlzLmF1dGhSZWZlcnJlclBvbGljeSA9IGF1dGhSZWZlcnJlclBvbGljeTtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuaWQgPSBpZCB8fCBERUZBVUxUX0lEOyAvLyBEbyBub3QgYWxsb3cgZW1wdHkgc3RyaW5nXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICAgICAgdGhpcy5saWJyYXJpZXMgPSBsaWJyYXJpZXM7XG4gICAgICAgIHRoaXMubWFwSWRzID0gbWFwSWRzO1xuICAgICAgICB0aGlzLm5vbmNlID0gbm9uY2U7XG4gICAgICAgIHRoaXMucmVnaW9uID0gcmVnaW9uO1xuICAgICAgICB0aGlzLnJldHJpZXMgPSByZXRyaWVzO1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgaWYgKExvYWRlci5pbnN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKCFmYXN0RGVlcEVxdWFsJDEodGhpcy5vcHRpb25zLCBMb2FkZXIuaW5zdGFuY2Uub3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYExvYWRlciBtdXN0IG5vdCBiZSBjYWxsZWQgYWdhaW4gd2l0aCBkaWZmZXJlbnQgb3B0aW9ucy4gJHtKU09OLnN0cmluZ2lmeSh0aGlzLm9wdGlvbnMpfSAhPT0gJHtKU09OLnN0cmluZ2lmeShMb2FkZXIuaW5zdGFuY2Uub3B0aW9ucyl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gTG9hZGVyLmluc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIExvYWRlci5pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogdGhpcy52ZXJzaW9uLFxuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLmFwaUtleSxcbiAgICAgICAgICAgIGNoYW5uZWw6IHRoaXMuY2hhbm5lbCxcbiAgICAgICAgICAgIGNsaWVudDogdGhpcy5jbGllbnQsXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIGxpYnJhcmllczogdGhpcy5saWJyYXJpZXMsXG4gICAgICAgICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZSxcbiAgICAgICAgICAgIHJlZ2lvbjogdGhpcy5yZWdpb24sXG4gICAgICAgICAgICBtYXBJZHM6IHRoaXMubWFwSWRzLFxuICAgICAgICAgICAgbm9uY2U6IHRoaXMubm9uY2UsXG4gICAgICAgICAgICB1cmw6IHRoaXMudXJsLFxuICAgICAgICAgICAgYXV0aFJlZmVycmVyUG9saWN5OiB0aGlzLmF1dGhSZWZlcnJlclBvbGljeSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgaWYgKHRoaXMuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIExvYWRlclN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBMb2FkZXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gTG9hZGVyU3RhdHVzLkxPQURJTkc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExvYWRlclN0YXR1cy5JTklUSUFMSVpFRDtcbiAgICB9XG4gICAgZ2V0IGZhaWxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9uZSAmJiAhdGhpcy5sb2FkaW5nICYmIHRoaXMuZXJyb3JzLmxlbmd0aCA+PSB0aGlzLnJldHJpZXMgKyAxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVVcmwgcmV0dXJucyB0aGUgR29vZ2xlIE1hcHMgSmF2YVNjcmlwdCBBUEkgc2NyaXB0IHVybCBnaXZlbiB0aGUgW1tMb2FkZXJPcHRpb25zXV0uXG4gICAgICpcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgY3JlYXRlVXJsKCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy51cmw7XG4gICAgICAgIHVybCArPSBgP2NhbGxiYWNrPSR7dGhpcy5DQUxMQkFDS31gO1xuICAgICAgICBpZiAodGhpcy5hcGlLZXkpIHtcbiAgICAgICAgICAgIHVybCArPSBgJmtleT0ke3RoaXMuYXBpS2V5fWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbCkge1xuICAgICAgICAgICAgdXJsICs9IGAmY2hhbm5lbD0ke3RoaXMuY2hhbm5lbH1gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgdXJsICs9IGAmY2xpZW50PSR7dGhpcy5jbGllbnR9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5saWJyYXJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdXJsICs9IGAmbGlicmFyaWVzPSR7dGhpcy5saWJyYXJpZXMuam9pbihcIixcIil9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYW5ndWFnZSkge1xuICAgICAgICAgICAgdXJsICs9IGAmbGFuZ3VhZ2U9JHt0aGlzLmxhbmd1YWdlfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVnaW9uKSB7XG4gICAgICAgICAgICB1cmwgKz0gYCZyZWdpb249JHt0aGlzLnJlZ2lvbn1gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZlcnNpb24pIHtcbiAgICAgICAgICAgIHVybCArPSBgJnY9JHt0aGlzLnZlcnNpb259YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXBJZHMpIHtcbiAgICAgICAgICAgIHVybCArPSBgJm1hcF9pZHM9JHt0aGlzLm1hcElkcy5qb2luKFwiLFwiKX1gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF1dGhSZWZlcnJlclBvbGljeSkge1xuICAgICAgICAgICAgdXJsICs9IGAmYXV0aF9yZWZlcnJlcl9wb2xpY3k9JHt0aGlzLmF1dGhSZWZlcnJlclBvbGljeX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIGRlbGV0ZVNjcmlwdCgpIHtcbiAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7XG4gICAgICAgIGlmIChzY3JpcHQpIHtcbiAgICAgICAgICAgIHNjcmlwdC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBHb29nbGUgTWFwcyBKYXZhU2NyaXB0IEFQSSBzY3JpcHQgYW5kIHJldHVybiBhIFByb21pc2UuXG4gICAgICovXG4gICAgbG9hZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZFByb21pc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgR29vZ2xlIE1hcHMgSmF2YVNjcmlwdCBBUEkgc2NyaXB0IGFuZCByZXR1cm4gYSBQcm9taXNlLlxuICAgICAqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIGxvYWRQcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2FkQ2FsbGJhY2soKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUod2luZG93Lmdvb2dsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyLmVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIEdvb2dsZSBNYXBzIEphdmFTY3JpcHQgQVBJIHNjcmlwdCB3aXRoIGEgY2FsbGJhY2suXG4gICAgICovXG4gICAgbG9hZENhbGxiYWNrKGZuKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goZm4pO1xuICAgICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzY3JpcHQgb24gZG9jdW1lbnQuXG4gICAgICovXG4gICAgc2V0U2NyaXB0KCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gd3JhcCBvbmVycm9yIGNhbGxiYWNrIGZvciBjYXNlcyB3aGVyZSB0aGUgc2NyaXB0IHdhcyBsb2FkZWQgZWxzZXdoZXJlXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5jcmVhdGVVcmwoKTtcbiAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgc2NyaXB0LmlkID0gdGhpcy5pZDtcbiAgICAgICAgc2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xuICAgICAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgICAgICBzY3JpcHQub25lcnJvciA9IHRoaXMubG9hZEVycm9yQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICAgICAgc2NyaXB0LmRlZmVyID0gdHJ1ZTtcbiAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMubm9uY2UpIHtcbiAgICAgICAgICAgIHNjcmlwdC5ub25jZSA9IHRoaXMubm9uY2U7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbG9hZGVyIHN0YXRlLlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmRlbGV0ZVNjcmlwdCgpO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgICAgIHRoaXMub25lcnJvckV2ZW50ID0gbnVsbDtcbiAgICB9XG4gICAgcmVzZXRJZlJldHJ5aW5nRmFpbGVkKCkge1xuICAgICAgICBpZiAodGhpcy5mYWlsZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2FkRXJyb3JDYWxsYmFjayhlKSB7XG4gICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSk7XG4gICAgICAgIGlmICh0aGlzLmVycm9ycy5sZW5ndGggPD0gdGhpcy5yZXRyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuZXJyb3JzLmxlbmd0aCAqIE1hdGgucG93KDIsIHRoaXMuZXJyb3JzLmxlbmd0aCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRmFpbGVkIHRvIGxvYWQgR29vZ2xlIE1hcHMgc2NyaXB0LCByZXRyeWluZyBpbiAke2RlbGF5fSBtcy5gKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2NyaXB0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTY3JpcHQoKTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub25lcnJvckV2ZW50ID0gZTtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDYWxsYmFjaygpIHtcbiAgICAgICAgd2luZG93Ll9fZ29vZ2xlTWFwc0NhbGxiYWNrID0gdGhpcy5jYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBjYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLmZvckVhY2goKGNiKSA9PiB7XG4gICAgICAgICAgICBjYih0aGlzLm9uZXJyb3JFdmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgIH1cbiAgICBleGVjdXRlKCkge1xuICAgICAgICB0aGlzLnJlc2V0SWZSZXRyeWluZ0ZhaWxlZCgpO1xuICAgICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzaG9ydCBjaXJjdWl0IGFuZCB3YXJuIGlmIGdvb2dsZS5tYXBzIGlzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgICAgICBpZiAod2luZG93Lmdvb2dsZSAmJiB3aW5kb3cuZ29vZ2xlLm1hcHMgJiYgd2luZG93Lmdvb2dsZS5tYXBzLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJHb29nbGUgTWFwcyBhbHJlYWR5IGxvYWRlZCBvdXRzaWRlIEBnb29nbGVtYXBzL2pzLWFwaS1sb2FkZXIuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlRoaXMgbWF5IHJlc3VsdCBpbiB1bmRlc2lyYWJsZSBiZWhhdmlvciBhcyBvcHRpb25zIGFuZCBzY3JpcHQgcGFyYW1ldGVycyBtYXkgbm90IG1hdGNoLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubG9hZGluZykgO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTY3JpcHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gdXNlSnNBcGlMb2FkZXIoeyBpZCA9IGRlZmF1bHRMb2FkU2NyaXB0UHJvcHMuaWQsIHZlcnNpb24gPSBkZWZhdWx0TG9hZFNjcmlwdFByb3BzLnZlcnNpb24sIG5vbmNlLCBnb29nbGVNYXBzQXBpS2V5LCBcbi8vIGdvb2dsZU1hcHNDbGllbnRJZCxcbmxhbmd1YWdlLCByZWdpb24sIGxpYnJhcmllcywgcHJldmVudEdvb2dsZUZvbnRzTG9hZGluZywgXG4vLyBjaGFubmVsLFxubWFwSWRzLCBhdXRoUmVmZXJyZXJQb2xpY3ksIH0pIHtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IFtpc0xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbbG9hZEVycm9yLCBzZXRMb2FkRXJyb3JdID0gdXNlU3RhdGUodW5kZWZpbmVkKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gdHJhY2tNb3VudGVkU3RhdGUoKSB7XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGxvYWRlciA9IHVzZU1lbW8oZnVuY3Rpb24gbWVtbygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2FkZXIoe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBhcGlLZXk6IGdvb2dsZU1hcHNBcGlLZXksXG4gICAgICAgICAgICB2ZXJzaW9uLFxuICAgICAgICAgICAgbGlicmFyaWVzLFxuICAgICAgICAgICAgbGFuZ3VhZ2UsXG4gICAgICAgICAgICByZWdpb24sXG4gICAgICAgICAgICBtYXBJZHMsXG4gICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgIGF1dGhSZWZlcnJlclBvbGljeSxcbiAgICAgICAgfSk7XG4gICAgfSwgW2lkLCBnb29nbGVNYXBzQXBpS2V5LCB2ZXJzaW9uLCBsaWJyYXJpZXMsIGxhbmd1YWdlLCByZWdpb24sIG1hcElkcywgbm9uY2UsIGF1dGhSZWZlcnJlclBvbGljeV0pO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiBlZmZlY3QoKSB7XG4gICAgICAgIGlmIChpc0xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9hZGVyLmxvYWQoKS50aGVuKGZ1bmN0aW9uIHRoZW4oKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KVxuICAgICAgICAgICAgICAgICAgICBzZXRMb2FkZWQodHJ1ZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiBvbnJlamVjdGVkKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgc2V0TG9hZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiBhcHBseVByZXZlbnRHb29nbGVGb250cygpIHtcbiAgICAgICAgaWYgKGlzQnJvd3NlciAmJiBwcmV2ZW50R29vZ2xlRm9udHNMb2FkaW5nKSB7XG4gICAgICAgICAgICBwcmV2ZW50R29vZ2xlRm9udHMoKTtcbiAgICAgICAgfVxuICAgIH0sIFtwcmV2ZW50R29vZ2xlRm9udHNMb2FkaW5nXSk7XG4gICAgY29uc3QgcHJldkxpYnJhcmllcyA9IHVzZVJlZigpO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiBlZmZlY3QoKSB7XG4gICAgICAgIGlmIChwcmV2TGlicmFyaWVzLmN1cnJlbnQgJiYgbGlicmFyaWVzICE9PSBwcmV2TGlicmFyaWVzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGVyZm9ybWFuY2Ugd2FybmluZyEgTG9hZFNjcmlwdCBoYXMgYmVlbiByZWxvYWRlZCB1bmludGVudGlvbmFsbHkhIFlvdSBzaG91bGQgbm90IHBhc3MgYGxpYnJhcmllc2AgcHJvcCBhcyBuZXcgYXJyYXkuIFBsZWFzZSBrZWVwIGFuIGFycmF5IG9mIGxpYnJhcmllcyBhcyBzdGF0aWMgY2xhc3MgcHJvcGVydHkgZm9yIENvbXBvbmVudHMgYW5kIFB1cmVDb21wb25lbnRzLCBvciBqdXN0IGEgY29uc3QgdmFyaWFibGUgb3V0c2lkZSBvZiBjb21wb25lbnQsIG9yIHNvbWV3aGVyZSBpbiBjb25maWcgZmlsZXMgb3IgRU5WIHZhcmlhYmxlcycpO1xuICAgICAgICB9XG4gICAgICAgIHByZXZMaWJyYXJpZXMuY3VycmVudCA9IGxpYnJhcmllcztcbiAgICB9LCBbbGlicmFyaWVzXSk7XG4gICAgcmV0dXJuIHsgaXNMb2FkZWQsIGxvYWRFcnJvciB9O1xufVxuXG5jb25zdCBldmVudE1hcCRoID0ge307XG5jb25zdCB1cGRhdGVyTWFwJGggPSB7XG4gICAgb3B0aW9ucyhpbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gVHJhZmZpY0xheWVyRnVuY3Rpb25hbCh7IG9wdGlvbnMsIG9uTG9hZCwgb25Vbm1vdW50IH0pIHtcbiAgICBjb25zdCBtYXAgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICAgIGNvbnN0IFtpbnN0YW5jZSwgc2V0SW5zdGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gT3JkZXIgZG9lcyBtYXR0ZXJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldE1hcChtYXApO1xuICAgICAgICB9XG4gICAgfSwgW21hcF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBvcHRpb25zXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgdHJhZmZpY0xheWVyID0gbmV3IGdvb2dsZS5tYXBzLlRyYWZmaWNMYXllcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChvcHRpb25zIHx8IHt9KSksIHsgbWFwIH0pKTtcbiAgICAgICAgc2V0SW5zdGFuY2UodHJhZmZpY0xheWVyKTtcbiAgICAgICAgaWYgKG9uTG9hZCkge1xuICAgICAgICAgICAgb25Mb2FkKHRyYWZmaWNMYXllcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChvblVubW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Vbm1vdW50KGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2V0TWFwKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IFRyYWZmaWNMYXllckYgPSBtZW1vKFRyYWZmaWNMYXllckZ1bmN0aW9uYWwpO1xuY2xhc3MgVHJhZmZpY0xheWVyIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB0cmFmZmljTGF5ZXI6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0VHJhZmZpY0xheWVyQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS50cmFmZmljTGF5ZXIgIT09IG51bGwgJiYgdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLnN0YXRlLnRyYWZmaWNMYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgdHJhZmZpY0xheWVyID0gbmV3IGdvb2dsZS5tYXBzLlRyYWZmaWNMYXllcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICh0aGlzLnByb3BzLm9wdGlvbnMgfHwge30pKSwgeyBtYXA6IHRoaXMuY29udGV4dCB9KSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRoLFxuICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGgsXG4gICAgICAgICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaW5zdGFuY2U6IHRyYWZmaWNMYXllcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0VHJhZmZpY0xheWVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0cmFmZmljTGF5ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB0aGlzLnNldFRyYWZmaWNMYXllckNhbGxiYWNrKTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS50cmFmZmljTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkaCxcbiAgICAgICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkaCxcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLnRyYWZmaWNMYXllcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS50cmFmZmljTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUudHJhZmZpY0xheWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudHJhZmZpY0xheWVyLnNldE1hcChudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblRyYWZmaWNMYXllci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbmZ1bmN0aW9uIEJpY3ljbGluZ0xheWVyRnVuY3Rpb25hbCh7IG9uTG9hZCwgb25Vbm1vdW50IH0pIHtcbiAgICBjb25zdCBtYXAgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICAgIGNvbnN0IFtpbnN0YW5jZSwgc2V0SW5zdGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gT3JkZXIgZG9lcyBtYXR0ZXJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldE1hcChtYXApO1xuICAgICAgICB9XG4gICAgfSwgW21hcF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJpY3ljbGluZ0xheWVyID0gbmV3IGdvb2dsZS5tYXBzLkJpY3ljbGluZ0xheWVyKCk7XG4gICAgICAgIHNldEluc3RhbmNlKGJpY3ljbGluZ0xheWVyKTtcbiAgICAgICAgYmljeWNsaW5nTGF5ZXIuc2V0TWFwKG1hcCk7XG4gICAgICAgIGlmIChvbkxvYWQpIHtcbiAgICAgICAgICAgIG9uTG9hZChiaWN5Y2xpbmdMYXllcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChiaWN5Y2xpbmdMYXllciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChvblVubW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Vbm1vdW50KGJpY3ljbGluZ0xheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmljeWNsaW5nTGF5ZXIuc2V0TWFwKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IEJpY3ljbGluZ0xheWVyRiA9IG1lbW8oQmljeWNsaW5nTGF5ZXJGdW5jdGlvbmFsKTtcbmNsYXNzIEJpY3ljbGluZ0xheWVyIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBiaWN5Y2xpbmdMYXllcjogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRCaWN5Y2xpbmdMYXllckNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuYmljeWNsaW5nTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmJpY3ljbGluZ0xheWVyLnNldE1hcCh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLnN0YXRlLmJpY3ljbGluZ0xheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCBiaWN5Y2xpbmdMYXllciA9IG5ldyBnb29nbGUubWFwcy5CaWN5Y2xpbmdMYXllcigpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYmljeWNsaW5nTGF5ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB0aGlzLnNldEJpY3ljbGluZ0xheWVyQ2FsbGJhY2spO1xuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuYmljeWNsaW5nTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuYmljeWNsaW5nTGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5iaWN5Y2xpbmdMYXllci5zZXRNYXAobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5CaWN5Y2xpbmdMYXllci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbmZ1bmN0aW9uIFRyYW5zaXRMYXllckZ1bmN0aW9uYWwoeyBvbkxvYWQsIG9uVW5tb3VudCB9KSB7XG4gICAgY29uc3QgbWFwID0gdXNlQ29udGV4dChNYXBDb250ZXh0KTtcbiAgICBjb25zdCBbaW5zdGFuY2UsIHNldEluc3RhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIC8vIE9yZGVyIGRvZXMgbWF0dGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRNYXAobWFwKTtcbiAgICAgICAgfVxuICAgIH0sIFttYXBdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCB0cmFuc2l0TGF5ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuVHJhbnNpdExheWVyKCk7XG4gICAgICAgIHNldEluc3RhbmNlKHRyYW5zaXRMYXllcik7XG4gICAgICAgIHRyYW5zaXRMYXllci5zZXRNYXAobWFwKTtcbiAgICAgICAgaWYgKG9uTG9hZCkge1xuICAgICAgICAgICAgb25Mb2FkKHRyYW5zaXRMYXllcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChvblVubW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Vbm1vdW50KGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudHJhbnNpdExheWVyLnNldE1hcChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBUcmFuc2l0TGF5ZXJGID0gbWVtbyhUcmFuc2l0TGF5ZXJGdW5jdGlvbmFsKTtcbmNsYXNzIFRyYW5zaXRMYXllciBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdHJhbnNpdExheWVyOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFRyYW5zaXRMYXllckNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUudHJhbnNpdExheWVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudHJhbnNpdExheWVyLnNldE1hcCh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Mb2FkKHRoaXMuc3RhdGUudHJhbnNpdExheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCB0cmFuc2l0TGF5ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuVHJhbnNpdExheWVyKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0VHJhbnNpdExheWVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0TGF5ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB0aGlzLnNldFRyYW5zaXRMYXllckNhbGxiYWNrKTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnRyYW5zaXRMYXllciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUudHJhbnNpdExheWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudHJhbnNpdExheWVyLnNldE1hcChudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblRyYW5zaXRMYXllci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbi8qIGdsb2JhbHMgZ29vZ2xlICovXG5jb25zdCBldmVudE1hcCRnID0ge1xuICAgIG9uQ2lyY2xlQ29tcGxldGU6ICdjaXJjbGVjb21wbGV0ZScsXG4gICAgb25NYXJrZXJDb21wbGV0ZTogJ21hcmtlcmNvbXBsZXRlJyxcbiAgICBvbk92ZXJsYXlDb21wbGV0ZTogJ292ZXJsYXljb21wbGV0ZScsXG4gICAgb25Qb2x5Z29uQ29tcGxldGU6ICdwb2x5Z29uY29tcGxldGUnLFxuICAgIG9uUG9seWxpbmVDb21wbGV0ZTogJ3BvbHlsaW5lY29tcGxldGUnLFxuICAgIG9uUmVjdGFuZ2xlQ29tcGxldGU6ICdyZWN0YW5nbGVjb21wbGV0ZScsXG59O1xuY29uc3QgdXBkYXRlck1hcCRnID0ge1xuICAgIGRyYXdpbmdNb2RlKGluc3RhbmNlLCBkcmF3aW5nTW9kZSkge1xuICAgICAgICBpbnN0YW5jZS5zZXREcmF3aW5nTW9kZShkcmF3aW5nTW9kZSk7XG4gICAgfSxcbiAgICBvcHRpb25zKGluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBEcmF3aW5nTWFuYWdlckZ1bmN0aW9uYWwoeyBvcHRpb25zLCBkcmF3aW5nTW9kZSwgb25DaXJjbGVDb21wbGV0ZSwgb25NYXJrZXJDb21wbGV0ZSwgb25PdmVybGF5Q29tcGxldGUsIG9uUG9seWdvbkNvbXBsZXRlLCBvblBvbHlsaW5lQ29tcGxldGUsIG9uUmVjdGFuZ2xlQ29tcGxldGUsIG9uTG9hZCwgb25Vbm1vdW50IH0pIHtcbiAgICBjb25zdCBtYXAgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICAgIGNvbnN0IFtpbnN0YW5jZSwgc2V0SW5zdGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2NpcmNsZWNvbXBsZXRlTGlzdGVuZXIsIHNldENpcmNsZUNvbXBsZXRlTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21hcmtlcmNvbXBsZXRlTGlzdGVuZXIsIHNldE1hcmtlckNvbXBsZXRlTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW292ZXJsYXljb21wbGV0ZUxpc3RlbmVyLCBzZXRPdmVybGF5Q29tcGxldGVMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbcG9seWdvbmNvbXBsZXRlTGlzdGVuZXIsIHNldFBvbHlnb25Db21wbGV0ZUxpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtwb2x5bGluZWNvbXBsZXRlTGlzdGVuZXIsIHNldFBvbHlsaW5lQ29tcGxldGVMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbcmVjdGFuZ2xlY29tcGxldGVMaXN0ZW5lciwgc2V0UmVjdGFuZ2xlQ29tcGxldGVMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAvLyBPcmRlciBkb2VzIG1hdHRlclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0TWFwKG1hcCk7XG4gICAgICAgIH1cbiAgICB9LCBbbWFwXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9LCBbaW5zdGFuY2UsIG9wdGlvbnNdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZHJhd2luZ01vZGUgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldERyYXdpbmdNb2RlKGRyYXdpbmdNb2RlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgZHJhd2luZ01vZGVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25DaXJjbGVDb21wbGV0ZSkge1xuICAgICAgICAgICAgaWYgKGNpcmNsZWNvbXBsZXRlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjaXJjbGVjb21wbGV0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENpcmNsZUNvbXBsZXRlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdjaXJjbGVjb21wbGV0ZScsIG9uQ2lyY2xlQ29tcGxldGUpKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgb25DaXJjbGVDb21wbGV0ZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbk1hcmtlckNvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAobWFya2VyY29tcGxldGVMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1hcmtlcmNvbXBsZXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TWFya2VyQ29tcGxldGVMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21hcmtlcmNvbXBsZXRlJywgb25NYXJrZXJDb21wbGV0ZSkpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBvbk1hcmtlckNvbXBsZXRlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uT3ZlcmxheUNvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAob3ZlcmxheWNvbXBsZXRlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihvdmVybGF5Y29tcGxldGVMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRPdmVybGF5Q29tcGxldGVMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ292ZXJsYXljb21wbGV0ZScsIG9uT3ZlcmxheUNvbXBsZXRlKSk7XG4gICAgICAgIH1cbiAgICB9LCBbaW5zdGFuY2UsIG9uT3ZlcmxheUNvbXBsZXRlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uUG9seWdvbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAocG9seWdvbmNvbXBsZXRlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihwb2x5Z29uY29tcGxldGVMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRQb2x5Z29uQ29tcGxldGVMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ3BvbHlnb25jb21wbGV0ZScsIG9uUG9seWdvbkNvbXBsZXRlKSk7XG4gICAgICAgIH1cbiAgICB9LCBbaW5zdGFuY2UsIG9uUG9seWdvbkNvbXBsZXRlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uUG9seWxpbmVDb21wbGV0ZSkge1xuICAgICAgICAgICAgaWYgKHBvbHlsaW5lY29tcGxldGVMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHBvbHlsaW5lY29tcGxldGVMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRQb2x5bGluZUNvbXBsZXRlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdwb2x5bGluZWNvbXBsZXRlJywgb25Qb2x5bGluZUNvbXBsZXRlKSk7XG4gICAgICAgIH1cbiAgICB9LCBbaW5zdGFuY2UsIG9uUG9seWxpbmVDb21wbGV0ZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvblJlY3RhbmdsZUNvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAocmVjdGFuZ2xlY29tcGxldGVMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHJlY3RhbmdsZWNvbXBsZXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UmVjdGFuZ2xlQ29tcGxldGVMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ3JlY3RhbmdsZWNvbXBsZXRlJywgb25SZWN0YW5nbGVDb21wbGV0ZSkpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBvblJlY3RhbmdsZUNvbXBsZXRlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaW52YXJpYW50XzEoISFnb29nbGUubWFwcy5kcmF3aW5nLCBgRGlkIHlvdSBpbmNsdWRlIHByb3AgbGlicmFyaWVzPXtbJ2RyYXdpbmcnXX0gaW4gdGhlIFVSTD8gJXNgLCBnb29nbGUubWFwcy5kcmF3aW5nKTtcbiAgICAgICAgY29uc3QgZHJhd2luZ01hbmFnZXIgPSBuZXcgZ29vZ2xlLm1hcHMuZHJhd2luZy5EcmF3aW5nTWFuYWdlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChvcHRpb25zIHx8IHt9KSksIHsgbWFwIH0pKTtcbiAgICAgICAgaWYgKGRyYXdpbmdNb2RlKSB7XG4gICAgICAgICAgICBkcmF3aW5nTWFuYWdlci5zZXREcmF3aW5nTW9kZShkcmF3aW5nTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uQ2lyY2xlQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHNldENpcmNsZUNvbXBsZXRlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoZHJhd2luZ01hbmFnZXIsICdjaXJjbGVjb21wbGV0ZScsIG9uQ2lyY2xlQ29tcGxldGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25NYXJrZXJDb21wbGV0ZSkge1xuICAgICAgICAgICAgc2V0TWFya2VyQ29tcGxldGVMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihkcmF3aW5nTWFuYWdlciwgJ21hcmtlcmNvbXBsZXRlJywgb25NYXJrZXJDb21wbGV0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk92ZXJsYXlDb21wbGV0ZSkge1xuICAgICAgICAgICAgc2V0T3ZlcmxheUNvbXBsZXRlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoZHJhd2luZ01hbmFnZXIsICdvdmVybGF5Y29tcGxldGUnLCBvbk92ZXJsYXlDb21wbGV0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblBvbHlnb25Db21wbGV0ZSkge1xuICAgICAgICAgICAgc2V0UG9seWdvbkNvbXBsZXRlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoZHJhd2luZ01hbmFnZXIsICdwb2x5Z29uY29tcGxldGUnLCBvblBvbHlnb25Db21wbGV0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblBvbHlsaW5lQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHNldFBvbHlsaW5lQ29tcGxldGVMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihkcmF3aW5nTWFuYWdlciwgJ3BvbHlsaW5lY29tcGxldGUnLCBvblBvbHlsaW5lQ29tcGxldGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25SZWN0YW5nbGVDb21wbGV0ZSkge1xuICAgICAgICAgICAgc2V0UmVjdGFuZ2xlQ29tcGxldGVMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihkcmF3aW5nTWFuYWdlciwgJ3JlY3RhbmdsZWNvbXBsZXRlJywgb25SZWN0YW5nbGVDb21wbGV0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHNldEluc3RhbmNlKGRyYXdpbmdNYW5hZ2VyKTtcbiAgICAgICAgaWYgKG9uTG9hZCkge1xuICAgICAgICAgICAgb25Mb2FkKGRyYXdpbmdNYW5hZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNpcmNsZWNvbXBsZXRlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoY2lyY2xlY29tcGxldGVMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXJrZXJjb21wbGV0ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1hcmtlcmNvbXBsZXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3ZlcmxheWNvbXBsZXRlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIob3ZlcmxheWNvbXBsZXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9seWdvbmNvbXBsZXRlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocG9seWdvbmNvbXBsZXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9seWxpbmVjb21wbGV0ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHBvbHlsaW5lY29tcGxldGVMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZWN0YW5nbGVjb21wbGV0ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHJlY3RhbmdsZWNvbXBsZXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIG9uVW5tb3VudChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnNldE1hcChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBEcmF3aW5nTWFuYWdlckYgPSBtZW1vKERyYXdpbmdNYW5hZ2VyRnVuY3Rpb25hbCk7XG5jbGFzcyBEcmF3aW5nTWFuYWdlciBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBkcmF3aW5nTWFuYWdlcjogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXREcmF3aW5nTWFuYWdlckNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuZHJhd2luZ01hbmFnZXIgIT09IG51bGwgJiYgdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLnN0YXRlLmRyYXdpbmdNYW5hZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaW52YXJpYW50XzEoISFnb29nbGUubWFwcy5kcmF3aW5nLCBgRGlkIHlvdSBpbmNsdWRlIHByb3AgbGlicmFyaWVzPXtbJ2RyYXdpbmcnXX0gaW4gdGhlIFVSTD8gJXNgLCBnb29nbGUubWFwcy5kcmF3aW5nKTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IGRyYXdpbmdNYW5hZ2VyID0gbmV3IGdvb2dsZS5tYXBzLmRyYXdpbmcuRHJhd2luZ01hbmFnZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAodGhpcy5wcm9wcy5vcHRpb25zIHx8IHt9KSksIHsgbWFwOiB0aGlzLmNvbnRleHQgfSkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkZyxcbiAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRnLFxuICAgICAgICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGluc3RhbmNlOiBkcmF3aW5nTWFuYWdlcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0RHJhd2luZ01hbmFnZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRyYXdpbmdNYW5hZ2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgdGhpcy5zZXREcmF3aW5nTWFuYWdlckNhbGxiYWNrKTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5kcmF3aW5nTWFuYWdlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRnLFxuICAgICAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRnLFxuICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUuZHJhd2luZ01hbmFnZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZHJhd2luZ01hbmFnZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuZHJhd2luZ01hbmFnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kcmF3aW5nTWFuYWdlci5zZXRNYXAobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5EcmF3aW5nTWFuYWdlci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbmNvbnN0IGV2ZW50TWFwJGYgPSB7XG4gICAgb25BbmltYXRpb25DaGFuZ2VkOiAnYW5pbWF0aW9uX2NoYW5nZWQnLFxuICAgIG9uQ2xpY2s6ICdjbGljaycsXG4gICAgb25DbGlja2FibGVDaGFuZ2VkOiAnY2xpY2thYmxlX2NoYW5nZWQnLFxuICAgIG9uQ3Vyc29yQ2hhbmdlZDogJ2N1cnNvcl9jaGFuZ2VkJyxcbiAgICBvbkRibENsaWNrOiAnZGJsY2xpY2snLFxuICAgIG9uRHJhZzogJ2RyYWcnLFxuICAgIG9uRHJhZ0VuZDogJ2RyYWdlbmQnLFxuICAgIG9uRHJhZ2dhYmxlQ2hhbmdlZDogJ2RyYWdnYWJsZV9jaGFuZ2VkJyxcbiAgICBvbkRyYWdTdGFydDogJ2RyYWdzdGFydCcsXG4gICAgb25GbGF0Q2hhbmdlZDogJ2ZsYXRfY2hhbmdlZCcsXG4gICAgb25JY29uQ2hhbmdlZDogJ2ljb25fY2hhbmdlZCcsXG4gICAgb25Nb3VzZURvd246ICdtb3VzZWRvd24nLFxuICAgIG9uTW91c2VPdXQ6ICdtb3VzZW91dCcsXG4gICAgb25Nb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICAgIG9uTW91c2VVcDogJ21vdXNldXAnLFxuICAgIG9uUG9zaXRpb25DaGFuZ2VkOiAncG9zaXRpb25fY2hhbmdlZCcsXG4gICAgb25SaWdodENsaWNrOiAncmlnaHRjbGljaycsXG4gICAgb25TaGFwZUNoYW5nZWQ6ICdzaGFwZV9jaGFuZ2VkJyxcbiAgICBvblRpdGxlQ2hhbmdlZDogJ3RpdGxlX2NoYW5nZWQnLFxuICAgIG9uVmlzaWJsZUNoYW5nZWQ6ICd2aXNpYmxlX2NoYW5nZWQnLFxuICAgIG9uWmluZGV4Q2hhbmdlZDogJ3ppbmRleF9jaGFuZ2VkJyxcbn07XG5jb25zdCB1cGRhdGVyTWFwJGYgPSB7XG4gICAgYW5pbWF0aW9uKGluc3RhbmNlLCBhbmltYXRpb24pIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0QW5pbWF0aW9uKGFuaW1hdGlvbik7XG4gICAgfSxcbiAgICBjbGlja2FibGUoaW5zdGFuY2UsIGNsaWNrYWJsZSkge1xuICAgICAgICBpbnN0YW5jZS5zZXRDbGlja2FibGUoY2xpY2thYmxlKTtcbiAgICB9LFxuICAgIGN1cnNvcihpbnN0YW5jZSwgY3Vyc29yKSB7XG4gICAgICAgIGluc3RhbmNlLnNldEN1cnNvcihjdXJzb3IpO1xuICAgIH0sXG4gICAgZHJhZ2dhYmxlKGluc3RhbmNlLCBkcmFnZ2FibGUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0RHJhZ2dhYmxlKGRyYWdnYWJsZSk7XG4gICAgfSxcbiAgICBpY29uKGluc3RhbmNlLCBpY29uKSB7XG4gICAgICAgIGluc3RhbmNlLnNldEljb24oaWNvbik7XG4gICAgfSxcbiAgICBsYWJlbChpbnN0YW5jZSwgbGFiZWwpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0TGFiZWwobGFiZWwpO1xuICAgIH0sXG4gICAgbWFwKGluc3RhbmNlLCBtYXApIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0TWFwKG1hcCk7XG4gICAgfSxcbiAgICBvcGFjaXR5KGluc3RhbmNlLCBvcGFjaXR5KSB7XG4gICAgICAgIGluc3RhbmNlLnNldE9wYWNpdHkob3BhY2l0eSk7XG4gICAgfSxcbiAgICBvcHRpb25zKGluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfSxcbiAgICBwb3NpdGlvbihpbnN0YW5jZSwgcG9zaXRpb24pIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0UG9zaXRpb24ocG9zaXRpb24pO1xuICAgIH0sXG4gICAgc2hhcGUoaW5zdGFuY2UsIHNoYXBlKSB7XG4gICAgICAgIGluc3RhbmNlLnNldFNoYXBlKHNoYXBlKTtcbiAgICB9LFxuICAgIHRpdGxlKGluc3RhbmNlLCB0aXRsZSkge1xuICAgICAgICBpbnN0YW5jZS5zZXRUaXRsZSh0aXRsZSk7XG4gICAgfSxcbiAgICB2aXNpYmxlKGluc3RhbmNlLCB2aXNpYmxlKSB7XG4gICAgICAgIGluc3RhbmNlLnNldFZpc2libGUodmlzaWJsZSk7XG4gICAgfSxcbiAgICB6SW5kZXgoaW5zdGFuY2UsIHpJbmRleCkge1xuICAgICAgICBpbnN0YW5jZS5zZXRaSW5kZXgoekluZGV4KTtcbiAgICB9LFxufTtcbmNvbnN0IGRlZmF1bHRPcHRpb25zJDQgPSB7fTtcbmZ1bmN0aW9uIE1hcmtlckZ1bmN0aW9uYWwoeyBwb3NpdGlvbiwgb3B0aW9ucywgY2x1c3RlcmVyLCBub0NsdXN0ZXJlclJlZHJhdywgY2hpbGRyZW4sIGRyYWdnYWJsZSwgdmlzaWJsZSwgYW5pbWF0aW9uLCBjbGlja2FibGUsIGN1cnNvciwgaWNvbiwgbGFiZWwsIG9wYWNpdHksIHNoYXBlLCB0aXRsZSwgekluZGV4LCBvbkNsaWNrLCBvbkRibENsaWNrLCBvbkRyYWcsIG9uRHJhZ0VuZCwgb25EcmFnU3RhcnQsIG9uTW91c2VPdXQsIG9uTW91c2VPdmVyLCBvbk1vdXNlVXAsIG9uTW91c2VEb3duLCBvblJpZ2h0Q2xpY2ssIG9uQ2xpY2thYmxlQ2hhbmdlZCwgb25DdXJzb3JDaGFuZ2VkLCBvbkFuaW1hdGlvbkNoYW5nZWQsIG9uRHJhZ2dhYmxlQ2hhbmdlZCwgb25GbGF0Q2hhbmdlZCwgb25JY29uQ2hhbmdlZCwgb25Qb3NpdGlvbkNoYW5nZWQsIG9uU2hhcGVDaGFuZ2VkLCBvblRpdGxlQ2hhbmdlZCwgb25WaXNpYmxlQ2hhbmdlZCwgb25aaW5kZXhDaGFuZ2VkLCBvbkxvYWQsIG9uVW5tb3VudCB9KSB7XG4gICAgY29uc3QgbWFwID0gdXNlQ29udGV4dChNYXBDb250ZXh0KTtcbiAgICBjb25zdCBbaW5zdGFuY2UsIHNldEluc3RhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkYmxjbGlja0xpc3RlbmVyLCBzZXREYmxjbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkcmFnZW5kTGlzdGVuZXIsIHNldERyYWdlbmRMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZHJhZ3N0YXJ0TGlzdGVuZXIsIHNldERyYWdzdGFydExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZWRvd25MaXN0ZW5lciwgc2V0TW91c2Vkb3duTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlb3V0TGlzdGVuZXIsIHNldE1vdXNlb3V0TGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlb3Zlckxpc3RlbmVyLCBzZXRNb3VzZW92ZXJMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2V1cExpc3RlbmVyLCBzZXRNb3VzZXVwTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3JpZ2h0Y2xpY2tMaXN0ZW5lciwgc2V0UmlnaHRjbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtjbGlja0xpc3RlbmVyLCBzZXRDbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkcmFnTGlzdGVuZXIsIHNldERyYWdMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY2xpY2thYmxlQ2hhbmdlZExpc3RlbmVyLCBzZXRDbGlja2FibGVDaGFuZ2VkTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2N1cnNvckNoYW5nZWRMaXN0ZW5lciwgc2V0Q3Vyc29yQ2hhbmdlZExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFthbmltYXRpb25DaGFuZ2VkTGlzdGVuZXIsIHNldEFuaW1hdGlvbkNoYW5nZWRMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZHJhZ2dhYmxlQ2hhbmdlZExpc3RlbmVyLCBzZXREcmFnZ2FibGVDaGFuZ2VkTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2ZsYXRDaGFuZ2VkTGlzdGVuZXIsIHNldEZsYXRDaGFuZ2VkTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2ljb25DaGFuZ2VkTGlzdGVuZXIsIHNldEljb25DaGFuZ2VkTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3Bvc2l0aW9uQ2hhbmdlZExpc3RlbmVyLCBzZXRQb3NpdGlvbkNoYW5nZWRMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbc2hhcGVDaGFuZ2VkTGlzdGVuZXIsIHNldFNoYXBlQ2hhbmdlZExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFt0aXRsZUNoYW5nZWRMaXN0ZW5lciwgc2V0VGl0bGVDaGFuZ2VkTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3Zpc2libGVDaGFuZ2VkTGlzdGVuZXIsIHNldFZpc2libGVDaGFuZ2VkTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3pJbmRleENoYW5nZWRMaXN0ZW5lciwgc2V0WmluZGV4Q2hhbmdlZExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIC8vIE9yZGVyIGRvZXMgbWF0dGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRNYXAobWFwKTtcbiAgICAgICAgfVxuICAgIH0sIFttYXBdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBvcHRpb25zXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBkcmFnZ2FibGUgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXREcmFnZ2FibGUoZHJhZ2dhYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgZHJhZ2dhYmxlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHBvc2l0aW9uICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9LCBbaW5zdGFuY2UsIHBvc2l0aW9uXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2aXNpYmxlICE9PSAndW5kZWZpbmVkJyAmJiBpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgdmlzaWJsZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChhbmltYXRpb24gJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldEFuaW1hdGlvbihhbmltYXRpb24pO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBhbmltYXRpb25dKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25EYmxDbGljaykge1xuICAgICAgICAgICAgaWYgKGRibGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkYmxjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldERibGNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdkYmxjbGljaycsIG9uRGJsQ2xpY2spKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkRibENsaWNrXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uRHJhZ0VuZCkge1xuICAgICAgICAgICAgaWYgKGRyYWdlbmRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdlbmRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREcmFnZW5kTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdkcmFnZW5kJywgb25EcmFnRW5kKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25EYmxDbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkRyYWdTdGFydCkge1xuICAgICAgICAgICAgaWYgKGRyYWdzdGFydExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZHJhZ3N0YXJ0TGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RHJhZ3N0YXJ0TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uRHJhZ1N0YXJ0XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VEb3duKSB7XG4gICAgICAgICAgICBpZiAobW91c2Vkb3duTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZWRvd25MaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZWRvd25MaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNlZG93bicsIG9uTW91c2VEb3duKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZURvd25dKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZU91dCkge1xuICAgICAgICAgICAgaWYgKG1vdXNlb3V0TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW91dExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNlb3V0TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZW91dCcsIG9uTW91c2VPdXQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlT3V0XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VPdmVyKSB7XG4gICAgICAgICAgICBpZiAobW91c2VvdmVyTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW92ZXJMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZW92ZXJMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNlb3ZlcicsIG9uTW91c2VPdmVyKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZU92ZXJdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZVVwKSB7XG4gICAgICAgICAgICBpZiAobW91c2V1cExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2V1cExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNldXBMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNldXAnLCBvbk1vdXNlVXApKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlVXBdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25SaWdodENsaWNrKSB7XG4gICAgICAgICAgICBpZiAocmlnaHRjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocmlnaHRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFJpZ2h0Y2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ3JpZ2h0Y2xpY2snLCBvblJpZ2h0Q2xpY2spKTtcbiAgICAgICAgfVxuICAgIH0sIFtvblJpZ2h0Q2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25DbGljaykge1xuICAgICAgICAgICAgaWYgKGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdjbGljaycsIG9uQ2xpY2spKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsaWNrXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uRHJhZykge1xuICAgICAgICAgICAgaWYgKGRyYWdMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREcmFnTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdkcmFnJywgb25EcmFnKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25EcmFnXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uQ2xpY2thYmxlQ2hhbmdlZCkge1xuICAgICAgICAgICAgaWYgKGNsaWNrYWJsZUNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGNsaWNrYWJsZUNoYW5nZWRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDbGlja2FibGVDaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdjbGlja2FibGVfY2hhbmdlZCcsIG9uQ2xpY2thYmxlQ2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2thYmxlQ2hhbmdlZF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkN1cnNvckNoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmIChjdXJzb3JDaGFuZ2VkTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjdXJzb3JDaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q3Vyc29yQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnY3Vyc29yX2NoYW5nZWQnLCBvbkN1cnNvckNoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkN1cnNvckNoYW5nZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25BbmltYXRpb25DaGFuZ2VkKSB7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uQ2hhbmdlZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoYW5pbWF0aW9uQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEFuaW1hdGlvbkNoYW5nZWRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2FuaW1hdGlvbl9jaGFuZ2VkJywgb25BbmltYXRpb25DaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25BbmltYXRpb25DaGFuZ2VkXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uRHJhZ2dhYmxlQ2hhbmdlZCkge1xuICAgICAgICAgICAgaWYgKGRyYWdnYWJsZUNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdnYWJsZUNoYW5nZWRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREcmFnZ2FibGVDaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdkcmFnZ2FibGVfY2hhbmdlZCcsIG9uRHJhZ2dhYmxlQ2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uRHJhZ2dhYmxlQ2hhbmdlZF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkZsYXRDaGFuZ2VkKSB7XG4gICAgICAgICAgICBpZiAoZmxhdENoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGZsYXRDaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RmxhdENoYW5nZWRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2ZsYXRfY2hhbmdlZCcsIG9uRmxhdENoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkZsYXRDaGFuZ2VkXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uSWNvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmIChpY29uQ2hhbmdlZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoaWNvbkNoYW5nZWRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRJY29uQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnaWNvbl9jaGFuZ2VkJywgb25JY29uQ2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uSWNvbkNoYW5nZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Qb3NpdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbkNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHBvc2l0aW9uQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFBvc2l0aW9uQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAncG9zaXRpb25fY2hhbmdlZCcsIG9uUG9zaXRpb25DaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Qb3NpdGlvbkNoYW5nZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25TaGFwZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmIChzaGFwZUNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHNoYXBlQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFNoYXBlQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnc2hhcGVfY2hhbmdlZCcsIG9uU2hhcGVDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25TaGFwZUNoYW5nZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25UaXRsZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmICh0aXRsZUNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRpdGxlQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRpdGxlQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAndGl0bGVfY2hhbmdlZCcsIG9uVGl0bGVDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25UaXRsZUNoYW5nZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25WaXNpYmxlQ2hhbmdlZCkge1xuICAgICAgICAgICAgaWYgKHZpc2libGVDaGFuZ2VkTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih2aXNpYmxlQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFZpc2libGVDaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICd2aXNpYmxlX2NoYW5nZWQnLCBvblZpc2libGVDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25WaXNpYmxlQ2hhbmdlZF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvblppbmRleENoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmICh6SW5kZXhDaGFuZ2VkTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih6SW5kZXhDaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0WmluZGV4Q2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnemluZGV4X2NoYW5nZWQnLCBvblppbmRleENoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvblppbmRleENoYW5nZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBtYXJrZXJPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChvcHRpb25zIHx8IGRlZmF1bHRPcHRpb25zJDQpKSwgKGNsdXN0ZXJlciA/IGRlZmF1bHRPcHRpb25zJDQgOiB7IG1hcCB9KSksIHsgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuICAgICAgICBjb25zdCBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKG1hcmtlck9wdGlvbnMpO1xuICAgICAgICBpZiAoY2x1c3RlcmVyKSB7XG4gICAgICAgICAgICBjbHVzdGVyZXIuYWRkTWFya2VyKG1hcmtlciwgISFub0NsdXN0ZXJlclJlZHJhdyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXJrZXIuc2V0TWFwKG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBtYXJrZXIuc2V0UG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmlzaWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG1hcmtlci5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZHJhZ2dhYmxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbWFya2VyLnNldERyYWdnYWJsZShkcmFnZ2FibGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2xpY2thYmxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbWFya2VyLnNldENsaWNrYWJsZShjbGlja2FibGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY3Vyc29yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbWFya2VyLnNldEN1cnNvcihjdXJzb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpY29uKSB7XG4gICAgICAgICAgICBtYXJrZXIuc2V0SWNvbihpY29uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGxhYmVsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbWFya2VyLnNldExhYmVsKGxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wYWNpdHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBtYXJrZXIuc2V0T3BhY2l0eShvcGFjaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcGUpIHtcbiAgICAgICAgICAgIG1hcmtlci5zZXRTaGFwZShzaGFwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aXRsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG1hcmtlci5zZXRUaXRsZSh0aXRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB6SW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBtYXJrZXIuc2V0WkluZGV4KHpJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRGJsQ2xpY2spIHtcbiAgICAgICAgICAgIHNldERibGNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnZGJsY2xpY2snLCBvbkRibENsaWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRHJhZ0VuZCkge1xuICAgICAgICAgICAgc2V0RHJhZ2VuZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ2RyYWdlbmQnLCBvbkRyYWdFbmQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25EcmFnU3RhcnQpIHtcbiAgICAgICAgICAgIHNldERyYWdzdGFydExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uTW91c2VEb3duKSB7XG4gICAgICAgICAgICBzZXRNb3VzZWRvd25MaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlT3V0KSB7XG4gICAgICAgICAgICBzZXRNb3VzZW91dExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ21vdXNlb3V0Jywgb25Nb3VzZU91dCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlT3Zlcikge1xuICAgICAgICAgICAgc2V0TW91c2VvdmVyTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnbW91c2VvdmVyJywgb25Nb3VzZU92ZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25Nb3VzZVVwKSB7XG4gICAgICAgICAgICBzZXRNb3VzZXVwTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnbW91c2V1cCcsIG9uTW91c2VVcCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblJpZ2h0Q2xpY2spIHtcbiAgICAgICAgICAgIHNldFJpZ2h0Y2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdyaWdodGNsaWNrJywgb25SaWdodENsaWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgIHNldENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnY2xpY2snLCBvbkNsaWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRHJhZykge1xuICAgICAgICAgICAgc2V0RHJhZ0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ2RyYWcnLCBvbkRyYWcpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25DbGlja2FibGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICBzZXRDbGlja2FibGVDaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnY2xpY2thYmxlX2NoYW5nZWQnLCBvbkNsaWNrYWJsZUNoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25DdXJzb3JDaGFuZ2VkKSB7XG4gICAgICAgICAgICBzZXRDdXJzb3JDaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnY3Vyc29yX2NoYW5nZWQnLCBvbkN1cnNvckNoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25BbmltYXRpb25DaGFuZ2VkKSB7XG4gICAgICAgICAgICBzZXRBbmltYXRpb25DaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnYW5pbWF0aW9uX2NoYW5nZWQnLCBvbkFuaW1hdGlvbkNoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25EcmFnZ2FibGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICBzZXREcmFnZ2FibGVDaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnZHJhZ2dhYmxlX2NoYW5nZWQnLCBvbkRyYWdnYWJsZUNoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25GbGF0Q2hhbmdlZCkge1xuICAgICAgICAgICAgc2V0RmxhdENoYW5nZWRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdmbGF0X2NoYW5nZWQnLCBvbkZsYXRDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uSWNvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgIHNldEljb25DaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnaWNvbl9jaGFuZ2VkJywgb25JY29uQ2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblBvc2l0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgc2V0UG9zaXRpb25DaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAncG9zaXRpb25fY2hhbmdlZCcsIG9uUG9zaXRpb25DaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uU2hhcGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICBzZXRTaGFwZUNoYW5nZWRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdzaGFwZV9jaGFuZ2VkJywgb25TaGFwZUNoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25UaXRsZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHNldFRpdGxlQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ3RpdGxlX2NoYW5nZWQnLCBvblRpdGxlQ2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblZpc2libGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICBzZXRWaXNpYmxlQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ3Zpc2libGVfY2hhbmdlZCcsIG9uVmlzaWJsZUNoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25aaW5kZXhDaGFuZ2VkKSB7XG4gICAgICAgICAgICBzZXRaaW5kZXhDaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnemluZGV4X2NoYW5nZWQnLCBvblppbmRleENoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJbnN0YW5jZShtYXJrZXIpO1xuICAgICAgICBpZiAob25Mb2FkKSB7XG4gICAgICAgICAgICBvbkxvYWQobWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRibGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkYmxjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkcmFnZW5kTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkcmFnZW5kTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRyYWdzdGFydExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZHJhZ3N0YXJ0TGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdXNlZG93bkxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2Vkb3duTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdXNlb3V0TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW91dExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3VzZW92ZXJMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlb3Zlckxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3VzZXVwTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZXVwTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJpZ2h0Y2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHJpZ2h0Y2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsaWNrYWJsZUNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGNsaWNrYWJsZUNoYW5nZWRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3Vyc29yQ2hhbmdlZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoY3Vyc29yQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbmltYXRpb25DaGFuZ2VkTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihhbmltYXRpb25DaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRyYWdnYWJsZUNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdnYWJsZUNoYW5nZWRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmxhdENoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGZsYXRDaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGljb25DaGFuZ2VkTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihpY29uQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbkNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHBvc2l0aW9uQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aXRsZUNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRpdGxlQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2aXNpYmxlQ2hhbmdlZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodmlzaWJsZUNoYW5nZWRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoekluZGV4Q2hhbmdlZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoekluZGV4Q2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvblVubW91bnQpIHtcbiAgICAgICAgICAgICAgICBvblVubW91bnQobWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbHVzdGVyZXIpIHtcbiAgICAgICAgICAgICAgICBjbHVzdGVyZXIucmVtb3ZlTWFya2VyKG1hcmtlciwgISFub0NsdXN0ZXJlclJlZHJhdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIuc2V0TWFwKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBjaHggPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuXG4gICAgICAgICAgICA/IENoaWxkcmVuLm1hcChjaGlsZHJlbiwgY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudENoaWxkID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChlbGVtZW50Q2hpbGQsIHsgYW5jaG9yOiBpbnN0YW5jZSB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgfSwgW2NoaWxkcmVuLCBpbnN0YW5jZV0pO1xuICAgIHJldHVybiBqc3hSdW50aW1lLmV4cG9ydHMuanN4KGpzeFJ1bnRpbWUuZXhwb3J0cy5GcmFnbWVudCwgeyBjaGlsZHJlbjogY2h4IH0pIHx8IG51bGw7XG59XG5jb25zdCBNYXJrZXJGID0gbWVtbyhNYXJrZXJGdW5jdGlvbmFsKTtcbmNsYXNzIE1hcmtlciBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IG1hcmtlck9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKHRoaXMucHJvcHMub3B0aW9ucyB8fCBkZWZhdWx0T3B0aW9ucyQ0KSksICh0aGlzLnByb3BzLmNsdXN0ZXJlciA/IGRlZmF1bHRPcHRpb25zJDQgOiB7IG1hcDogdGhpcy5jb250ZXh0IH0pKSwgeyBwb3NpdGlvbjogdGhpcy5wcm9wcy5wb3NpdGlvbiB9KTtcbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSB3ZSBjYW4ndCBqdXN0IGRvIHRoaXMgaW4gdGhlIGNvbnRzdHJ1Y3RvciwgYmVjYXVzZSB0aGVcbiAgICAgICAgLy8gYE1hcENvbnRleHRgIG1pZ2h0IG5vdCBiZSBmaWxsZWQgaW4geWV0LlxuICAgICAgICB0aGlzLm1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIobWFya2VyT3B0aW9ucyk7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNsdXN0ZXJlcikge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5jbHVzdGVyZXIuYWRkTWFya2VyKHRoaXMubWFya2VyLCAhIXRoaXMucHJvcHMubm9DbHVzdGVyZXJSZWRyYXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYXJrZXIuc2V0TWFwKHRoaXMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGYsXG4gICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkZixcbiAgICAgICAgICAgIHByZXZQcm9wczoge30sXG4gICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpbnN0YW5jZTogdGhpcy5tYXJrZXIsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25Mb2FkKHRoaXMubWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcmtlcikge1xuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRmLFxuICAgICAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRmLFxuICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMubWFya2VyLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcmtlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5tYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2x1c3RlcmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jbHVzdGVyZXIucmVtb3ZlTWFya2VyKHRoaXMubWFya2VyLCAhIXRoaXMucHJvcHMubm9DbHVzdGVyZXJSZWRyYXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXIgJiYgdGhpcy5tYXJrZXIuc2V0TWFwKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKHRoaXMucHJvcHMuY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW1lbnRDaGlsZCwgeyBhbmNob3I6IHRoaXMubWFya2VyIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuIHx8IG51bGw7XG4gICAgfVxufVxuTWFya2VyLmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxudmFyIENsdXN0ZXJJY29uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENsdXN0ZXJJY29uKGNsdXN0ZXIsIHN0eWxlcykge1xuICAgICAgICBjbHVzdGVyLmdldENsdXN0ZXJlcigpLmV4dGVuZChDbHVzdGVySWNvbiwgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcpO1xuICAgICAgICB0aGlzLmNsdXN0ZXIgPSBjbHVzdGVyO1xuICAgICAgICB0aGlzLmNsdXN0ZXJDbGFzc05hbWUgPSB0aGlzLmNsdXN0ZXIuZ2V0Q2x1c3RlcmVyKCkuZ2V0Q2x1c3RlckNsYXNzKCk7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbHVzdGVyQ2xhc3NOYW1lO1xuICAgICAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgICAgICAgdGhpcy5jZW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYm91bmRzQ2hhbmdlZExpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy51cmwgPSAnJztcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5hbmNob3JUZXh0ID0gWzAsIDBdO1xuICAgICAgICB0aGlzLmFuY2hvckljb24gPSBbMCwgMF07XG4gICAgICAgIHRoaXMudGV4dENvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgdGhpcy50ZXh0U2l6ZSA9IDExO1xuICAgICAgICB0aGlzLnRleHREZWNvcmF0aW9uID0gJ25vbmUnO1xuICAgICAgICB0aGlzLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgIHRoaXMuZm9udFN0eWxlID0gJ25vcm1hbCc7XG4gICAgICAgIHRoaXMuZm9udEZhbWlseSA9ICdBcmlhbCxzYW5zLXNlcmlmJztcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUG9zaXRpb24gPSAnMCAwJztcbiAgICAgICAgdGhpcy5jTW91c2VEb3duSW5DbHVzdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jRHJhZ2dpbmdNYXBCeUNsdXN0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNldE1hcChjbHVzdGVyLmdldE1hcCgpKTsgLy8gTm90ZTogdGhpcyBjYXVzZXMgb25BZGQgdG8gYmUgY2FsbGVkXG4gICAgICAgIHRoaXMub25Cb3VuZHNDaGFuZ2VkID0gdGhpcy5vbkJvdW5kc0NoYW5nZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRG93biA9IHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Nb3VzZU92ZXIgPSB0aGlzLm9uTW91c2VPdmVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Nb3VzZU91dCA9IHRoaXMub25Nb3VzZU91dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uQWRkID0gdGhpcy5vbkFkZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uUmVtb3ZlID0gdGhpcy5vblJlbW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRyYXcgPSB0aGlzLmRyYXcuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oaWRlID0gdGhpcy5oaWRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2hvdyA9IHRoaXMuc2hvdy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnVzZVN0eWxlID0gdGhpcy51c2VTdHlsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldENlbnRlciA9IHRoaXMuc2V0Q2VudGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0UG9zRnJvbUxhdExuZyA9IHRoaXMuZ2V0UG9zRnJvbUxhdExuZy5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBDbHVzdGVySWNvbi5wcm90b3R5cGUub25Cb3VuZHNDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNEcmFnZ2luZ01hcEJ5Q2x1c3RlciA9IHRoaXMuY01vdXNlRG93bkluQ2x1c3RlcjtcbiAgICB9O1xuICAgIENsdXN0ZXJJY29uLnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jTW91c2VEb3duSW5DbHVzdGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jRHJhZ2dpbmdNYXBCeUNsdXN0ZXIgPSBmYWxzZTtcbiAgICB9O1xuICAgIENsdXN0ZXJJY29uLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuY01vdXNlRG93bkluQ2x1c3RlciA9IGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMuY0RyYWdnaW5nTWFwQnlDbHVzdGVyKSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyQ2x1c3RlcmVyXzEgPSB0aGlzLmNsdXN0ZXIuZ2V0Q2x1c3RlcmVyKCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiBhIGNsdXN0ZXIgbWFya2VyIGlzIGNsaWNrZWQuXG4gICAgICAgICAgICAgKiBAbmFtZSBNYXJrZXJDbHVzdGVyZXIjY2xpY2tcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Q2x1c3Rlcn0gYyBUaGUgY2x1c3RlciB0aGF0IHdhcyBjbGlja2VkLlxuICAgICAgICAgICAgICogQGV2ZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIobWFya2VyQ2x1c3RlcmVyXzEsICdjbGljaycsIHRoaXMuY2x1c3Rlcik7XG4gICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKG1hcmtlckNsdXN0ZXJlcl8xLCAnY2x1c3RlcmNsaWNrJywgdGhpcy5jbHVzdGVyKTsgLy8gZGVwcmVjYXRlZCBuYW1lXG4gICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBjbGljayBoYW5kbGVyIGZvbGxvd3MuIERpc2FibGUgaXQgYnkgc2V0dGluZ1xuICAgICAgICAgICAgLy8gdGhlIHpvb21PbkNsaWNrIHByb3BlcnR5IHRvIGZhbHNlLlxuICAgICAgICAgICAgaWYgKG1hcmtlckNsdXN0ZXJlcl8xLmdldFpvb21PbkNsaWNrKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBab29tIGludG8gdGhlIGNsdXN0ZXIuXG4gICAgICAgICAgICAgICAgdmFyIG1heFpvb21fMSA9IG1hcmtlckNsdXN0ZXJlcl8xLmdldE1heFpvb20oKTtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmRzXzEgPSB0aGlzLmNsdXN0ZXIuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IG1hcmtlckNsdXN0ZXJlcl8xLmdldE1hcCgpO1xuICAgICAgICAgICAgICAgIGlmIChtYXAgIT09IG51bGwgJiYgJ2ZpdEJvdW5kcycgaW4gbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBhIGZpeCBmb3IgSXNzdWUgMTcwIGhlcmU6XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lT3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFwID0gbWFya2VyQ2x1c3RlcmVyXzEuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXAgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnZml0Qm91bmRzJyBpbiBtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGJvdW5kc18xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB6b29tID0gbWFwLmdldFpvb20oKSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3Qgem9vbSBiZXlvbmQgdGhlIG1heCB6b29tIGxldmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4Wm9vbV8xICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbSA+IG1heFpvb21fMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG1heFpvb21fMSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByZXZlbnQgZXZlbnQgcHJvcGFnYXRpb24gdG8gdGhlIG1hcDpcbiAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENsdXN0ZXJJY29uLnByb3RvdHlwZS5vbk1vdXNlT3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgb3ZlciBhIGNsdXN0ZXIgbWFya2VyLlxuICAgICAgICAgKiBAbmFtZSBNYXJrZXJDbHVzdGVyZXIjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q2x1c3Rlcn0gYyBUaGUgY2x1c3RlciB0aGF0IHRoZSBtb3VzZSBtb3ZlZCBvdmVyLlxuICAgICAgICAgKiBAZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodGhpcy5jbHVzdGVyLmdldENsdXN0ZXJlcigpLCAnbW91c2VvdmVyJywgdGhpcy5jbHVzdGVyKTtcbiAgICB9O1xuICAgIENsdXN0ZXJJY29uLnByb3RvdHlwZS5vbk1vdXNlT3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBvdXQgb2YgYSBjbHVzdGVyIG1hcmtlci5cbiAgICAgICAgICogQG5hbWUgTWFya2VyQ2x1c3RlcmVyI21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7Q2x1c3Rlcn0gYyBUaGUgY2x1c3RlciB0aGF0IHRoZSBtb3VzZSBtb3ZlZCBvdXQgb2YuXG4gICAgICAgICAqIEBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLmNsdXN0ZXIuZ2V0Q2x1c3RlcmVyKCksICdtb3VzZW91dCcsIHRoaXMuY2x1c3Rlcik7XG4gICAgfTtcbiAgICBDbHVzdGVySWNvbi5wcm90b3R5cGUub25BZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWU7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMuZ2V0UGFuZXMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm92ZXJsYXlNb3VzZVRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICBpZiAobWFwICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBGaXggZm9yIElzc3VlIDE1N1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNDaGFuZ2VkTGlzdGVuZXIgPSBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXAsICdib3VuZHNfY2hhbmdlZCcsIHRoaXMub25Cb3VuZHNDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMuZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24pO1xuICAgICAgICAgICAgdGhpcy5kaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICAgICAgdGhpcy5kaXYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vbk1vdXNlT3Zlcik7XG4gICAgICAgICAgICB0aGlzLmRpdi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Nb3VzZU91dCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENsdXN0ZXJJY29uLnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGl2ICYmIHRoaXMuZGl2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRzQ2hhbmdlZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5ib3VuZHNDaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXYucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bik7XG4gICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uTW91c2VPdmVyKTtcbiAgICAgICAgICAgIHRoaXMuZGl2LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vbk1vdXNlT3V0KTtcbiAgICAgICAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICAgICAgaWYgKHRoaXMudGltZU91dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lT3V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVPdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXYgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDbHVzdGVySWNvbi5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAmJiB0aGlzLmRpdiAhPT0gbnVsbCAmJiB0aGlzLmNlbnRlcikge1xuICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0UG9zRnJvbUxhdExuZyh0aGlzLmNlbnRlcik7XG4gICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSBwb3MgIT09IG51bGwgPyBcIlwiLmNvbmNhdChwb3MueSwgXCJweFwiKSA6ICcwJztcbiAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSBwb3MgIT09IG51bGwgPyBcIlwiLmNvbmNhdChwb3MueCwgXCJweFwiKSA6ICcwJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2x1c3Rlckljb24ucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpdikge1xuICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB9O1xuICAgIENsdXN0ZXJJY29uLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmRpdiAmJiB0aGlzLmNlbnRlcikge1xuICAgICAgICAgICAgdmFyIGRpdlRpdGxlID0gJyc7XG4gICAgICAgICAgICAvLyBOT1RFOiB2YWx1ZXMgbXVzdCBiZSBzcGVjaWZpZWQgaW4gcHggdW5pdHNcbiAgICAgICAgICAgIHZhciBicCA9IHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICB2YXIgc3ByaXRlSCA9IHBhcnNlSW50KGJwWzBdLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKSwgMTApO1xuICAgICAgICAgICAgdmFyIHNwcml0ZVYgPSBwYXJzZUludChicFsxXS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyksIDEwKTtcbiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmdldFBvc0Zyb21MYXRMbmcodGhpcy5jZW50ZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3VtcyA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzLnN1bXMudGl0bGUgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5zdW1zLnRpdGxlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGRpdlRpdGxlID0gdGhpcy5jbHVzdGVyLmdldENsdXN0ZXJlcigpLmdldFRpdGxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXZUaXRsZSA9IHRoaXMuc3Vtcy50aXRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGl2LmNsYXNzTmFtZSA9IHRoaXMuY2xhc3NOYW1lO1xuICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gcG9zICE9PSBudWxsID8gXCJcIi5jb25jYXQocG9zLnksIFwicHhcIikgOiAnMCc7XG4gICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gcG9zICE9PSBudWxsID8gXCJcIi5jb25jYXQocG9zLngsIFwicHhcIikgOiAnMCc7XG4gICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KHRoaXMud2lkdGgsIFwicHhcIik7XG4gICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSBcIlwiLmNvbmNhdCh0aGlzLmhlaWdodCwgXCJweFwiKTtcbiAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgIGltZy5hbHQgPSBkaXZUaXRsZTtcbiAgICAgICAgICAgIGltZy5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgICAgIGltZy53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgICAgICBpbWcuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICBpbWcuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgaW1nLnN0eWxlLnRvcCA9IFwiXCIuY29uY2F0KHNwcml0ZVYsIFwicHhcIik7XG4gICAgICAgICAgICBpbWcuc3R5bGUubGVmdCA9IFwiXCIuY29uY2F0KHNwcml0ZUgsIFwicHhcIik7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2x1c3Rlci5nZXRDbHVzdGVyZXIoKS5lbmFibGVSZXRpbmFJY29ucykge1xuICAgICAgICAgICAgICAgIGltZy5zdHlsZS5jbGlwID0gXCJyZWN0KC1cIi5jb25jYXQoc3ByaXRlViwgXCJweCwgLVwiKS5jb25jYXQoc3ByaXRlSCArIHRoaXMud2lkdGgsIFwicHgsIC1cIikuY29uY2F0KHNwcml0ZVYgKyB0aGlzLmhlaWdodCwgXCIsIC1cIikuY29uY2F0KHNwcml0ZUgsIFwiKVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0ZXh0RWxtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIHRleHRFbG0uc3R5bGUudG9wID0gXCJcIi5jb25jYXQodGhpcy5hbmNob3JUZXh0WzBdLCBcInB4XCIpO1xuICAgICAgICAgICAgdGV4dEVsbS5zdHlsZS5sZWZ0ID0gXCJcIi5jb25jYXQodGhpcy5hbmNob3JUZXh0WzFdLCBcInB4XCIpO1xuICAgICAgICAgICAgdGV4dEVsbS5zdHlsZS5jb2xvciA9IHRoaXMudGV4dENvbG9yO1xuICAgICAgICAgICAgdGV4dEVsbS5zdHlsZS5mb250U2l6ZSA9IFwiXCIuY29uY2F0KHRoaXMudGV4dFNpemUsIFwicHhcIik7XG4gICAgICAgICAgICB0ZXh0RWxtLnN0eWxlLmZvbnRGYW1pbHkgPSB0aGlzLmZvbnRGYW1pbHk7XG4gICAgICAgICAgICB0ZXh0RWxtLnN0eWxlLmZvbnRXZWlnaHQgPSB0aGlzLmZvbnRXZWlnaHQ7XG4gICAgICAgICAgICB0ZXh0RWxtLnN0eWxlLmZvbnRTdHlsZSA9IHRoaXMuZm9udFN0eWxlO1xuICAgICAgICAgICAgdGV4dEVsbS5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9IHRoaXMudGV4dERlY29yYXRpb247XG4gICAgICAgICAgICB0ZXh0RWxtLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgdGV4dEVsbS5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KHRoaXMud2lkdGgsIFwicHhcIik7XG4gICAgICAgICAgICB0ZXh0RWxtLnN0eWxlLmxpbmVIZWlnaHQgPSBcIlwiLmNvbmNhdCh0aGlzLmhlaWdodCwgXCJweFwiKTtcbiAgICAgICAgICAgIHRleHRFbG0uaW5uZXJUZXh0ID0gXCJcIi5jb25jYXQoKF9hID0gdGhpcy5zdW1zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGV4dCk7XG4gICAgICAgICAgICB0aGlzLmRpdi5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZCh0ZXh0RWxtKTtcbiAgICAgICAgICAgIHRoaXMuZGl2LnRpdGxlID0gZGl2VGl0bGU7XG4gICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICB9O1xuICAgIENsdXN0ZXJJY29uLnByb3RvdHlwZS51c2VTdHlsZSA9IGZ1bmN0aW9uIChzdW1zKSB7XG4gICAgICAgIHRoaXMuc3VtcyA9IHN1bXM7XG4gICAgICAgIHZhciBzdHlsZXMgPSB0aGlzLmNsdXN0ZXIuZ2V0Q2x1c3RlcmVyKCkuZ2V0U3R5bGVzKCk7XG4gICAgICAgIHZhciBzdHlsZSA9IHN0eWxlc1tNYXRoLm1pbihzdHlsZXMubGVuZ3RoIC0gMSwgTWF0aC5tYXgoMCwgc3Vtcy5pbmRleCAtIDEpKV07XG4gICAgICAgIHRoaXMudXJsID0gc3R5bGUudXJsO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHN0eWxlLmhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHN0eWxlLndpZHRoO1xuICAgICAgICBpZiAoc3R5bGUuY2xhc3NOYW1lKVxuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIlwiLmNvbmNhdCh0aGlzLmNsdXN0ZXJDbGFzc05hbWUsIFwiIFwiKS5jb25jYXQoc3R5bGUuY2xhc3NOYW1lKTtcbiAgICAgICAgdGhpcy5hbmNob3JUZXh0ID0gc3R5bGUuYW5jaG9yVGV4dCB8fCBbMCwgMF07XG4gICAgICAgIHRoaXMuYW5jaG9ySWNvbiA9IHN0eWxlLmFuY2hvckljb24gfHwgW3RoaXMuaGVpZ2h0IC8gMiwgdGhpcy53aWR0aCAvIDJdO1xuICAgICAgICB0aGlzLnRleHRDb2xvciA9IHN0eWxlLnRleHRDb2xvciB8fCAnYmxhY2snO1xuICAgICAgICB0aGlzLnRleHRTaXplID0gc3R5bGUudGV4dFNpemUgfHwgMTE7XG4gICAgICAgIHRoaXMudGV4dERlY29yYXRpb24gPSBzdHlsZS50ZXh0RGVjb3JhdGlvbiB8fCAnbm9uZSc7XG4gICAgICAgIHRoaXMuZm9udFdlaWdodCA9IHN0eWxlLmZvbnRXZWlnaHQgfHwgJ2JvbGQnO1xuICAgICAgICB0aGlzLmZvbnRTdHlsZSA9IHN0eWxlLmZvbnRTdHlsZSB8fCAnbm9ybWFsJztcbiAgICAgICAgdGhpcy5mb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseSB8fCAnQXJpYWwsc2Fucy1zZXJpZic7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uID0gc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uIHx8ICcwIDAnO1xuICAgIH07XG4gICAgQ2x1c3Rlckljb24ucHJvdG90eXBlLnNldENlbnRlciA9IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XG4gICAgfTtcbiAgICBDbHVzdGVySWNvbi5wcm90b3R5cGUuZ2V0UG9zRnJvbUxhdExuZyA9IGZ1bmN0aW9uIChsYXRsbmcpIHtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0UHJvamVjdGlvbigpLmZyb21MYXRMbmdUb0RpdlBpeGVsKGxhdGxuZyk7XG4gICAgICAgIGlmIChwb3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHBvcy54IC09IHRoaXMuYW5jaG9ySWNvblsxXTtcbiAgICAgICAgICAgIHBvcy55IC09IHRoaXMuYW5jaG9ySWNvblswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH07XG4gICAgcmV0dXJuIENsdXN0ZXJJY29uO1xufSgpKTtcblxudmFyIENsdXN0ZXIkMSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDbHVzdGVyKG1hcmtlckNsdXN0ZXJlcikge1xuICAgICAgICB0aGlzLm1hcmtlckNsdXN0ZXJlciA9IG1hcmtlckNsdXN0ZXJlcjtcbiAgICAgICAgdGhpcy5tYXAgPSB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRNYXAoKTtcbiAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IHRoaXMubWFya2VyQ2x1c3RlcmVyLmdldEdyaWRTaXplKCk7XG4gICAgICAgIHRoaXMubWluQ2x1c3RlclNpemUgPSB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRNaW5pbXVtQ2x1c3RlclNpemUoKTtcbiAgICAgICAgdGhpcy5hdmVyYWdlQ2VudGVyID0gdGhpcy5tYXJrZXJDbHVzdGVyZXIuZ2V0QXZlcmFnZUNlbnRlcigpO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jbHVzdGVySWNvbiA9IG5ldyBDbHVzdGVySWNvbih0aGlzLCB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRTdHlsZXMoKSk7XG4gICAgICAgIHRoaXMuZ2V0U2l6ZSA9IHRoaXMuZ2V0U2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldE1hcmtlcnMgPSB0aGlzLmdldE1hcmtlcnMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5nZXRDZW50ZXIgPSB0aGlzLmdldENlbnRlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldE1hcCA9IHRoaXMuZ2V0TWFwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0Q2x1c3RlcmVyID0gdGhpcy5nZXRDbHVzdGVyZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5nZXRCb3VuZHMgPSB0aGlzLmdldEJvdW5kcy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlbW92ZSA9IHRoaXMucmVtb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYWRkTWFya2VyID0gdGhpcy5hZGRNYXJrZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc01hcmtlckluQ2x1c3RlckJvdW5kcyA9IHRoaXMuaXNNYXJrZXJJbkNsdXN0ZXJCb3VuZHMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLmNhbGN1bGF0ZUJvdW5kcy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZUljb24gPSB0aGlzLnVwZGF0ZUljb24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc01hcmtlckFscmVhZHlBZGRlZCA9IHRoaXMuaXNNYXJrZXJBbHJlYWR5QWRkZWQuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgQ2x1c3Rlci5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya2Vycy5sZW5ndGg7XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5nZXRNYXJrZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrZXJzO1xuICAgIH07XG4gICAgQ2x1c3Rlci5wcm90b3R5cGUuZ2V0Q2VudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jZW50ZXI7XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcDtcbiAgICB9O1xuICAgIENsdXN0ZXIucHJvdG90eXBlLmdldENsdXN0ZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya2VyQ2x1c3RlcmVyO1xuICAgIH07XG4gICAgQ2x1c3Rlci5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyh0aGlzLmNlbnRlciwgdGhpcy5jZW50ZXIpO1xuICAgICAgICB2YXIgbWFya2VycyA9IHRoaXMuZ2V0TWFya2VycygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IG1hcmtlcnNbaV0uZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQocG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2x1c3Rlckljb24uc2V0TWFwKG51bGwpO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hcmtlcnM7XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5hZGRNYXJrZXIgPSBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuaXNNYXJrZXJBbHJlYWR5QWRkZWQobWFya2VyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jZW50ZXIpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IG1hcmtlci5nZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXZlcmFnZUNlbnRlcikge1xuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IG1hcmtlci5nZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoXzEgPSB0aGlzLm1hcmtlcnMubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCh0aGlzLmNlbnRlci5sYXQoKSAqIChsZW5ndGhfMSAtIDEpICsgcG9zaXRpb24ubGF0KCkpIC8gbGVuZ3RoXzEsICh0aGlzLmNlbnRlci5sbmcoKSAqIChsZW5ndGhfMSAtIDEpICsgcG9zaXRpb24ubG5nKCkpIC8gbGVuZ3RoXzEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXJrZXIuaXNBZGRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIHZhciBtQ291bnQgPSB0aGlzLm1hcmtlcnMubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4Wm9vbSA9IHRoaXMubWFya2VyQ2x1c3RlcmVyLmdldE1heFpvb20oKTtcbiAgICAgICAgdmFyIHpvb20gPSAoX2EgPSB0aGlzLm1hcCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFpvb20oKTtcbiAgICAgICAgaWYgKG1heFpvb20gIT09IG51bGwgJiYgdHlwZW9mIHpvb20gIT09ICd1bmRlZmluZWQnICYmIHpvb20gPiBtYXhab29tKSB7XG4gICAgICAgICAgICAvLyBab29tZWQgaW4gcGFzdCBtYXggem9vbSwgc28gc2hvdyB0aGUgbWFya2VyLlxuICAgICAgICAgICAgaWYgKG1hcmtlci5nZXRNYXAoKSAhPT0gdGhpcy5tYXApIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIuc2V0TWFwKHRoaXMubWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtQ291bnQgPCB0aGlzLm1pbkNsdXN0ZXJTaXplKSB7XG4gICAgICAgICAgICAvLyBNaW4gY2x1c3RlciBzaXplIG5vdCByZWFjaGVkIHNvIHNob3cgdGhlIG1hcmtlci5cbiAgICAgICAgICAgIGlmIChtYXJrZXIuZ2V0TWFwKCkgIT09IHRoaXMubWFwKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLnNldE1hcCh0aGlzLm1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobUNvdW50ID09PSB0aGlzLm1pbkNsdXN0ZXJTaXplKSB7XG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBtYXJrZXJzIHRoYXQgd2VyZSBzaG93aW5nLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMubWFya2Vyc1tpXS5zZXRNYXAobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXJrZXIuc2V0TWFwKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgQ2x1c3Rlci5wcm90b3R5cGUuaXNNYXJrZXJJbkNsdXN0ZXJCb3VuZHMgPSBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgIGlmICh0aGlzLmJvdW5kcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gbWFya2VyLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ib3VuZHMuY29udGFpbnMocG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIENsdXN0ZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRFeHRlbmRlZEJvdW5kcyhuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKHRoaXMuY2VudGVyLCB0aGlzLmNlbnRlcikpO1xuICAgIH07XG4gICAgQ2x1c3Rlci5wcm90b3R5cGUudXBkYXRlSWNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgbUNvdW50ID0gdGhpcy5tYXJrZXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIG1heFpvb20gPSB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRNYXhab29tKCk7XG4gICAgICAgIHZhciB6b29tID0gKF9hID0gdGhpcy5tYXApID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRab29tKCk7XG4gICAgICAgIGlmIChtYXhab29tICE9PSBudWxsICYmIHR5cGVvZiB6b29tICE9PSAndW5kZWZpbmVkJyAmJiB6b29tID4gbWF4Wm9vbSkge1xuICAgICAgICAgICAgdGhpcy5jbHVzdGVySWNvbi5oaWRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1Db3VudCA8IHRoaXMubWluQ2x1c3RlclNpemUpIHtcbiAgICAgICAgICAgIC8vIE1pbiBjbHVzdGVyIHNpemUgbm90IHlldCByZWFjaGVkLlxuICAgICAgICAgICAgdGhpcy5jbHVzdGVySWNvbi5oaWRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2VudGVyKSB7XG4gICAgICAgICAgICB0aGlzLmNsdXN0ZXJJY29uLnNldENlbnRlcih0aGlzLmNlbnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbHVzdGVySWNvbi51c2VTdHlsZSh0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRDYWxjdWxhdG9yKCkodGhpcy5tYXJrZXJzLCB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRTdHlsZXMoKS5sZW5ndGgpKTtcbiAgICAgICAgdGhpcy5jbHVzdGVySWNvbi5zaG93KCk7XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5pc01hcmtlckFscmVhZHlBZGRlZCA9IGZ1bmN0aW9uIChtYXJrZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubWFya2Vycy5pbmNsdWRlcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFya2Vycy5pbmNsdWRlcyhtYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobWFya2VyID09PSB0aGlzLm1hcmtlcnNbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gQ2x1c3Rlcjtcbn0oKSk7XG5cbi8qIGdsb2JhbCBnb29nbGUgKi9cbi8qKlxuICogU3VwcG9ydHMgdXAgdG8gOTAwNzE5OTI1NDc0MDk5MSAoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIG1hcmtlcnNcbiAqIHdoaWNoIGlzIG5vdCBhIHByb2JsZW0gYXMgbWF4IGFycmF5IGxlbmd0aCBpcyA0Mjk0OTY3Mjk2ICgyKiozMilcbiAqL1xuZnVuY3Rpb24gQ0FMQ1VMQVRPUihtYXJrZXJzLCBudW1TdHlsZXMpIHtcbiAgICB2YXIgY291bnQgPSBtYXJrZXJzLmxlbmd0aDtcbiAgICB2YXIgbnVtYmVyT2ZEaWdpdHMgPSBjb3VudC50b1N0cmluZygpLmxlbmd0aDtcbiAgICB2YXIgaW5kZXggPSBNYXRoLm1pbihudW1iZXJPZkRpZ2l0cywgbnVtU3R5bGVzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiBjb3VudC50b1N0cmluZygpLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIHRpdGxlOiAnJyxcbiAgICB9O1xufVxudmFyIEJBVENIX1NJWkUgPSAyMDAwO1xudmFyIEJBVENIX1NJWkVfSUUgPSA1MDA7XG52YXIgSU1BR0VfUEFUSCA9ICdodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9leGFtcGxlcy9tYXJrZXJjbHVzdGVyZXIvbSc7XG52YXIgSU1BR0VfRVhURU5TSU9OID0gJ3BuZyc7XG52YXIgSU1BR0VfU0laRVMgPSBbNTMsIDU2LCA2NiwgNzgsIDkwXTtcbnZhciBDTFVTVEVSRVJfQ0xBU1MgPSAnY2x1c3Rlcic7XG52YXIgQ2x1c3RlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENsdXN0ZXJlcihtYXAsIG9wdE1hcmtlcnMsIG9wdE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdE1hcmtlcnMgPT09IHZvaWQgMCkgeyBvcHRNYXJrZXJzID0gW107IH1cbiAgICAgICAgaWYgKG9wdE9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRPcHRpb25zID0ge307IH1cbiAgICAgICAgdGhpcy5nZXRNaW5pbXVtQ2x1c3RlclNpemUgPSB0aGlzLmdldE1pbmltdW1DbHVzdGVyU2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldE1pbmltdW1DbHVzdGVyU2l6ZSA9IHRoaXMuc2V0TWluaW11bUNsdXN0ZXJTaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0RW5hYmxlUmV0aW5hSWNvbnMgPSB0aGlzLmdldEVuYWJsZVJldGluYUljb25zLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0RW5hYmxlUmV0aW5hSWNvbnMgPSB0aGlzLnNldEVuYWJsZVJldGluYUljb25zLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYWRkVG9DbG9zZXN0Q2x1c3RlciA9IHRoaXMuYWRkVG9DbG9zZXN0Q2x1c3Rlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldEltYWdlRXh0ZW5zaW9uID0gdGhpcy5nZXRJbWFnZUV4dGVuc2lvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldEltYWdlRXh0ZW5zaW9uID0gdGhpcy5zZXRJbWFnZUV4dGVuc2lvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldEV4dGVuZGVkQm91bmRzID0gdGhpcy5nZXRFeHRlbmRlZEJvdW5kcy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldEF2ZXJhZ2VDZW50ZXIgPSB0aGlzLmdldEF2ZXJhZ2VDZW50ZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRBdmVyYWdlQ2VudGVyID0gdGhpcy5zZXRBdmVyYWdlQ2VudGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0VG90YWxDbHVzdGVycyA9IHRoaXMuZ2V0VG90YWxDbHVzdGVycy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmZpdE1hcFRvTWFya2VycyA9IHRoaXMuZml0TWFwVG9NYXJrZXJzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0SWdub3JlSGlkZGVuID0gdGhpcy5nZXRJZ25vcmVIaWRkZW4uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRJZ25vcmVIaWRkZW4gPSB0aGlzLnNldElnbm9yZUhpZGRlbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldENsdXN0ZXJDbGFzcyA9IHRoaXMuZ2V0Q2x1c3RlckNsYXNzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0Q2x1c3RlckNsYXNzID0gdGhpcy5zZXRDbHVzdGVyQ2xhc3MuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5nZXRUb3RhbE1hcmtlcnMgPSB0aGlzLmdldFRvdGFsTWFya2Vycy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldFpvb21PbkNsaWNrID0gdGhpcy5nZXRab29tT25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFpvb21PbkNsaWNrID0gdGhpcy5zZXRab29tT25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldEJhdGNoU2l6ZUlFID0gdGhpcy5nZXRCYXRjaFNpemVJRS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldEJhdGNoU2l6ZUlFID0gdGhpcy5zZXRCYXRjaFNpemVJRS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNsdXN0ZXJzID0gdGhpcy5jcmVhdGVDbHVzdGVycy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uWm9vbUNoYW5nZWQgPSB0aGlzLm9uWm9vbUNoYW5nZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5nZXRJbWFnZVNpemVzID0gdGhpcy5nZXRJbWFnZVNpemVzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0SW1hZ2VTaXplcyA9IHRoaXMuc2V0SW1hZ2VTaXplcy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldENhbGN1bGF0b3IgPSB0aGlzLmdldENhbGN1bGF0b3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRDYWxjdWxhdG9yID0gdGhpcy5zZXRDYWxjdWxhdG9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVtb3ZlTWFya2VycyA9IHRoaXMucmVtb3ZlTWFya2Vycy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlc2V0Vmlld3BvcnQgPSB0aGlzLnJlc2V0Vmlld3BvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5nZXRJbWFnZVBhdGggPSB0aGlzLmdldEltYWdlUGF0aC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldEltYWdlUGF0aCA9IHRoaXMuc2V0SW1hZ2VQYXRoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHVzaE1hcmtlclRvID0gdGhpcy5wdXNoTWFya2VyVG8uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZW1vdmVNYXJrZXIgPSB0aGlzLnJlbW92ZU1hcmtlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNsZWFyTWFya2VycyA9IHRoaXMuY2xlYXJNYXJrZXJzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0dXBTdHlsZXMgPSB0aGlzLnNldHVwU3R5bGVzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0R3JpZFNpemUgPSB0aGlzLmdldEdyaWRTaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0R3JpZFNpemUgPSB0aGlzLnNldEdyaWRTaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0Q2x1c3RlcnMgPSB0aGlzLmdldENsdXN0ZXJzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0TWF4Wm9vbSA9IHRoaXMuZ2V0TWF4Wm9vbS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldE1heFpvb20gPSB0aGlzLnNldE1heFpvb20uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5nZXRNYXJrZXJzID0gdGhpcy5nZXRNYXJrZXJzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYWRkTWFya2VycyA9IHRoaXMuYWRkTWFya2Vycy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldFN0eWxlcyA9IHRoaXMuZ2V0U3R5bGVzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0U3R5bGVzID0gdGhpcy5zZXRTdHlsZXMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hZGRNYXJrZXIgPSB0aGlzLmFkZE1hcmtlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uUmVtb3ZlID0gdGhpcy5vblJlbW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldFRpdGxlID0gdGhpcy5nZXRUaXRsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFRpdGxlID0gdGhpcy5zZXRUaXRsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlcGFpbnQgPSB0aGlzLnJlcGFpbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbklkbGUgPSB0aGlzLm9uSWRsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZHJhdyA9IHRoaXMucmVkcmF3LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZXh0ZW5kID0gdGhpcy5leHRlbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkFkZCA9IHRoaXMub25BZGQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kcmF3ID0gdGhpcy5kcmF3LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZXh0ZW5kKENsdXN0ZXJlciwgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcpO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jbHVzdGVycyA9IFtdO1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZU1hcCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IG9wdE9wdGlvbnMuZ3JpZFNpemUgfHwgNjA7XG4gICAgICAgIHRoaXMubWluQ2x1c3RlclNpemUgPSBvcHRPcHRpb25zLm1pbmltdW1DbHVzdGVyU2l6ZSB8fCAyO1xuICAgICAgICB0aGlzLm1heFpvb20gPSBvcHRPcHRpb25zLm1heFpvb20gfHwgbnVsbDtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBvcHRPcHRpb25zLnN0eWxlcyB8fCBbXTtcbiAgICAgICAgdGhpcy50aXRsZSA9IG9wdE9wdGlvbnMudGl0bGUgfHwgJyc7XG4gICAgICAgIHRoaXMuem9vbU9uQ2xpY2sgPSB0cnVlO1xuICAgICAgICBpZiAob3B0T3B0aW9ucy56b29tT25DbGljayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnpvb21PbkNsaWNrID0gb3B0T3B0aW9ucy56b29tT25DbGljaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF2ZXJhZ2VDZW50ZXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKG9wdE9wdGlvbnMuYXZlcmFnZUNlbnRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmF2ZXJhZ2VDZW50ZXIgPSBvcHRPcHRpb25zLmF2ZXJhZ2VDZW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZ25vcmVIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKG9wdE9wdGlvbnMuaWdub3JlSGlkZGVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlSGlkZGVuID0gb3B0T3B0aW9ucy5pZ25vcmVIaWRkZW47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmFibGVSZXRpbmFJY29ucyA9IGZhbHNlO1xuICAgICAgICBpZiAob3B0T3B0aW9ucy5lbmFibGVSZXRpbmFJY29ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZVJldGluYUljb25zID0gb3B0T3B0aW9ucy5lbmFibGVSZXRpbmFJY29ucztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmltYWdlUGF0aCA9IG9wdE9wdGlvbnMuaW1hZ2VQYXRoIHx8IElNQUdFX1BBVEg7XG4gICAgICAgIHRoaXMuaW1hZ2VFeHRlbnNpb24gPSBvcHRPcHRpb25zLmltYWdlRXh0ZW5zaW9uIHx8IElNQUdFX0VYVEVOU0lPTjtcbiAgICAgICAgdGhpcy5pbWFnZVNpemVzID0gb3B0T3B0aW9ucy5pbWFnZVNpemVzIHx8IElNQUdFX1NJWkVTO1xuICAgICAgICB0aGlzLmNhbGN1bGF0b3IgPSBvcHRPcHRpb25zLmNhbGN1bGF0b3IgfHwgQ0FMQ1VMQVRPUjtcbiAgICAgICAgdGhpcy5iYXRjaFNpemUgPSBvcHRPcHRpb25zLmJhdGNoU2l6ZSB8fCBCQVRDSF9TSVpFO1xuICAgICAgICB0aGlzLmJhdGNoU2l6ZUlFID0gb3B0T3B0aW9ucy5iYXRjaFNpemVJRSB8fCBCQVRDSF9TSVpFX0lFO1xuICAgICAgICB0aGlzLmNsdXN0ZXJDbGFzcyA9IG9wdE9wdGlvbnMuY2x1c3RlckNsYXNzIHx8IENMVVNURVJFUl9DTEFTUztcbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdtc2llJykgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gYXZvaWQgSUUgdGltZW91dCB3aGVuIHByb2Nlc3NpbmcgYSBodWdlIG51bWJlciBvZiBtYXJrZXJzOlxuICAgICAgICAgICAgdGhpcy5iYXRjaFNpemUgPSB0aGlzLmJhdGNoU2l6ZUlFO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZXJSZWZTdGF0aWMgPSBudWxsO1xuICAgICAgICB0aGlzLnNldHVwU3R5bGVzKCk7XG4gICAgICAgIHRoaXMuYWRkTWFya2VycyhvcHRNYXJrZXJzLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zZXRNYXAobWFwKTsgLy8gTm90ZTogdGhpcyBjYXVzZXMgb25BZGQgdG8gYmUgY2FsbGVkXG4gICAgfVxuICAgIENsdXN0ZXJlci5wcm90b3R5cGUub25ab29tQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5yZXNldFZpZXdwb3J0KGZhbHNlKTtcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgdGhpcyBHb29nbGUgYnVnOiB3aGVuIG1hcCBpcyBhdCBsZXZlbCAwIGFuZCBcIi1cIiBvZlxuICAgICAgICAvLyB6b29tIHNsaWRlciBpcyBjbGlja2VkLCBhIFwiem9vbV9jaGFuZ2VkXCIgZXZlbnQgaXMgZmlyZWQgZXZlbiB0aG91Z2hcbiAgICAgICAgLy8gdGhlIG1hcCBkb2Vzbid0IHpvb20gb3V0IGFueSBmdXJ0aGVyLiBJbiB0aGlzIHNpdHVhdGlvbiwgbm8gXCJpZGxlXCJcbiAgICAgICAgLy8gZXZlbnQgaXMgdHJpZ2dlcmVkIHNvIHRoZSBjbHVzdGVyIG1hcmtlcnMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZFxuICAgICAgICAvLyBkbyBub3QgZ2V0IHJlZHJhd24uIFNhbWUgZ29lcyBmb3IgYSB6b29tIGluIGF0IG1heFpvb20uXG4gICAgICAgIGlmICgoKF9hID0gdGhpcy5nZXRNYXAoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFpvb20oKSkgPT09ICh0aGlzLmdldCgnbWluWm9vbScpIHx8IDApIHx8XG4gICAgICAgICAgICAoKF9iID0gdGhpcy5nZXRNYXAoKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmdldFpvb20oKSkgPT09IHRoaXMuZ2V0KCdtYXhab29tJykpIHtcbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodGhpcywgJ2lkbGUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5vbklkbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLm9uQWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICAgICAgdGhpcy5hY3RpdmVNYXAgPSBtYXA7XG4gICAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlcGFpbnQoKTtcbiAgICAgICAgaWYgKG1hcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBtYXAgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXAsICd6b29tX2NoYW5nZWQnLCB0aGlzLm9uWm9vbUNoYW5nZWQpLFxuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ2lkbGUnLCB0aGlzLm9uSWRsZSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBQdXQgYWxsIHRoZSBtYW5hZ2VkIG1hcmtlcnMgYmFjayBvbiB0aGUgbWFwOlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMubWFya2Vyc1tpXS5nZXRNYXAoKSAhPT0gdGhpcy5hY3RpdmVNYXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtlcnNbaV0uc2V0TWFwKHRoaXMuYWN0aXZlTWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgYWxsIGNsdXN0ZXJzOlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2x1c3RlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2x1c3RlcnNbaV0ucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbHVzdGVycyA9IFtdO1xuICAgICAgICAvLyBSZW1vdmUgbWFwIGV2ZW50IGxpc3RlbmVyczpcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5saXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlTWFwID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkgeyByZXR1cm47IH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5zZXR1cFN0eWxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaW1hZ2VTaXplcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdHlsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdXJsOiBcIlwiLmNvbmNhdCh0aGlzLmltYWdlUGF0aCArIChpICsgMSksIFwiLlwiKS5jb25jYXQodGhpcy5pbWFnZUV4dGVuc2lvbiksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmltYWdlU2l6ZXNbaV0sXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuaW1hZ2VTaXplc1tpXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLmZpdE1hcFRvTWFya2VycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcmtlcnMgPSB0aGlzLmdldE1hcmtlcnMoKTtcbiAgICAgICAgdmFyIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBtYXJrZXJzW2ldLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBib3VuZHMuZXh0ZW5kKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICAgICAgaWYgKG1hcCAhPT0gbnVsbCAmJiAnZml0Qm91bmRzJyBpbiBtYXApIHtcbiAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5nZXRHcmlkU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZFNpemU7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLnNldEdyaWRTaXplID0gZnVuY3Rpb24gKGdyaWRTaXplKSB7XG4gICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkU2l6ZTtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZ2V0TWluaW11bUNsdXN0ZXJTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5DbHVzdGVyU2l6ZTtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuc2V0TWluaW11bUNsdXN0ZXJTaXplID0gZnVuY3Rpb24gKG1pbmltdW1DbHVzdGVyU2l6ZSkge1xuICAgICAgICB0aGlzLm1pbkNsdXN0ZXJTaXplID0gbWluaW11bUNsdXN0ZXJTaXplO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhab29tO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5zZXRNYXhab29tID0gZnVuY3Rpb24gKG1heFpvb20pIHtcbiAgICAgICAgdGhpcy5tYXhab29tID0gbWF4Wm9vbTtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZ2V0U3R5bGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZXM7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLnNldFN0eWxlcyA9IGZ1bmN0aW9uIChzdHlsZXMpIHtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aXRsZTtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuc2V0VGl0bGUgPSBmdW5jdGlvbiAodGl0bGUpIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5nZXRab29tT25DbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuem9vbU9uQ2xpY2s7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLnNldFpvb21PbkNsaWNrID0gZnVuY3Rpb24gKHpvb21PbkNsaWNrKSB7XG4gICAgICAgIHRoaXMuem9vbU9uQ2xpY2sgPSB6b29tT25DbGljaztcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZ2V0QXZlcmFnZUNlbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXZlcmFnZUNlbnRlcjtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuc2V0QXZlcmFnZUNlbnRlciA9IGZ1bmN0aW9uIChhdmVyYWdlQ2VudGVyKSB7XG4gICAgICAgIHRoaXMuYXZlcmFnZUNlbnRlciA9IGF2ZXJhZ2VDZW50ZXI7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLmdldElnbm9yZUhpZGRlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWdub3JlSGlkZGVuO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5zZXRJZ25vcmVIaWRkZW4gPSBmdW5jdGlvbiAoaWdub3JlSGlkZGVuKSB7XG4gICAgICAgIHRoaXMuaWdub3JlSGlkZGVuID0gaWdub3JlSGlkZGVuO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5nZXRFbmFibGVSZXRpbmFJY29ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlUmV0aW5hSWNvbnM7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLnNldEVuYWJsZVJldGluYUljb25zID0gZnVuY3Rpb24gKGVuYWJsZVJldGluYUljb25zKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlUmV0aW5hSWNvbnMgPSBlbmFibGVSZXRpbmFJY29ucztcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZ2V0SW1hZ2VFeHRlbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlRXh0ZW5zaW9uO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5zZXRJbWFnZUV4dGVuc2lvbiA9IGZ1bmN0aW9uIChpbWFnZUV4dGVuc2lvbikge1xuICAgICAgICB0aGlzLmltYWdlRXh0ZW5zaW9uID0gaW1hZ2VFeHRlbnNpb247XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLmdldEltYWdlUGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VQYXRoO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5zZXRJbWFnZVBhdGggPSBmdW5jdGlvbiAoaW1hZ2VQYXRoKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VQYXRoID0gaW1hZ2VQYXRoO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5nZXRJbWFnZVNpemVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZVNpemVzO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5zZXRJbWFnZVNpemVzID0gZnVuY3Rpb24gKGltYWdlU2l6ZXMpIHtcbiAgICAgICAgdGhpcy5pbWFnZVNpemVzID0gaW1hZ2VTaXplcztcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRvcjtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuc2V0Q2FsY3VsYXRvciA9IGZ1bmN0aW9uIChjYWxjdWxhdG9yKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRvciA9IGNhbGN1bGF0b3I7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLmdldEJhdGNoU2l6ZUlFID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXRjaFNpemVJRTtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuc2V0QmF0Y2hTaXplSUUgPSBmdW5jdGlvbiAoYmF0Y2hTaXplSUUpIHtcbiAgICAgICAgdGhpcy5iYXRjaFNpemVJRSA9IGJhdGNoU2l6ZUlFO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5nZXRDbHVzdGVyQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsdXN0ZXJDbGFzcztcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuc2V0Q2x1c3RlckNsYXNzID0gZnVuY3Rpb24gKGNsdXN0ZXJDbGFzcykge1xuICAgICAgICB0aGlzLmNsdXN0ZXJDbGFzcyA9IGNsdXN0ZXJDbGFzcztcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZ2V0TWFya2VycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya2VycztcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZ2V0VG90YWxNYXJrZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrZXJzLmxlbmd0aDtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZ2V0Q2x1c3RlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsdXN0ZXJzO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5nZXRUb3RhbENsdXN0ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbHVzdGVycy5sZW5ndGg7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLmFkZE1hcmtlciA9IGZ1bmN0aW9uIChtYXJrZXIsIG9wdE5vRHJhdykge1xuICAgICAgICB0aGlzLnB1c2hNYXJrZXJUbyhtYXJrZXIpO1xuICAgICAgICBpZiAoIW9wdE5vRHJhdykge1xuICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5hZGRNYXJrZXJzID0gZnVuY3Rpb24gKG1hcmtlcnMsIG9wdE5vRHJhdykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gbWFya2Vycykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtYXJrZXJzLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoTWFya2VyVG8obWFya2Vyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdE5vRHJhdykge1xuICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5wdXNoTWFya2VyVG8gPSBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIElmIHRoZSBtYXJrZXIgaXMgZHJhZ2dhYmxlIGFkZCBhIGxpc3RlbmVyIHNvIHdlIGNhbiB1cGRhdGUgdGhlIGNsdXN0ZXJzIG9uIHRoZSBkcmFnZW5kOlxuICAgICAgICBpZiAobWFya2VyLmdldERyYWdnYWJsZSgpKSB7XG4gICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdkcmFnZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWFkeSkge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXIuaXNBZGRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXBhaW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFya2VyLmlzQWRkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUucmVtb3ZlTWFya2VyXyA9IGZ1bmN0aW9uIChtYXJrZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIGlmICh0aGlzLm1hcmtlcnMuaW5kZXhPZikge1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLm1hcmtlcnMuaW5kZXhPZihtYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobWFya2VyID09PSB0aGlzLm1hcmtlcnNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gTWFya2VyIGlzIG5vdCBpbiBvdXIgbGlzdCBvZiBtYXJrZXJzLCBzbyBkbyBub3RoaW5nOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG1hcmtlci5zZXRNYXAobnVsbCk7XG4gICAgICAgIHRoaXMubWFya2Vycy5zcGxpY2UoaW5kZXgsIDEpOyAvLyBSZW1vdmUgdGhlIG1hcmtlciBmcm9tIHRoZSBsaXN0IG9mIG1hbmFnZWQgbWFya2Vyc1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUucmVtb3ZlTWFya2VyID0gZnVuY3Rpb24gKG1hcmtlciwgb3B0Tm9EcmF3KSB7XG4gICAgICAgIHZhciByZW1vdmVkID0gdGhpcy5yZW1vdmVNYXJrZXJfKG1hcmtlcik7XG4gICAgICAgIGlmICghb3B0Tm9EcmF3ICYmIHJlbW92ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVwYWludCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5yZW1vdmVNYXJrZXJzID0gZnVuY3Rpb24gKG1hcmtlcnMsIG9wdE5vRHJhdykge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSByZW1vdmVkIHx8IHRoaXMucmVtb3ZlTWFya2VyXyhtYXJrZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdE5vRHJhdyAmJiByZW1vdmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlcGFpbnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuY2xlYXJNYXJrZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlc2V0Vmlld3BvcnQodHJ1ZSk7XG4gICAgICAgIHRoaXMubWFya2VycyA9IFtdO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5yZXBhaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2xkQ2x1c3RlcnMgPSB0aGlzLmNsdXN0ZXJzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5yZXNldFZpZXdwb3J0KGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBvbGQgY2x1c3RlcnMuXG4gICAgICAgIC8vIERvIGl0IGluIGEgdGltZW91dCB0byBwcmV2ZW50IGJsaW5raW5nIGVmZmVjdC5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDbHVzdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG9sZENsdXN0ZXJzW2ldLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZ2V0RXh0ZW5kZWRCb3VuZHMgPSBmdW5jdGlvbiAoYm91bmRzKSB7XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHBvaW50cyB0byBwaXhlbHMgYW5kIHRoZSBleHRlbmQgb3V0IGJ5IHRoZSBncmlkIHNpemUuXG4gICAgICAgIHZhciB0clBpeCA9IHByb2plY3Rpb24uZnJvbUxhdExuZ1RvRGl2UGl4ZWwoXG4gICAgICAgIC8vIFR1cm4gdGhlIGJvdW5kcyBpbnRvIGxhdGxuZy5cbiAgICAgICAgbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhib3VuZHMuZ2V0Tm9ydGhFYXN0KCkubGF0KCksIGJvdW5kcy5nZXROb3J0aEVhc3QoKS5sbmcoKSkpO1xuICAgICAgICBpZiAodHJQaXggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRyUGl4LnggKz0gdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgICAgIHRyUGl4LnkgLT0gdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmxQaXggPSBwcm9qZWN0aW9uLmZyb21MYXRMbmdUb0RpdlBpeGVsKFxuICAgICAgICAvLyBUdXJuIHRoZSBib3VuZHMgaW50byBsYXRsbmcuXG4gICAgICAgIG5ldyBnb29nbGUubWFwcy5MYXRMbmcoYm91bmRzLmdldFNvdXRoV2VzdCgpLmxhdCgpLCBib3VuZHMuZ2V0U291dGhXZXN0KCkubG5nKCkpKTtcbiAgICAgICAgaWYgKGJsUGl4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBibFBpeC54IC09IHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICBibFBpeC55ICs9IHRoaXMuZ3JpZFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXh0ZW5kIHRoZSBib3VuZHMgdG8gY29udGFpbiB0aGUgbmV3IGJvdW5kcy5cbiAgICAgICAgaWYgKHRyUGl4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBwaXhlbCBwb2ludHMgYmFjayB0byBMYXRMbmcgbndcbiAgICAgICAgICAgIHZhciBwb2ludDEgPSBwcm9qZWN0aW9uLmZyb21EaXZQaXhlbFRvTGF0TG5nKHRyUGl4KTtcbiAgICAgICAgICAgIGlmIChwb2ludDEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZHMuZXh0ZW5kKHBvaW50MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJsUGl4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBwaXhlbCBwb2ludHMgYmFjayB0byBMYXRMbmcgc3dcbiAgICAgICAgICAgIHZhciBwb2ludDIgPSBwcm9qZWN0aW9uLmZyb21EaXZQaXhlbFRvTGF0TG5nKGJsUGl4KTtcbiAgICAgICAgICAgIGlmIChwb2ludDIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZHMuZXh0ZW5kKHBvaW50Mik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUucmVkcmF3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZWRyYXdzIGFsbCB0aGUgY2x1c3RlcnMuXG4gICAgICAgIHRoaXMuY3JlYXRlQ2x1c3RlcnMoMCk7XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLnJlc2V0Vmlld3BvcnQgPSBmdW5jdGlvbiAob3B0SGlkZSkge1xuICAgICAgICAvLyBSZW1vdmUgYWxsIHRoZSBjbHVzdGVyc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2x1c3RlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2x1c3RlcnNbaV0ucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbHVzdGVycyA9IFtdO1xuICAgICAgICAvLyBSZXNldCB0aGUgbWFya2VycyB0byBub3QgYmUgYWRkZWQgYW5kIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgbWFwLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG1hcmtlciA9IHRoaXMubWFya2Vyc1tpXTtcbiAgICAgICAgICAgIG1hcmtlci5pc0FkZGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAob3B0SGlkZSkge1xuICAgICAgICAgICAgICAgIG1hcmtlci5zZXRNYXAobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuZGlzdGFuY2VCZXR3ZWVuUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikge1xuICAgICAgICB2YXIgUiA9IDYzNzE7IC8vIFJhZGl1cyBvZiB0aGUgRWFydGggaW4ga21cbiAgICAgICAgdmFyIGRMYXQgPSAoKHAyLmxhdCgpIC0gcDEubGF0KCkpICogTWF0aC5QSSkgLyAxODA7XG4gICAgICAgIHZhciBkTG9uID0gKChwMi5sbmcoKSAtIHAxLmxuZygpKSAqIE1hdGguUEkpIC8gMTgwO1xuICAgICAgICB2YXIgYSA9IE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXG4gICAgICAgICAgICBNYXRoLmNvcygocDEubGF0KCkgKiBNYXRoLlBJKSAvIDE4MCkgKlxuICAgICAgICAgICAgICAgIE1hdGguY29zKChwMi5sYXQoKSAqIE1hdGguUEkpIC8gMTgwKSAqXG4gICAgICAgICAgICAgICAgTWF0aC5zaW4oZExvbiAvIDIpICpcbiAgICAgICAgICAgICAgICBNYXRoLnNpbihkTG9uIC8gMik7XG4gICAgICAgIHJldHVybiBSICogKDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSkpO1xuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5pc01hcmtlckluQm91bmRzID0gZnVuY3Rpb24gKG1hcmtlciwgYm91bmRzKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IG1hcmtlci5nZXRQb3NpdGlvbigpO1xuICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBib3VuZHMuY29udGFpbnMocG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIENsdXN0ZXJlci5wcm90b3R5cGUuYWRkVG9DbG9zZXN0Q2x1c3RlciA9IGZ1bmN0aW9uIChtYXJrZXIpIHtcbiAgICAgICAgdmFyIGNsdXN0ZXI7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IDQwMDAwOyAvLyBTb21lIGxhcmdlIG51bWJlclxuICAgICAgICB2YXIgY2x1c3RlclRvQWRkVG8gPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2x1c3RlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNsdXN0ZXIgPSB0aGlzLmNsdXN0ZXJzW2ldO1xuICAgICAgICAgICAgdmFyIGNlbnRlciA9IGNsdXN0ZXIuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBtYXJrZXIuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIGlmIChjZW50ZXIgJiYgcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IHRoaXMuZGlzdGFuY2VCZXR3ZWVuUG9pbnRzKGNlbnRlciwgcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChkIDwgZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBkO1xuICAgICAgICAgICAgICAgICAgICBjbHVzdGVyVG9BZGRUbyA9IGNsdXN0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjbHVzdGVyVG9BZGRUbyAmJiBjbHVzdGVyVG9BZGRUby5pc01hcmtlckluQ2x1c3RlckJvdW5kcyhtYXJrZXIpKSB7XG4gICAgICAgICAgICBjbHVzdGVyVG9BZGRUby5hZGRNYXJrZXIobWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsdXN0ZXIgPSBuZXcgQ2x1c3RlciQxKHRoaXMpO1xuICAgICAgICAgICAgY2x1c3Rlci5hZGRNYXJrZXIobWFya2VyKTtcbiAgICAgICAgICAgIHRoaXMuY2x1c3RlcnMucHVzaChjbHVzdGVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2x1c3RlcmVyLnByb3RvdHlwZS5jcmVhdGVDbHVzdGVycyA9IGZ1bmN0aW9uIChpRmlyc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FuY2VsIHByZXZpb3VzIGJhdGNoIHByb2Nlc3NpbmcgaWYgd2UncmUgd29ya2luZyBvbiB0aGUgZmlyc3QgYmF0Y2g6XG4gICAgICAgIGlmIChpRmlyc3QgPT09IDApIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSA8Y29kZT5DbHVzdGVyZXI8L2NvZGU+IGJlZ2luc1xuICAgICAgICAgICAgICogIGNsdXN0ZXJpbmcgbWFya2Vycy5cbiAgICAgICAgICAgICAqIEBuYW1lIENsdXN0ZXJlciNjbHVzdGVyaW5nYmVnaW5cbiAgICAgICAgICAgICAqIEBwYXJhbSB7Q2x1c3RlcmVyfSBtYyBUaGUgQ2x1c3RlcmVyIHdob3NlIG1hcmtlcnMgYXJlIGJlaW5nIGNsdXN0ZXJlZC5cbiAgICAgICAgICAgICAqIEBldmVudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMsICdjbHVzdGVyaW5nYmVnaW4nLCB0aGlzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyUmVmU3RhdGljICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVyUmVmU3RhdGljKTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbWVyUmVmU3RhdGljO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICB2YXIgYm91bmRzID0gbWFwICE9PSBudWxsICYmICdnZXRCb3VuZHMnIGluIG1hcCA/IG1hcC5nZXRCb3VuZHMoKSA6IG51bGw7XG4gICAgICAgIHZhciB6b29tID0gKG1hcCA9PT0gbnVsbCB8fCBtYXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcC5nZXRab29tKCkpIHx8IDA7XG4gICAgICAgIC8vIEdldCBvdXIgY3VycmVudCBtYXAgdmlldyBib3VuZHMuXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBib3VuZHMgb2JqZWN0IHNvIHdlIGRvbid0IGFmZmVjdCB0aGUgbWFwLlxuICAgICAgICAvL1xuICAgICAgICAvLyBTZWUgQ29tbWVudHMgOSAmIDExIG9uIElzc3VlIDM2NTEgcmVsYXRpbmcgdG8gdGhpcyB3b3JrYXJvdW5kIGZvciBhIEdvb2dsZSBNYXBzIGJ1ZzpcbiAgICAgICAgdmFyIG1hcEJvdW5kcyA9IHpvb20gPiAzXG4gICAgICAgICAgICA/IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoYm91bmRzID09PSBudWxsIHx8IGJvdW5kcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYm91bmRzLmdldFNvdXRoV2VzdCgpLCBib3VuZHMgPT09IG51bGwgfHwgYm91bmRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBib3VuZHMuZ2V0Tm9ydGhFYXN0KCkpXG4gICAgICAgICAgICA6IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMobmV3IGdvb2dsZS5tYXBzLkxhdExuZyg4NS4wMjA3MDc3MTc0MzQ3MiwgLTE3OC40ODM4ODQzNDM3NSksIG5ldyBnb29nbGUubWFwcy5MYXRMbmcoLTg1LjA4MTM2NDQ0Mzg0NTQ0LCAxNzguMDAwNDg4NjU2MjUpKTtcbiAgICAgICAgdmFyIGV4dGVuZGVkTWFwQm91bmRzID0gdGhpcy5nZXRFeHRlbmRlZEJvdW5kcyhtYXBCb3VuZHMpO1xuICAgICAgICB2YXIgaUxhc3QgPSBNYXRoLm1pbihpRmlyc3QgKyB0aGlzLmJhdGNoU2l6ZSwgdGhpcy5tYXJrZXJzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSBpRmlyc3Q7IGkgPCBpTGFzdDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW2ldO1xuICAgICAgICAgICAgaWYgKCFtYXJrZXIuaXNBZGRlZCAmJiB0aGlzLmlzTWFya2VySW5Cb3VuZHMobWFya2VyLCBleHRlbmRlZE1hcEJvdW5kcykgJiYgKCF0aGlzLmlnbm9yZUhpZGRlbiB8fCAodGhpcy5pZ25vcmVIaWRkZW4gJiYgbWFya2VyLmdldFZpc2libGUoKSkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUb0Nsb3Nlc3RDbHVzdGVyKG1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlMYXN0IDwgdGhpcy5tYXJrZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy50aW1lclJlZlN0YXRpYyA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jcmVhdGVDbHVzdGVycyhpTGFzdCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGltZXJSZWZTdGF0aWMgPSBudWxsO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIDxjb2RlPkNsdXN0ZXJlcjwvY29kZT4gc3RvcHNcbiAgICAgICAgICAgICAqICBjbHVzdGVyaW5nIG1hcmtlcnMuXG4gICAgICAgICAgICAgKiBAbmFtZSBDbHVzdGVyZXIjY2x1c3RlcmluZ2VuZFxuICAgICAgICAgICAgICogQHBhcmFtIHtDbHVzdGVyZXJ9IG1jIFRoZSBDbHVzdGVyZXIgd2hvc2UgbWFya2VycyBhcmUgYmVpbmcgY2x1c3RlcmVkLlxuICAgICAgICAgICAgICogQGV2ZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodGhpcywgJ2NsdXN0ZXJpbmdlbmQnLCB0aGlzKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jbHVzdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2x1c3RlcnNbaV0udXBkYXRlSWNvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDbHVzdGVyZXIucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChvYmoxLCBvYmoyKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBhcHBseUV4dGVuZChvYmplY3QpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdGhpcy5wcm90b3R5cGVbcHJvcGVydHldID0gb2JqZWN0LnByb3RvdHlwZVtwcm9wZXJ0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfS5hcHBseShvYmoxLCBbb2JqMl0pO1xuICAgIH07XG4gICAgcmV0dXJuIENsdXN0ZXJlcjtcbn0oKSk7XG5cbmNvbnN0IGV2ZW50TWFwJGUgPSB7XG4gICAgb25DbGljazogJ2NsaWNrJyxcbiAgICBvbkNsdXN0ZXJpbmdCZWdpbjogJ2NsdXN0ZXJpbmdiZWdpbicsXG4gICAgb25DbHVzdGVyaW5nRW5kOiAnY2x1c3RlcmluZ2VuZCcsXG4gICAgb25Nb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgICBvbk1vdXNlT3ZlcjogJ21vdXNlb3ZlcicsXG59O1xuY29uc3QgdXBkYXRlck1hcCRlID0ge1xuICAgIGF2ZXJhZ2VDZW50ZXIoaW5zdGFuY2UsIGF2ZXJhZ2VDZW50ZXIpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0QXZlcmFnZUNlbnRlcihhdmVyYWdlQ2VudGVyKTtcbiAgICB9LFxuICAgIGJhdGNoU2l6ZUlFKGluc3RhbmNlLCBiYXRjaFNpemVJRSkge1xuICAgICAgICBpbnN0YW5jZS5zZXRCYXRjaFNpemVJRShiYXRjaFNpemVJRSk7XG4gICAgfSxcbiAgICBjYWxjdWxhdG9yKGluc3RhbmNlLCBjYWxjdWxhdG9yKSB7XG4gICAgICAgIGluc3RhbmNlLnNldENhbGN1bGF0b3IoY2FsY3VsYXRvcik7XG4gICAgfSxcbiAgICBjbHVzdGVyQ2xhc3MoaW5zdGFuY2UsIGNsdXN0ZXJDbGFzcykge1xuICAgICAgICBpbnN0YW5jZS5zZXRDbHVzdGVyQ2xhc3MoY2x1c3RlckNsYXNzKTtcbiAgICB9LFxuICAgIGVuYWJsZVJldGluYUljb25zKGluc3RhbmNlLCBlbmFibGVSZXRpbmFJY29ucykge1xuICAgICAgICBpbnN0YW5jZS5zZXRFbmFibGVSZXRpbmFJY29ucyhlbmFibGVSZXRpbmFJY29ucyk7XG4gICAgfSxcbiAgICBncmlkU2l6ZShpbnN0YW5jZSwgZ3JpZFNpemUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0R3JpZFNpemUoZ3JpZFNpemUpO1xuICAgIH0sXG4gICAgaWdub3JlSGlkZGVuKGluc3RhbmNlLCBpZ25vcmVIaWRkZW4pIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0SWdub3JlSGlkZGVuKGlnbm9yZUhpZGRlbik7XG4gICAgfSxcbiAgICBpbWFnZUV4dGVuc2lvbihpbnN0YW5jZSwgaW1hZ2VFeHRlbnNpb24pIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0SW1hZ2VFeHRlbnNpb24oaW1hZ2VFeHRlbnNpb24pO1xuICAgIH0sXG4gICAgaW1hZ2VQYXRoKGluc3RhbmNlLCBpbWFnZVBhdGgpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0SW1hZ2VQYXRoKGltYWdlUGF0aCk7XG4gICAgfSxcbiAgICBpbWFnZVNpemVzKGluc3RhbmNlLCBpbWFnZVNpemVzKSB7XG4gICAgICAgIGluc3RhbmNlLnNldEltYWdlU2l6ZXMoaW1hZ2VTaXplcyk7XG4gICAgfSxcbiAgICBtYXhab29tKGluc3RhbmNlLCBtYXhab29tKSB7XG4gICAgICAgIGluc3RhbmNlLnNldE1heFpvb20obWF4Wm9vbSk7XG4gICAgfSxcbiAgICBtaW5pbXVtQ2x1c3RlclNpemUoaW5zdGFuY2UsIG1pbmltdW1DbHVzdGVyU2l6ZSkge1xuICAgICAgICBpbnN0YW5jZS5zZXRNaW5pbXVtQ2x1c3RlclNpemUobWluaW11bUNsdXN0ZXJTaXplKTtcbiAgICB9LFxuICAgIHN0eWxlcyhpbnN0YW5jZSwgc3R5bGVzKSB7XG4gICAgICAgIGluc3RhbmNlLnNldFN0eWxlcyhzdHlsZXMpO1xuICAgIH0sXG4gICAgdGl0bGUoaW5zdGFuY2UsIHRpdGxlKSB7XG4gICAgICAgIGluc3RhbmNlLnNldFRpdGxlKHRpdGxlKTtcbiAgICB9LFxuICAgIHpvb21PbkNsaWNrKGluc3RhbmNlLCB6b29tT25DbGljaykge1xuICAgICAgICBpbnN0YW5jZS5zZXRab29tT25DbGljayh6b29tT25DbGljayk7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBNYXJrZXJDbHVzdGVyZXJGdW5jdGlvbmFsKHsgY2hpbGRyZW4sXG4vLyBvcHRpb25zLFxuLy8gYXZlcmFnZUNlbnRlcixcbi8vIGJhdGNoU2l6ZUlFLFxuLy8gY2FsY3VsYXRvcixcbi8vIGNsdXN0ZXJDbGFzcyxcbi8vIGVuYWJsZVJldGluYUljb25zLFxuLy8gZ3JpZFNpemUsXG4vLyBpZ25vcmVIaWRkZW4sXG4vLyBpbWFnZUV4dGVuc2lvbixcbi8vIGltYWdlUGF0aCxcbi8vIGltYWdlU2l6ZXMsXG4vLyBtYXhab29tLFxuLy8gbWluaW11bUNsdXN0ZXJTaXplLFxuLy8gc3R5bGVzLFxuLy8gdGl0bGUsXG4vLyB6b29tT25DbGljayxcbi8vIG9uQ2xpY2ssXG4vLyBvbkNsdXN0ZXJpbmdCZWdpbixcbi8vIG9uQ2x1c3RlcmluZ0VuZCxcbi8vIG9uTW91c2VPdmVyLFxuLy8gb25Nb3VzZU91dCxcbi8vIG9uTG9hZCxcbi8vIG9uVW5tb3VudCxcbiB9KSB7XG4gICAgY29uc3QgW2luc3RhbmNlLCAvKiBzZXRJbnN0YW5jZSAqL10gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAvLyBUT0RPIVxuICAgIHJldHVybiBpbnN0YW5jZSAhPT0gbnVsbFxuICAgICAgICA/IGNoaWxkcmVuKGluc3RhbmNlKSB8fCBudWxsXG4gICAgICAgIDogbnVsbDtcbn1cbm1lbW8oTWFya2VyQ2x1c3RlcmVyRnVuY3Rpb25hbCk7XG5jbGFzcyBDbHVzdGVyZXJDb21wb25lbnQgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBtYXJrZXJDbHVzdGVyZXI6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0Q2x1c3RlcmVyQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5tYXJrZXJDbHVzdGVyZXIgIT09IG51bGwgJiYgdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLnN0YXRlLm1hcmtlckNsdXN0ZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBtYXJrZXJDbHVzdGVyZXIgPSBuZXcgQ2x1c3RlcmVyKHRoaXMuY29udGV4dCwgW10sIHRoaXMucHJvcHMub3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGUsXG4gICAgICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGUsXG4gICAgICAgICAgICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IG1hcmtlckNsdXN0ZXJlcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyQ2x1c3RlcmVyLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCB0aGlzLnNldENsdXN0ZXJlckNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1hcmtlckNsdXN0ZXJlcikge1xuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRlLFxuICAgICAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRlLFxuICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUubWFya2VyQ2x1c3RlcmVyLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1hcmtlckNsdXN0ZXJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5tYXJrZXJDbHVzdGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5tYXJrZXJDbHVzdGVyZXIuc2V0TWFwKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUubWFya2VyQ2x1c3RlcmVyICE9PSBudWxsXG4gICAgICAgICAgICA/IHRoaXMucHJvcHMuY2hpbGRyZW4odGhpcy5zdGF0ZS5tYXJrZXJDbHVzdGVyZXIpXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgfVxufVxuQ2x1c3RlcmVyQ29tcG9uZW50LmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxuLy8gVGhpcyBoYW5kbGVyIHByZXZlbnRzIGFuIGV2ZW50IGluIHRoZSBJbmZvQm94IGZyb20gYmVpbmcgcGFzc2VkIG9uIHRvIHRoZSBtYXAuXG5mdW5jdGlvbiBjYW5jZWxIYW5kbGVyKGV2ZW50KSB7XG4gICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbn1cbnZhciBJbmZvQm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEluZm9Cb3gob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLmdldENsb3NlQ2xpY2tIYW5kbGVyID0gdGhpcy5nZXRDbG9zZUNsaWNrSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNsb3NlQ2xpY2tIYW5kbGVyID0gdGhpcy5jbG9zZUNsaWNrSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZUluZm9Cb3hEaXYgPSB0aGlzLmNyZWF0ZUluZm9Cb3hEaXYuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hZGRDbGlja0hhbmRsZXIgPSB0aGlzLmFkZENsaWNrSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldENsb3NlQm94SW1nID0gdGhpcy5nZXRDbG9zZUJveEltZy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldEJveFdpZHRocyA9IHRoaXMuZ2V0Qm94V2lkdGhzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0Qm94U3R5bGUgPSB0aGlzLnNldEJveFN0eWxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24gPSB0aGlzLnNldFBvc2l0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0UG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9ucyA9IHRoaXMuc2V0T3B0aW9ucy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldENvbnRlbnQgPSB0aGlzLnNldENvbnRlbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRWaXNpYmxlID0gdGhpcy5zZXRWaXNpYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0Q29udGVudCA9IHRoaXMuZ2V0Q29udGVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldFZpc2libGUgPSB0aGlzLmdldFZpc2libGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRaSW5kZXggPSB0aGlzLnNldFpJbmRleC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldFpJbmRleCA9IHRoaXMuZ2V0WkluZGV4LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25SZW1vdmUgPSB0aGlzLm9uUmVtb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFuQm94ID0gdGhpcy5wYW5Cb3guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5leHRlbmQgPSB0aGlzLmV4dGVuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRyYXcgPSB0aGlzLmRyYXcuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zaG93ID0gdGhpcy5zaG93LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGlkZSA9IHRoaXMuaGlkZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5leHRlbmQoSW5mb0JveCwgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcpO1xuICAgICAgICAvLyBTdGFuZGFyZCBvcHRpb25zIChpbiBjb21tb24gd2l0aCBnb29nbGUubWFwcy5JbmZvV2luZG93KTpcbiAgICAgICAgdGhpcy5jb250ZW50ID0gb3B0aW9ucy5jb250ZW50IHx8ICcnO1xuICAgICAgICB0aGlzLmRpc2FibGVBdXRvUGFuID0gb3B0aW9ucy5kaXNhYmxlQXV0b1BhbiB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5tYXhXaWR0aCA9IG9wdGlvbnMubWF4V2lkdGggfHwgMDtcbiAgICAgICAgdGhpcy5waXhlbE9mZnNldCA9IG9wdGlvbnMucGl4ZWxPZmZzZXQgfHwgbmV3IGdvb2dsZS5tYXBzLlNpemUoMCwgMCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBvcHRpb25zLnBvc2l0aW9uIHx8IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoMCwgMCk7XG4gICAgICAgIHRoaXMuekluZGV4ID0gb3B0aW9ucy56SW5kZXggfHwgbnVsbDtcbiAgICAgICAgLy8gQWRkaXRpb25hbCBvcHRpb25zICh1bmlxdWUgdG8gSW5mb0JveCk6XG4gICAgICAgIHRoaXMuYm94Q2xhc3MgPSBvcHRpb25zLmJveENsYXNzIHx8ICdpbmZvQm94JztcbiAgICAgICAgdGhpcy5ib3hTdHlsZSA9IG9wdGlvbnMuYm94U3R5bGUgfHwge307XG4gICAgICAgIHRoaXMuY2xvc2VCb3hNYXJnaW4gPSBvcHRpb25zLmNsb3NlQm94TWFyZ2luIHx8ICcycHgnO1xuICAgICAgICB0aGlzLmNsb3NlQm94VVJMID0gb3B0aW9ucy5jbG9zZUJveFVSTCB8fCAnaHR0cDovL3d3dy5nb29nbGUuY29tL2ludGwvZW5fdXMvbWFwZmlsZXMvY2xvc2UuZ2lmJztcbiAgICAgICAgaWYgKG9wdGlvbnMuY2xvc2VCb3hVUkwgPT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQm94VVJMID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmZvQm94Q2xlYXJhbmNlID0gb3B0aW9ucy5pbmZvQm94Q2xlYXJhbmNlIHx8IG5ldyBnb29nbGUubWFwcy5TaXplKDEsIDEpO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMudmlzaWJsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5pc0hpZGRlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy52aXNpYmxlID0gIW9wdGlvbnMuaXNIaWRkZW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0hpZGRlbiA9ICFvcHRpb25zLnZpc2libGU7XG4gICAgICAgIHRoaXMuYWxpZ25Cb3R0b20gPSBvcHRpb25zLmFsaWduQm90dG9tIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLnBhbmUgPSBvcHRpb25zLnBhbmUgfHwgJ2Zsb2F0UGFuZSc7XG4gICAgICAgIHRoaXMuZW5hYmxlRXZlbnRQcm9wYWdhdGlvbiA9IG9wdGlvbnMuZW5hYmxlRXZlbnRQcm9wYWdhdGlvbiB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXYgPSBudWxsO1xuICAgICAgICB0aGlzLmNsb3NlTGlzdGVuZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm1vdmVMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMubWFwTGlzdGVuZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHRMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBudWxsO1xuICAgICAgICB0aGlzLmZpeGVkV2lkdGhTZXQgPSBudWxsO1xuICAgIH1cbiAgICBJbmZvQm94LnByb3RvdHlwZS5jcmVhdGVJbmZvQm94RGl2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBUaGlzIGhhbmRsZXIgaWdub3JlcyB0aGUgY3VycmVudCBldmVudCBpbiB0aGUgSW5mb0JveCBhbmQgY29uZGl0aW9uYWxseSBwcmV2ZW50c1xuICAgICAgICAvLyB0aGUgZXZlbnQgZnJvbSBiZWluZyBwYXNzZWQgb24gdG8gdGhlIG1hcC4gSXQgaXMgdXNlZCBmb3IgdGhlIGNvbnRleHRtZW51IGV2ZW50LlxuICAgICAgICB2YXIgaWdub3JlSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIV90aGlzLmVuYWJsZUV2ZW50UHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxIYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLmRpdikge1xuICAgICAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0Qm94U3R5bGUoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0Q2xvc2VCb3hJbWcoKSArIHRoaXMuY29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0Q2xvc2VCb3hJbWcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhbmVzID0gdGhpcy5nZXRQYW5lcygpO1xuICAgICAgICAgICAgaWYgKHBhbmVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGFuZXNbdGhpcy5wYW5lXS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7IC8vIEFkZCB0aGUgSW5mb0JveCBkaXYgdG8gdGhlIERPTVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGRDbGlja0hhbmRsZXIoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpdi5zdHlsZS53aWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZml4ZWRXaWR0aFNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhXaWR0aCAhPT0gMCAmJiB0aGlzLmRpdi5vZmZzZXRXaWR0aCA+IHRoaXMubWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLm1heFdpZHRoICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXhlZFdpZHRoU2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBpcyBuZWVkZWQgdG8gb3ZlcmNvbWUgcHJvYmxlbXMgd2l0aCBNU0lFXG4gICAgICAgICAgICAgICAgICAgIHZhciBidyA9IHRoaXMuZ2V0Qm94V2lkdGhzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy5kaXYub2Zmc2V0V2lkdGggLSBidy5sZWZ0IC0gYncucmlnaHQgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpeGVkV2lkdGhTZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhbkJveCh0aGlzLmRpc2FibGVBdXRvUGFuKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5lbmFibGVFdmVudFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIENhbmNlbCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBtb3VzZW1vdmUgbm90IGluY2x1ZGVkICh0byByZXNvbHZlIElzc3VlIDE1MilcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAnbW91c2Vkb3duJyxcbiAgICAgICAgICAgICAgICAgICAgJ21vdXNlb3ZlcicsXG4gICAgICAgICAgICAgICAgICAgICdtb3VzZW91dCcsXG4gICAgICAgICAgICAgICAgICAgICdtb3VzZXVwJyxcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RibGNsaWNrJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgICAndG91Y2hlbmQnLFxuICAgICAgICAgICAgICAgICAgICAndG91Y2htb3ZlJyxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcih0aGlzLmRpdiwgZXZlbnRzW2ldLCBjYW5jZWxIYW5kbGVyKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIEdvb2dsZSBidWcgdGhhdCBjYXVzZXMgdGhlIGN1cnNvciB0byBjaGFuZ2UgdG8gYSBwb2ludGVyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgbW91c2UgbW92ZXMgb3ZlciBhIG1hcmtlciB1bmRlcm5lYXRoIEluZm9Cb3guXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHRoaXMuZGl2LCAnbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZGl2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb250ZXh0TGlzdGVuZXIgPSBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcih0aGlzLmRpdiwgJ2NvbnRleHRtZW51JywgaWdub3JlSGFuZGxlcik7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGUgRElWIGNvbnRhaW5pbmcgdGhlIEluZm9Cb3gncyBjb250ZW50IGlzIGF0dGFjaGVkIHRvIHRoZSBET00uXG4gICAgICAgICAgICAgKiBAbmFtZSBJbmZvQm94I2RvbXJlYWR5XG4gICAgICAgICAgICAgKiBAZXZlbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCAnZG9tcmVhZHknKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW5mb0JveC5wcm90b3R5cGUuZ2V0Q2xvc2VCb3hJbWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbWcgPSAnJztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VCb3hVUkwgIT09ICcnKSB7XG4gICAgICAgICAgICBpbWcgPSAnPGltZyBhbHQ9XCJcIic7XG4gICAgICAgICAgICBpbWcgKz0gJyBhcmlhLWhpZGRlbj1cInRydWVcIic7XG4gICAgICAgICAgICBpbWcgKz0gXCIgc3JjPSdcIiArIHRoaXMuY2xvc2VCb3hVUkwgKyBcIidcIjtcbiAgICAgICAgICAgIGltZyArPSAnIGFsaWduPXJpZ2h0JzsgLy8gRG8gdGhpcyBiZWNhdXNlIE9wZXJhIGNob2tlcyBvbiBzdHlsZT0nZmxvYXQ6IHJpZ2h0OydcbiAgICAgICAgICAgIGltZyArPSBcIiBzdHlsZT0nXCI7XG4gICAgICAgICAgICBpbWcgKz0gJyBwb3NpdGlvbjogcmVsYXRpdmU7JzsgLy8gUmVxdWlyZWQgYnkgTVNJRVxuICAgICAgICAgICAgaW1nICs9ICcgY3Vyc29yOiBwb2ludGVyOyc7XG4gICAgICAgICAgICBpbWcgKz0gJyBtYXJnaW46ICcgKyB0aGlzLmNsb3NlQm94TWFyZ2luICsgJzsnO1xuICAgICAgICAgICAgaW1nICs9IFwiJz5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1nO1xuICAgIH07XG4gICAgSW5mb0JveC5wcm90b3R5cGUuYWRkQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNsb3NlTGlzdGVuZXIgPSB0aGlzLmRpdiAmJiB0aGlzLmRpdi5maXJzdENoaWxkICYmIHRoaXMuY2xvc2VCb3hVUkwgIT09ICcnXG4gICAgICAgICAgICA/IGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHRoaXMuZGl2LmZpcnN0Q2hpbGQsICdjbGljaycsIHRoaXMuZ2V0Q2xvc2VDbGlja0hhbmRsZXIoKSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLmNsb3NlQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIDEuMC4zIGZpeDogQWx3YXlzIHByZXZlbnQgcHJvcGFnYXRpb24gb2YgYSBjbG9zZSBib3ggY2xpY2sgdG8gdGhlIG1hcDpcbiAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGUgSW5mb0JveCdzIGNsb3NlIGJveCBpcyBjbGlja2VkLlxuICAgICAgICAgKiBAbmFtZSBJbmZvQm94I2Nsb3NlY2xpY2tcbiAgICAgICAgICogQGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMsICdjbG9zZWNsaWNrJyk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLmdldENsb3NlQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9zZUNsaWNrSGFuZGxlcjtcbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLnBhbkJveCA9IGZ1bmN0aW9uIChkaXNhYmxlUGFuKSB7XG4gICAgICAgIGlmICh0aGlzLmRpdiAmJiAhZGlzYWJsZVBhbikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgICAgICAvLyBPbmx5IHBhbiBpZiBhdHRhY2hlZCB0byBtYXAsIG5vdCBwYW5vcmFtYVxuICAgICAgICAgICAgaWYgKG1hcCBpbnN0YW5jZW9mIGdvb2dsZS5tYXBzLk1hcCkge1xuICAgICAgICAgICAgICAgIHZhciB4T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgeU9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRzICYmICFib3VuZHMuY29udGFpbnModGhpcy5wb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFya2VyIG5vdCBpbiB2aXNpYmxlIGFyZWEgb2YgbWFwLCBzbyBzZXQgY2VudGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mIG1hcCB0byB0aGUgbWFya2VyIHBvc2l0aW9uIGZpcnN0LlxuICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKHRoaXMucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFwRGl2ID0gbWFwLmdldERpdigpO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdmFyIG1hcFdpZHRoID0gbWFwRGl2Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdmFyIG1hcEhlaWdodCA9IG1hcERpdi5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIGl3T2Zmc2V0WCA9IHRoaXMucGl4ZWxPZmZzZXQud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGl3T2Zmc2V0WSA9IHRoaXMucGl4ZWxPZmZzZXQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciBpd1dpZHRoID0gdGhpcy5kaXYub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGl3SGVpZ2h0ID0gdGhpcy5kaXYub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciBwYWRYID0gdGhpcy5pbmZvQm94Q2xlYXJhbmNlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBwYWRZID0gdGhpcy5pbmZvQm94Q2xlYXJhbmNlLmhlaWdodDtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgdmFyIHBpeFBvc2l0aW9uID0gcHJvamVjdGlvbi5mcm9tTGF0TG5nVG9Db250YWluZXJQaXhlbCh0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAocGl4UG9zaXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpeFBvc2l0aW9uLnggPCAtaXdPZmZzZXRYICsgcGFkWCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeE9mZnNldCA9IHBpeFBvc2l0aW9uLnggKyBpd09mZnNldFggLSBwYWRYO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpeFBvc2l0aW9uLnggKyBpd1dpZHRoICsgaXdPZmZzZXRYICsgcGFkWCA+IG1hcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4T2Zmc2V0ID0gcGl4UG9zaXRpb24ueCArIGl3V2lkdGggKyBpd09mZnNldFggKyBwYWRYIC0gbWFwV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWxpZ25Cb3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhQb3NpdGlvbi55IDwgLWl3T2Zmc2V0WSArIHBhZFkgKyBpd0hlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlPZmZzZXQgPSBwaXhQb3NpdGlvbi55ICsgaXdPZmZzZXRZIC0gcGFkWSAtIGl3SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGl4UG9zaXRpb24ueSArIGl3T2Zmc2V0WSArIHBhZFkgPiBtYXBIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5T2Zmc2V0ID0gcGl4UG9zaXRpb24ueSArIGl3T2Zmc2V0WSArIHBhZFkgLSBtYXBIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGl4UG9zaXRpb24ueSA8IC1pd09mZnNldFkgKyBwYWRZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeU9mZnNldCA9IHBpeFBvc2l0aW9uLnkgKyBpd09mZnNldFkgLSBwYWRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGl4UG9zaXRpb24ueSArIGl3SGVpZ2h0ICsgaXdPZmZzZXRZICsgcGFkWSA+IG1hcEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlPZmZzZXQgPSBwaXhQb3NpdGlvbi55ICsgaXdIZWlnaHQgKyBpd09mZnNldFkgKyBwYWRZIC0gbWFwSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKHhPZmZzZXQgPT09IDAgJiYgeU9mZnNldCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSB0aGUgbWFwIHRvIHRoZSBzaGlmdGVkIGNlbnRlci5cbiAgICAgICAgICAgICAgICAgICAgbWFwLnBhbkJ5KHhPZmZzZXQsIHlPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgSW5mb0JveC5wcm90b3R5cGUuc2V0Qm94U3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpdikge1xuICAgICAgICAgICAgLy8gQXBwbHkgc3R5bGUgdmFsdWVzIGZyb20gdGhlIHN0eWxlIHNoZWV0IGRlZmluZWQgaW4gdGhlIGJveENsYXNzIHBhcmFtZXRlcjpcbiAgICAgICAgICAgIHRoaXMuZGl2LmNsYXNzTmFtZSA9IHRoaXMuYm94Q2xhc3M7XG4gICAgICAgICAgICAvLyBDbGVhciBleGlzdGluZyBpbmxpbmUgc3R5bGUgdmFsdWVzOlxuICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUuY3NzVGV4dCA9ICcnO1xuICAgICAgICAgICAgLy8gQXBwbHkgc3R5bGUgdmFsdWVzIGRlZmluZWQgaW4gdGhlIGJveFN0eWxlIHBhcmFtZXRlcjpcbiAgICAgICAgICAgIHZhciBib3hTdHlsZSA9IHRoaXMuYm94U3R5bGU7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIGJveFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChib3hTdHlsZSwgaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlW2ldID0gYm94U3R5bGVbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRml4IGZvciBpT1MgZGlzYXBwZWFyaW5nIEluZm9Cb3ggcHJvYmxlbVxuICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTIyOTUzNS9nb29nbGUtbWFwcy1tYXJrZXJzLWRpc2FwcGVhci1hdC1jZXJ0YWluLXpvb20tbGV2ZWwtb25seS1vbi1pcGhvbmUtaXBhZFxuICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVooMCknO1xuICAgICAgICAgICAgLy8gRml4IHVwIG9wYWNpdHkgc3R5bGUgZm9yIGJlbmVmaXQgb2YgTVNJRVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRpdi5zdHlsZS5vcGFjaXR5ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLmRpdi5zdHlsZS5vcGFjaXR5ICE9PSAnJykge1xuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2Nzcy9vcGFjaXR5Lmh0bWxcbiAgICAgICAgICAgICAgICB2YXIgb3BhY2l0eSA9IHBhcnNlRmxvYXQodGhpcy5kaXYuc3R5bGUub3BhY2l0eSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS5tc0ZpbHRlciA9XG4gICAgICAgICAgICAgICAgICAgICdcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShPcGFjaXR5PScgKyBvcGFjaXR5ICogMTAwICsgJylcIic7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUuZmlsdGVyID0gJ2FscGhhKG9wYWNpdHk9JyArIG9wYWNpdHkgKiAxMDAgKyAnKSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBcHBseSByZXF1aXJlZCBzdHlsZXNcbiAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgIGlmICh0aGlzLnpJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLnpJbmRleCA9IHRoaXMuekluZGV4ICsgJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGl2LnN0eWxlLm92ZXJmbG93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLmdldEJveFdpZHRocyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ3ID0geyB0b3A6IDAsIGJvdHRvbTogMCwgbGVmdDogMCwgcmlnaHQ6IDAgfTtcbiAgICAgICAgaWYgKCF0aGlzLmRpdikge1xuICAgICAgICAgICAgcmV0dXJuIGJ3O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb2N1bWVudC5kZWZhdWx0Vmlldykge1xuICAgICAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmRpdi5vd25lckRvY3VtZW50O1xuICAgICAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBvd25lckRvY3VtZW50ICYmIG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXdcbiAgICAgICAgICAgICAgICA/IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmRpdiwgJycpXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgY29tcHV0ZWQgc3R5bGVzIGFyZSBhbHdheXMgaW4gcGl4ZWwgdW5pdHMgKGdvb2QhKVxuICAgICAgICAgICAgICAgIGJ3LnRvcCA9IHBhcnNlSW50KGNvbXB1dGVkU3R5bGUuYm9yZGVyVG9wV2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICAgICAgICAgIGJ3LmJvdHRvbSA9IHBhcnNlSW50KGNvbXB1dGVkU3R5bGUuYm9yZGVyQm90dG9tV2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICAgICAgICAgIGJ3LmxlZnQgPSBwYXJzZUludChjb21wdXRlZFN0eWxlLmJvcmRlckxlZnRXaWR0aCB8fCAnJywgMTApIHx8IDA7XG4gICAgICAgICAgICAgICAgYncucmlnaHQgPSBwYXJzZUludChjb21wdXRlZFN0eWxlLmJvcmRlclJpZ2h0V2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSAvLyBNU0lFXG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTdHlsZSA9IHRoaXMuZGl2LmN1cnJlbnRTdHlsZTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U3R5bGUpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCBzdHlsZXMgbWF5IG5vdCBiZSBpbiBwaXhlbCB1bml0cywgYnV0IGFzc3VtZSB0aGV5IGFyZSAoYmFkISlcbiAgICAgICAgICAgICAgICBidy50b3AgPSBwYXJzZUludChjdXJyZW50U3R5bGUuYm9yZGVyVG9wV2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICAgICAgICAgIGJ3LmJvdHRvbSA9IHBhcnNlSW50KGN1cnJlbnRTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCB8fCAnJywgMTApIHx8IDA7XG4gICAgICAgICAgICAgICAgYncubGVmdCA9IHBhcnNlSW50KGN1cnJlbnRTdHlsZS5ib3JkZXJMZWZ0V2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICAgICAgICAgIGJ3LnJpZ2h0ID0gcGFyc2VJbnQoY3VycmVudFN0eWxlLmJvcmRlclJpZ2h0V2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidztcbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXYgJiYgdGhpcy5kaXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgICAgICB0aGlzLmRpdiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlSW5mb0JveERpdigpO1xuICAgICAgICBpZiAodGhpcy5kaXYpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHZhciBwcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgICAgICB2YXIgcGl4UG9zaXRpb24gPSBwcm9qZWN0aW9uLmZyb21MYXRMbmdUb0RpdlBpeGVsKHRoaXMucG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHBpeFBvc2l0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHBpeFBvc2l0aW9uLnggKyB0aGlzLnBpeGVsT2Zmc2V0LndpZHRoICsgJ3B4JztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbGlnbkJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS5ib3R0b20gPSAtKHBpeFBvc2l0aW9uLnkgKyB0aGlzLnBpeGVsT2Zmc2V0LmhlaWdodCkgKyAncHgnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gcGl4UG9zaXRpb24ueSArIHRoaXMucGl4ZWxPZmZzZXQuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0hpZGRlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuYm94Q2xhc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBNdXN0IGJlIGZpcnN0XG4gICAgICAgICAgICB0aGlzLmJveENsYXNzID0gb3B0aW9ucy5ib3hDbGFzcztcbiAgICAgICAgICAgIHRoaXMuc2V0Qm94U3R5bGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuYm94U3R5bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBNdXN0IGJlIHNlY29uZFxuICAgICAgICAgICAgdGhpcy5ib3hTdHlsZSA9IG9wdGlvbnMuYm94U3R5bGU7XG4gICAgICAgICAgICB0aGlzLnNldEJveFN0eWxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbnRlbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbnRlbnQob3B0aW9ucy5jb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZGlzYWJsZUF1dG9QYW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVBdXRvUGFuID0gb3B0aW9ucy5kaXNhYmxlQXV0b1BhbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMubWF4V2lkdGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLm1heFdpZHRoID0gb3B0aW9ucy5tYXhXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucGl4ZWxPZmZzZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnBpeGVsT2Zmc2V0ID0gb3B0aW9ucy5waXhlbE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuYWxpZ25Cb3R0b20gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmFsaWduQm90dG9tID0gb3B0aW9ucy5hbGlnbkJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucG9zaXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKG9wdGlvbnMucG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy56SW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnNldFpJbmRleChvcHRpb25zLnpJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNsb3NlQm94TWFyZ2luICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5jbG9zZUJveE1hcmdpbiA9IG9wdGlvbnMuY2xvc2VCb3hNYXJnaW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNsb3NlQm94VVJMICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5jbG9zZUJveFVSTCA9IG9wdGlvbnMuY2xvc2VCb3hVUkw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmluZm9Cb3hDbGVhcmFuY2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmluZm9Cb3hDbGVhcmFuY2UgPSBvcHRpb25zLmluZm9Cb3hDbGVhcmFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmlzSGlkZGVuICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5pc0hpZGRlbiA9IG9wdGlvbnMuaXNIaWRkZW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnZpc2libGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmlzSGlkZGVuID0gIW9wdGlvbnMudmlzaWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZW5hYmxlRXZlbnRQcm9wYWdhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlRXZlbnRQcm9wYWdhdGlvbiA9IG9wdGlvbnMuZW5hYmxlRXZlbnRQcm9wYWdhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kaXYpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbmZvQm94LnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICAgICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5jbG9zZUxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT2RkIGNvZGUgcmVxdWlyZWQgdG8gbWFrZSB0aGluZ3Mgd29yayB3aXRoIE1TSUUuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZml4ZWRXaWR0aFNldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRDbG9zZUJveEltZygpICsgY29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0Q2xvc2VCb3hJbWcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBlcnZlcnNlIGNvZGUgcmVxdWlyZWQgdG8gbWFrZSB0aGluZ3Mgd29yayB3aXRoIE1TSUUuXG4gICAgICAgICAgICAvLyAoRW5zdXJlcyB0aGUgY2xvc2UgYm94IGRvZXMsIGluIGZhY3QsIGZsb2F0IHRvIHRoZSByaWdodC4pXG4gICAgICAgICAgICBpZiAoIXRoaXMuZml4ZWRXaWR0aFNldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy5kaXYub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRDbG9zZUJveEltZygpICsgY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0Q2xvc2VCb3hJbWcoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGRDbGlja0hhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBjb250ZW50IG9mIHRoZSBJbmZvQm94IGNoYW5nZXMuXG4gICAgICAgICAqIEBuYW1lIEluZm9Cb3gjY29udGVudF9jaGFuZ2VkXG4gICAgICAgICAqIEBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCAnY29udGVudF9jaGFuZ2VkJyk7XG4gICAgfTtcbiAgICBJbmZvQm94LnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChsYXRMbmcpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGxhdExuZztcbiAgICAgICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBwb3NpdGlvbiBvZiB0aGUgSW5mb0JveCBjaGFuZ2VzLlxuICAgICAgICAgKiBAbmFtZSBJbmZvQm94I3Bvc2l0aW9uX2NoYW5nZWRcbiAgICAgICAgICogQGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMsICdwb3NpdGlvbl9jaGFuZ2VkJyk7XG4gICAgfTtcbiAgICBJbmZvQm94LnByb3RvdHlwZS5zZXRWaXNpYmxlID0gZnVuY3Rpb24gKGlzVmlzaWJsZSkge1xuICAgICAgICB0aGlzLmlzSGlkZGVuID0gIWlzVmlzaWJsZTtcbiAgICAgICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5pc0hpZGRlbiA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbmZvQm94LnByb3RvdHlwZS5zZXRaSW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdGhpcy56SW5kZXggPSBpbmRleDtcbiAgICAgICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS56SW5kZXggPSBpbmRleCArICcnO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHpJbmRleCBvZiB0aGUgSW5mb0JveCBjaGFuZ2VzLlxuICAgICAgICAgKiBAbmFtZSBJbmZvQm94I3ppbmRleF9jaGFuZ2VkXG4gICAgICAgICAqIEBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCAnemluZGV4X2NoYW5nZWQnKTtcbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7XG4gICAgfTtcbiAgICBJbmZvQm94LnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gICAgfTtcbiAgICBJbmZvQm94LnByb3RvdHlwZS5nZXRaSW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnpJbmRleDtcbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLmdldFZpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICByZXR1cm4gdHlwZW9mIG1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgbWFwID09PSBudWxsID8gZmFsc2UgOiAhdGhpcy5pc0hpZGRlbjtcbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbmZvQm94LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzSGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAobWFwLCBhbmNob3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGFuY2hvcikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGFuY2hvci5nZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5tb3ZlTGlzdGVuZXIgPSBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihhbmNob3IsICdwb3NpdGlvbl9jaGFuZ2VkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gYW5jaG9yLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0UG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm1hcExpc3RlbmVyID0gZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYW5jaG9yLCAnbWFwX2NoYW5nZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRNYXAoYW5jaG9yLm1hcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldE1hcChtYXApO1xuICAgICAgICBpZiAodGhpcy5kaXYpIHtcbiAgICAgICAgICAgIHRoaXMucGFuQm94KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEluZm9Cb3gucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLmNsb3NlTGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ldmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50TGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5ldmVudExpc3RlbmVyc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMubW92ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMubW92ZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXBMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5tYXBMaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLm1hcExpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb250ZXh0TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMuY29udGV4dExpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dExpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5zZXRNYXAobnVsbCk7XG4gICAgfTtcbiAgICBJbmZvQm94LnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAob2JqMSwgb2JqMikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXBwbHlFeHRlbmQob2JqZWN0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywgcHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm90b3R5cGVbcHJvcGVydHldID0gb2JqZWN0LnByb3RvdHlwZVtwcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0uYXBwbHkob2JqMSwgW29iajJdKTtcbiAgICB9O1xuICAgIHJldHVybiBJbmZvQm94O1xufSgpKTtcblxuY29uc3QgZXZlbnRNYXAkZCA9IHtcbiAgICBvbkNsb3NlQ2xpY2s6ICdjbG9zZWNsaWNrJyxcbiAgICBvbkNvbnRlbnRDaGFuZ2VkOiAnY29udGVudF9jaGFuZ2VkJyxcbiAgICBvbkRvbVJlYWR5OiAnZG9tcmVhZHknLFxuICAgIG9uUG9zaXRpb25DaGFuZ2VkOiAncG9zaXRpb25fY2hhbmdlZCcsXG4gICAgb25aaW5kZXhDaGFuZ2VkOiAnemluZGV4X2NoYW5nZWQnLFxufTtcbmNvbnN0IHVwZGF0ZXJNYXAkZCA9IHtcbiAgICBvcHRpb25zKGluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfSxcbiAgICBwb3NpdGlvbihpbnN0YW5jZSwgcG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uIGluc3RhbmNlb2YgZ29vZ2xlLm1hcHMuTGF0TG5nKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRQb3NpdGlvbihuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHBvc2l0aW9uLmxhdCwgcG9zaXRpb24ubG5nKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHZpc2libGUoaW5zdGFuY2UsIHZpc2libGUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9LFxuICAgIHpJbmRleChpbnN0YW5jZSwgekluZGV4KSB7XG4gICAgICAgIGluc3RhbmNlLnNldFpJbmRleCh6SW5kZXgpO1xuICAgIH0sXG59O1xuY29uc3QgZGVmYXVsdE9wdGlvbnMkMyA9IHt9O1xuZnVuY3Rpb24gSW5mb0JveEZ1bmN0aW9uYWwoeyBjaGlsZHJlbiwgYW5jaG9yLCBvcHRpb25zLCBwb3NpdGlvbiwgekluZGV4LCBvbkNsb3NlQ2xpY2ssIG9uRG9tUmVhZHksIG9uQ29udGVudENoYW5nZWQsIG9uUG9zaXRpb25DaGFuZ2VkLCBvblppbmRleENoYW5nZWQsIG9uTG9hZCwgb25Vbm1vdW50IH0pIHtcbiAgICBjb25zdCBtYXAgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICAgIGNvbnN0IFtpbnN0YW5jZSwgc2V0SW5zdGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2Nsb3NlY2xpY2tMaXN0ZW5lciwgc2V0Q2xvc2VDbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkb21yZWFkeWNsaWNrTGlzdGVuZXIsIHNldERvbVJlYWR5Q2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29udGVudGNoYW5nZWRjbGlja0xpc3RlbmVyLCBzZXRDb250ZW50Q2hhbmdlZENsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3Bvc2l0aW9uY2hhbmdlZGNsaWNrTGlzdGVuZXIsIHNldFBvc2l0aW9uQ2hhbmdlZENsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3ppbmRleGNoYW5nZWRjbGlja0xpc3RlbmVyLCBzZXRaaW5kZXhDaGFuZ2VkQ2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBjb250YWluZXJFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpO1xuICAgIC8vIE9yZGVyIGRvZXMgbWF0dGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG1hcCAmJiBpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgICAgIGlmIChhbmNob3IpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5vcGVuKG1hcCwgYW5jaG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGluc3RhbmNlLmdldFBvc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5vcGVuKG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbbWFwLCBpbnN0YW5jZSwgYW5jaG9yXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9LCBbaW5zdGFuY2UsIG9wdGlvbnNdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocG9zaXRpb24gJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uTGF0TG5nID0gcG9zaXRpb24gaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmdcbiAgICAgICAgICAgICAgICA/IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIDogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhwb3NpdGlvbi5sYXQsIHBvc2l0aW9uLmxuZyk7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRQb3NpdGlvbihwb3NpdGlvbkxhdExuZyk7XG4gICAgICAgIH1cbiAgICB9LCBbcG9zaXRpb25dKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHpJbmRleCA9PT0gJ251bWJlcicgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldFpJbmRleCh6SW5kZXgpO1xuICAgICAgICB9XG4gICAgfSwgW3pJbmRleF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkNsb3NlQ2xpY2spIHtcbiAgICAgICAgICAgIGlmIChjbG9zZWNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjbG9zZWNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q2xvc2VDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnY2xvc2VjbGljaycsIG9uQ2xvc2VDbGljaykpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xvc2VDbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkRvbVJlYWR5KSB7XG4gICAgICAgICAgICBpZiAoZG9tcmVhZHljbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZG9tcmVhZHljbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldERvbVJlYWR5Q2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2RvbXJlYWR5Jywgb25Eb21SZWFkeSkpO1xuICAgICAgICB9XG4gICAgfSwgW29uRG9tUmVhZHldKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Db250ZW50Q2hhbmdlZCkge1xuICAgICAgICAgICAgaWYgKGNvbnRlbnRjaGFuZ2VkY2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGNvbnRlbnRjaGFuZ2VkY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDb250ZW50Q2hhbmdlZENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdjb250ZW50X2NoYW5nZWQnLCBvbkNvbnRlbnRDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Db250ZW50Q2hhbmdlZF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvblBvc2l0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uY2hhbmdlZGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihwb3NpdGlvbmNoYW5nZWRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFBvc2l0aW9uQ2hhbmdlZENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdwb3NpdGlvbl9jaGFuZ2VkJywgb25Qb3NpdGlvbkNoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvblBvc2l0aW9uQ2hhbmdlZF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvblppbmRleENoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmICh6aW5kZXhjaGFuZ2VkY2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHppbmRleGNoYW5nZWRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFppbmRleENoYW5nZWRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnemluZGV4X2NoYW5nZWQnLCBvblppbmRleENoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvblppbmRleENoYW5nZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgICBjb25zdCBfYSA9IG9wdGlvbnMgfHwgZGVmYXVsdE9wdGlvbnMkMywgeyBwb3NpdGlvbiB9ID0gX2EsIGluZm9Cb3hPcHRpb25zID0gX19yZXN0JDEoX2EsIFtcInBvc2l0aW9uXCJdKTtcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbkxhdExuZztcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiAmJiAhKHBvc2l0aW9uIGluc3RhbmNlb2YgZ29vZ2xlLm1hcHMuTGF0TG5nKSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkxhdExuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcocG9zaXRpb24ubGF0LCBwb3NpdGlvbi5sbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5mb0JveCA9IG5ldyBJbmZvQm94KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5mb0JveE9wdGlvbnMpLCAocG9zaXRpb25MYXRMbmcgPyB7IHBvc2l0aW9uOiBwb3NpdGlvbkxhdExuZyB9IDoge30pKSk7XG4gICAgICAgICAgICBjb250YWluZXJFbGVtZW50UmVmLmN1cnJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHNldEluc3RhbmNlKGluZm9Cb3gpO1xuICAgICAgICAgICAgaWYgKG9uQ2xvc2VDbGljaykge1xuICAgICAgICAgICAgICAgIHNldENsb3NlQ2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbmZvQm94LCAnY2xvc2VjbGljaycsIG9uQ2xvc2VDbGljaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uRG9tUmVhZHkpIHtcbiAgICAgICAgICAgICAgICBzZXREb21SZWFkeUNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5mb0JveCwgJ2RvbXJlYWR5Jywgb25Eb21SZWFkeSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uQ29udGVudENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBzZXRDb250ZW50Q2hhbmdlZENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5mb0JveCwgJ2NvbnRlbnRfY2hhbmdlZCcsIG9uQ29udGVudENoYW5nZWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvblBvc2l0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHNldFBvc2l0aW9uQ2hhbmdlZENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5mb0JveCwgJ3Bvc2l0aW9uX2NoYW5nZWQnLCBvblBvc2l0aW9uQ2hhbmdlZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uWmluZGV4Q2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHNldFppbmRleENoYW5nZWRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluZm9Cb3gsICd6aW5kZXhfY2hhbmdlZCcsIG9uWmluZGV4Q2hhbmdlZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5mb0JveC5zZXRDb250ZW50KGNvbnRhaW5lckVsZW1lbnRSZWYuY3VycmVudCk7XG4gICAgICAgICAgICBpZiAoYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgaW5mb0JveC5vcGVuKG1hcCwgYW5jaG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGluZm9Cb3guZ2V0UG9zaXRpb24oKSkge1xuICAgICAgICAgICAgICAgIGluZm9Cb3gub3BlbihtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW52YXJpYW50XzEoZmFsc2UsICdZb3UgbXVzdCBwcm92aWRlIGVpdGhlciBhbiBhbmNob3Igb3IgYSBwb3NpdGlvbiBwcm9wIGZvciA8SW5mb0JveD4uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgb25Mb2FkKGluZm9Cb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VjbGlja0xpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGNsb3NlY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb250ZW50Y2hhbmdlZGNsaWNrTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoY29udGVudGNoYW5nZWRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbXJlYWR5Y2xpY2tMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkb21yZWFkeWNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25jaGFuZ2VkY2xpY2tMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihwb3NpdGlvbmNoYW5nZWRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHppbmRleGNoYW5nZWRjbGlja0xpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHppbmRleGNoYW5nZWRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBvblVubW91bnQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gY29udGFpbmVyRWxlbWVudFJlZi5jdXJyZW50ID8gY3JlYXRlUG9ydGFsKENoaWxkcmVuLm9ubHkoY2hpbGRyZW4pLCBjb250YWluZXJFbGVtZW50UmVmLmN1cnJlbnQpIDogbnVsbDtcbn1cbmNvbnN0IEluZm9Cb3hGID0gbWVtbyhJbmZvQm94RnVuY3Rpb25hbCk7XG5jbGFzcyBJbmZvQm94Q29tcG9uZW50IGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW5mb0JveDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcGVuID0gKGluZm9Cb3gsIGFuY2hvcikgPT4ge1xuICAgICAgICAgICAgaWYgKGFuY2hvcikge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBpbmZvQm94Lm9wZW4odGhpcy5jb250ZXh0LCBhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5mb0JveC5nZXRQb3NpdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGluZm9Cb3gub3Blbih0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW52YXJpYW50XzEoZmFsc2UsICdZb3UgbXVzdCBwcm92aWRlIGVpdGhlciBhbiBhbmNob3Igb3IgYSBwb3NpdGlvbiBwcm9wIGZvciA8SW5mb0JveD4uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0SW5mb0JveENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaW5mb0JveCAhPT0gbnVsbCAmJiB0aGlzLmNvbnRhaW5lckVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmluZm9Cb3guc2V0Q29udGVudCh0aGlzLmNvbnRhaW5lckVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMub3Blbih0aGlzLnN0YXRlLmluZm9Cb3gsIHRoaXMucHJvcHMuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkxvYWQodGhpcy5zdGF0ZS5pbmZvQm94KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCBfYSA9IHRoaXMucHJvcHMub3B0aW9ucyB8fCB7fSwgeyBwb3NpdGlvbiB9ID0gX2EsIGluZm9Cb3hPcHRpb25zID0gX19yZXN0JDEoX2EsIFtcInBvc2l0aW9uXCJdKTtcbiAgICAgICAgbGV0IHBvc2l0aW9uTGF0TG5nO1xuICAgICAgICBpZiAocG9zaXRpb24gJiYgIShwb3NpdGlvbiBpbnN0YW5jZW9mIGdvb2dsZS5tYXBzLkxhdExuZykpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHBvc2l0aW9uTGF0TG5nID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhwb3NpdGlvbi5sYXQsIHBvc2l0aW9uLmxuZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5mb0JveCA9IG5ldyBJbmZvQm94KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5mb0JveE9wdGlvbnMpLCAocG9zaXRpb25MYXRMbmcgPyB7IHBvc2l0aW9uOiBwb3NpdGlvbkxhdExuZyB9IDoge30pKSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkZCxcbiAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRkLFxuICAgICAgICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGluc3RhbmNlOiBpbmZvQm94LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGluZm9Cb3ggfSwgdGhpcy5zZXRJbmZvQm94Q2FsbGJhY2spO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGNvbnN0IHsgaW5mb0JveCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKGluZm9Cb3ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkZCxcbiAgICAgICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkZCxcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiBpbmZvQm94LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHsgb25Vbm1vdW50IH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7IGluZm9Cb3ggfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmIChpbmZvQm94ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAob25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgb25Vbm1vdW50KGluZm9Cb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgaW5mb0JveC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyRWxlbWVudCA/IGNyZWF0ZVBvcnRhbChDaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pLCB0aGlzLmNvbnRhaW5lckVsZW1lbnQpIDogbnVsbDtcbiAgICB9XG59XG5JbmZvQm94Q29tcG9uZW50LmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxuLy8gZG8gbm90IGVkaXQgLmpzIGZpbGVzIGRpcmVjdGx5IC0gZWRpdCBzcmMvaW5kZXguanN0XG5cblxuXG52YXIgZmFzdERlZXBFcXVhbCA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuXG52YXIga2RidXNoID0ge2V4cG9ydHM6IHt9fTtcblxuKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcblx0KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgO1xuXHR9KGNvbW1vbmpzR2xvYmFsLCAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBzb3J0S0QoaWRzLCBjb29yZHMsIG5vZGVTaXplLCBsZWZ0LCByaWdodCwgZGVwdGgpIHtcblx0ICAgIGlmIChyaWdodCAtIGxlZnQgPD0gbm9kZVNpemUpIHsgcmV0dXJuOyB9XG5cblx0ICAgIHZhciBtID0gKGxlZnQgKyByaWdodCkgPj4gMTtcblxuXHQgICAgc2VsZWN0KGlkcywgY29vcmRzLCBtLCBsZWZ0LCByaWdodCwgZGVwdGggJSAyKTtcblxuXHQgICAgc29ydEtEKGlkcywgY29vcmRzLCBub2RlU2l6ZSwgbGVmdCwgbSAtIDEsIGRlcHRoICsgMSk7XG5cdCAgICBzb3J0S0QoaWRzLCBjb29yZHMsIG5vZGVTaXplLCBtICsgMSwgcmlnaHQsIGRlcHRoICsgMSk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZWxlY3QoaWRzLCBjb29yZHMsIGssIGxlZnQsIHJpZ2h0LCBpbmMpIHtcblxuXHQgICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkge1xuXHQgICAgICAgIGlmIChyaWdodCAtIGxlZnQgPiA2MDApIHtcblx0ICAgICAgICAgICAgdmFyIG4gPSByaWdodCAtIGxlZnQgKyAxO1xuXHQgICAgICAgICAgICB2YXIgbSA9IGsgLSBsZWZ0ICsgMTtcblx0ICAgICAgICAgICAgdmFyIHogPSBNYXRoLmxvZyhuKTtcblx0ICAgICAgICAgICAgdmFyIHMgPSAwLjUgKiBNYXRoLmV4cCgyICogeiAvIDMpO1xuXHQgICAgICAgICAgICB2YXIgc2QgPSAwLjUgKiBNYXRoLnNxcnQoeiAqIHMgKiAobiAtIHMpIC8gbikgKiAobSAtIG4gLyAyIDwgMCA/IC0xIDogMSk7XG5cdCAgICAgICAgICAgIHZhciBuZXdMZWZ0ID0gTWF0aC5tYXgobGVmdCwgTWF0aC5mbG9vcihrIC0gbSAqIHMgLyBuICsgc2QpKTtcblx0ICAgICAgICAgICAgdmFyIG5ld1JpZ2h0ID0gTWF0aC5taW4ocmlnaHQsIE1hdGguZmxvb3IoayArIChuIC0gbSkgKiBzIC8gbiArIHNkKSk7XG5cdCAgICAgICAgICAgIHNlbGVjdChpZHMsIGNvb3JkcywgaywgbmV3TGVmdCwgbmV3UmlnaHQsIGluYyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHQgPSBjb29yZHNbMiAqIGsgKyBpbmNdO1xuXHQgICAgICAgIHZhciBpID0gbGVmdDtcblx0ICAgICAgICB2YXIgaiA9IHJpZ2h0O1xuXG5cdCAgICAgICAgc3dhcEl0ZW0oaWRzLCBjb29yZHMsIGxlZnQsIGspO1xuXHQgICAgICAgIGlmIChjb29yZHNbMiAqIHJpZ2h0ICsgaW5jXSA+IHQpIHsgc3dhcEl0ZW0oaWRzLCBjb29yZHMsIGxlZnQsIHJpZ2h0KTsgfVxuXG5cdCAgICAgICAgd2hpbGUgKGkgPCBqKSB7XG5cdCAgICAgICAgICAgIHN3YXBJdGVtKGlkcywgY29vcmRzLCBpLCBqKTtcblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgICAgICBqLS07XG5cdCAgICAgICAgICAgIHdoaWxlIChjb29yZHNbMiAqIGkgKyBpbmNdIDwgdCkgeyBpKys7IH1cblx0ICAgICAgICAgICAgd2hpbGUgKGNvb3Jkc1syICogaiArIGluY10gPiB0KSB7IGotLTsgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChjb29yZHNbMiAqIGxlZnQgKyBpbmNdID09PSB0KSB7IHN3YXBJdGVtKGlkcywgY29vcmRzLCBsZWZ0LCBqKTsgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBqKys7XG5cdCAgICAgICAgICAgIHN3YXBJdGVtKGlkcywgY29vcmRzLCBqLCByaWdodCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKGogPD0gaykgeyBsZWZ0ID0gaiArIDE7IH1cblx0ICAgICAgICBpZiAoayA8PSBqKSB7IHJpZ2h0ID0gaiAtIDE7IH1cblx0ICAgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIHN3YXBJdGVtKGlkcywgY29vcmRzLCBpLCBqKSB7XG5cdCAgICBzd2FwKGlkcywgaSwgaik7XG5cdCAgICBzd2FwKGNvb3JkcywgMiAqIGksIDIgKiBqKTtcblx0ICAgIHN3YXAoY29vcmRzLCAyICogaSArIDEsIDIgKiBqICsgMSk7XG5cdH1cblxuXHRmdW5jdGlvbiBzd2FwKGFyciwgaSwgaikge1xuXHQgICAgdmFyIHRtcCA9IGFycltpXTtcblx0ICAgIGFycltpXSA9IGFycltqXTtcblx0ICAgIGFycltqXSA9IHRtcDtcblx0fVxuXG5cdGZ1bmN0aW9uIHJhbmdlKGlkcywgY29vcmRzLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBub2RlU2l6ZSkge1xuXHQgICAgdmFyIHN0YWNrID0gWzAsIGlkcy5sZW5ndGggLSAxLCAwXTtcblx0ICAgIHZhciByZXN1bHQgPSBbXTtcblx0ICAgIHZhciB4LCB5O1xuXG5cdCAgICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIGF4aXMgPSBzdGFjay5wb3AoKTtcblx0ICAgICAgICB2YXIgcmlnaHQgPSBzdGFjay5wb3AoKTtcblx0ICAgICAgICB2YXIgbGVmdCA9IHN0YWNrLnBvcCgpO1xuXG5cdCAgICAgICAgaWYgKHJpZ2h0IC0gbGVmdCA8PSBub2RlU2l6ZSkge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gbGVmdDsgaSA8PSByaWdodDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB4ID0gY29vcmRzWzIgKiBpXTtcblx0ICAgICAgICAgICAgICAgIHkgPSBjb29yZHNbMiAqIGkgKyAxXTtcblx0ICAgICAgICAgICAgICAgIGlmICh4ID49IG1pblggJiYgeCA8PSBtYXhYICYmIHkgPj0gbWluWSAmJiB5IDw9IG1heFkpIHsgcmVzdWx0LnB1c2goaWRzW2ldKTsgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBtID0gTWF0aC5mbG9vcigobGVmdCArIHJpZ2h0KSAvIDIpO1xuXG5cdCAgICAgICAgeCA9IGNvb3Jkc1syICogbV07XG5cdCAgICAgICAgeSA9IGNvb3Jkc1syICogbSArIDFdO1xuXG5cdCAgICAgICAgaWYgKHggPj0gbWluWCAmJiB4IDw9IG1heFggJiYgeSA+PSBtaW5ZICYmIHkgPD0gbWF4WSkgeyByZXN1bHQucHVzaChpZHNbbV0pOyB9XG5cblx0ICAgICAgICB2YXIgbmV4dEF4aXMgPSAoYXhpcyArIDEpICUgMjtcblxuXHQgICAgICAgIGlmIChheGlzID09PSAwID8gbWluWCA8PSB4IDogbWluWSA8PSB5KSB7XG5cdCAgICAgICAgICAgIHN0YWNrLnB1c2gobGVmdCk7XG5cdCAgICAgICAgICAgIHN0YWNrLnB1c2gobSAtIDEpO1xuXHQgICAgICAgICAgICBzdGFjay5wdXNoKG5leHRBeGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGF4aXMgPT09IDAgPyBtYXhYID49IHggOiBtYXhZID49IHkpIHtcblx0ICAgICAgICAgICAgc3RhY2sucHVzaChtICsgMSk7XG5cdCAgICAgICAgICAgIHN0YWNrLnB1c2gocmlnaHQpO1xuXHQgICAgICAgICAgICBzdGFjay5wdXNoKG5leHRBeGlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiB3aXRoaW4oaWRzLCBjb29yZHMsIHF4LCBxeSwgciwgbm9kZVNpemUpIHtcblx0ICAgIHZhciBzdGFjayA9IFswLCBpZHMubGVuZ3RoIC0gMSwgMF07XG5cdCAgICB2YXIgcmVzdWx0ID0gW107XG5cdCAgICB2YXIgcjIgPSByICogcjtcblxuXHQgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuXHQgICAgICAgIHZhciBheGlzID0gc3RhY2sucG9wKCk7XG5cdCAgICAgICAgdmFyIHJpZ2h0ID0gc3RhY2sucG9wKCk7XG5cdCAgICAgICAgdmFyIGxlZnQgPSBzdGFjay5wb3AoKTtcblxuXHQgICAgICAgIGlmIChyaWdodCAtIGxlZnQgPD0gbm9kZVNpemUpIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxlZnQ7IGkgPD0gcmlnaHQ7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKHNxRGlzdChjb29yZHNbMiAqIGldLCBjb29yZHNbMiAqIGkgKyAxXSwgcXgsIHF5KSA8PSByMikgeyByZXN1bHQucHVzaChpZHNbaV0pOyB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKChsZWZ0ICsgcmlnaHQpIC8gMik7XG5cblx0ICAgICAgICB2YXIgeCA9IGNvb3Jkc1syICogbV07XG5cdCAgICAgICAgdmFyIHkgPSBjb29yZHNbMiAqIG0gKyAxXTtcblxuXHQgICAgICAgIGlmIChzcURpc3QoeCwgeSwgcXgsIHF5KSA8PSByMikgeyByZXN1bHQucHVzaChpZHNbbV0pOyB9XG5cblx0ICAgICAgICB2YXIgbmV4dEF4aXMgPSAoYXhpcyArIDEpICUgMjtcblxuXHQgICAgICAgIGlmIChheGlzID09PSAwID8gcXggLSByIDw9IHggOiBxeSAtIHIgPD0geSkge1xuXHQgICAgICAgICAgICBzdGFjay5wdXNoKGxlZnQpO1xuXHQgICAgICAgICAgICBzdGFjay5wdXNoKG0gLSAxKTtcblx0ICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0QXhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChheGlzID09PSAwID8gcXggKyByID49IHggOiBxeSArIHIgPj0geSkge1xuXHQgICAgICAgICAgICBzdGFjay5wdXNoKG0gKyAxKTtcblx0ICAgICAgICAgICAgc3RhY2sucHVzaChyaWdodCk7XG5cdCAgICAgICAgICAgIHN0YWNrLnB1c2gobmV4dEF4aXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGZ1bmN0aW9uIHNxRGlzdChheCwgYXksIGJ4LCBieSkge1xuXHQgICAgdmFyIGR4ID0gYXggLSBieDtcblx0ICAgIHZhciBkeSA9IGF5IC0gYnk7XG5cdCAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG5cdH1cblxuXHR2YXIgZGVmYXVsdEdldFggPSBmdW5jdGlvbiAocCkgeyByZXR1cm4gcFswXTsgfTtcblx0dmFyIGRlZmF1bHRHZXRZID0gZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBbMV07IH07XG5cblx0dmFyIEtEQnVzaCA9IGZ1bmN0aW9uIEtEQnVzaChwb2ludHMsIGdldFgsIGdldFksIG5vZGVTaXplLCBBcnJheVR5cGUpIHtcblx0ICAgIGlmICggZ2V0WCA9PT0gdm9pZCAwICkgZ2V0WCA9IGRlZmF1bHRHZXRYO1xuXHQgICAgaWYgKCBnZXRZID09PSB2b2lkIDAgKSBnZXRZID0gZGVmYXVsdEdldFk7XG5cdCAgICBpZiAoIG5vZGVTaXplID09PSB2b2lkIDAgKSBub2RlU2l6ZSA9IDY0O1xuXHQgICAgaWYgKCBBcnJheVR5cGUgPT09IHZvaWQgMCApIEFycmF5VHlwZSA9IEZsb2F0NjRBcnJheTtcblxuXHQgICAgdGhpcy5ub2RlU2l6ZSA9IG5vZGVTaXplO1xuXHQgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cblx0ICAgIHZhciBJbmRleEFycmF5VHlwZSA9IHBvaW50cy5sZW5ndGggPCA2NTUzNiA/IFVpbnQxNkFycmF5IDogVWludDMyQXJyYXk7XG5cblx0ICAgIHZhciBpZHMgPSB0aGlzLmlkcyA9IG5ldyBJbmRleEFycmF5VHlwZShwb2ludHMubGVuZ3RoKTtcblx0ICAgIHZhciBjb29yZHMgPSB0aGlzLmNvb3JkcyA9IG5ldyBBcnJheVR5cGUocG9pbnRzLmxlbmd0aCAqIDIpO1xuXG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlkc1tpXSA9IGk7XG5cdCAgICAgICAgY29vcmRzWzIgKiBpXSA9IGdldFgocG9pbnRzW2ldKTtcblx0ICAgICAgICBjb29yZHNbMiAqIGkgKyAxXSA9IGdldFkocG9pbnRzW2ldKTtcblx0ICAgIH1cblxuXHQgICAgc29ydEtEKGlkcywgY29vcmRzLCBub2RlU2l6ZSwgMCwgaWRzLmxlbmd0aCAtIDEsIDApO1xuXHR9O1xuXG5cdEtEQnVzaC5wcm90b3R5cGUucmFuZ2UgPSBmdW5jdGlvbiByYW5nZSQxIChtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKSB7XG5cdCAgICByZXR1cm4gcmFuZ2UodGhpcy5pZHMsIHRoaXMuY29vcmRzLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB0aGlzLm5vZGVTaXplKTtcblx0fTtcblxuXHRLREJ1c2gucHJvdG90eXBlLndpdGhpbiA9IGZ1bmN0aW9uIHdpdGhpbiQxICh4LCB5LCByKSB7XG5cdCAgICByZXR1cm4gd2l0aGluKHRoaXMuaWRzLCB0aGlzLmNvb3JkcywgeCwgeSwgciwgdGhpcy5ub2RlU2l6ZSk7XG5cdH07XG5cblx0cmV0dXJuIEtEQnVzaDtcblxuXHR9KSkpO1xufSAoa2RidXNoKSk7XG5cbnZhciBLREJ1c2ggPSBrZGJ1c2guZXhwb3J0cztcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkMiA9IHtcbiAgICBtaW5ab29tOiAwLCAgIC8vIG1pbiB6b29tIHRvIGdlbmVyYXRlIGNsdXN0ZXJzIG9uXG4gICAgbWF4Wm9vbTogMTYsICAvLyBtYXggem9vbSBsZXZlbCB0byBjbHVzdGVyIHRoZSBwb2ludHMgb25cbiAgICBtaW5Qb2ludHM6IDIsIC8vIG1pbmltdW0gcG9pbnRzIHRvIGZvcm0gYSBjbHVzdGVyXG4gICAgcmFkaXVzOiA0MCwgICAvLyBjbHVzdGVyIHJhZGl1cyBpbiBwaXhlbHNcbiAgICBleHRlbnQ6IDUxMiwgIC8vIHRpbGUgZXh0ZW50IChyYWRpdXMgaXMgY2FsY3VsYXRlZCByZWxhdGl2ZSB0byBpdClcbiAgICBub2RlU2l6ZTogNjQsIC8vIHNpemUgb2YgdGhlIEtELXRyZWUgbGVhZiBub2RlLCBhZmZlY3RzIHBlcmZvcm1hbmNlXG4gICAgbG9nOiBmYWxzZSwgICAvLyB3aGV0aGVyIHRvIGxvZyB0aW1pbmcgaW5mb1xuXG4gICAgLy8gd2hldGhlciB0byBnZW5lcmF0ZSBudW1lcmljIGlkcyBmb3IgaW5wdXQgZmVhdHVyZXMgKGluIHZlY3RvciB0aWxlcylcbiAgICBnZW5lcmF0ZUlkOiBmYWxzZSxcblxuICAgIC8vIGEgcmVkdWNlIGZ1bmN0aW9uIGZvciBjYWxjdWxhdGluZyBjdXN0b20gY2x1c3RlciBwcm9wZXJ0aWVzXG4gICAgcmVkdWNlOiBudWxsLCAvLyAoYWNjdW11bGF0ZWQsIHByb3BzKSA9PiB7IGFjY3VtdWxhdGVkLnN1bSArPSBwcm9wcy5zdW07IH1cblxuICAgIC8vIHByb3BlcnRpZXMgdG8gdXNlIGZvciBpbmRpdmlkdWFsIHBvaW50cyB3aGVuIHJ1bm5pbmcgdGhlIHJlZHVjZXJcbiAgICBtYXA6IHByb3BzID0+IHByb3BzIC8vIHByb3BzID0+ICh7c3VtOiBwcm9wcy5teV92YWx1ZX0pXG59O1xuXG5jb25zdCBmcm91bmQgPSBNYXRoLmZyb3VuZCB8fCAodG1wID0+ICgoeCkgPT4geyB0bXBbMF0gPSAreDsgcmV0dXJuIHRtcFswXTsgfSkpKG5ldyBGbG9hdDMyQXJyYXkoMSkpO1xuXG5jbGFzcyBTdXBlcmNsdXN0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kJDEoT2JqZWN0LmNyZWF0ZShkZWZhdWx0T3B0aW9ucyQyKSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudHJlZXMgPSBuZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20gKyAxKTtcbiAgICB9XG5cbiAgICBsb2FkKHBvaW50cykge1xuICAgICAgICBjb25zdCB7bG9nLCBtaW5ab29tLCBtYXhab29tLCBub2RlU2l6ZX0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKGxvZykgY29uc29sZS50aW1lKCd0b3RhbCB0aW1lJyk7XG5cbiAgICAgICAgY29uc3QgdGltZXJJZCA9IGBwcmVwYXJlICR7ICBwb2ludHMubGVuZ3RoICB9IHBvaW50c2A7XG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZSh0aW1lcklkKTtcblxuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgICAgICAvLyBnZW5lcmF0ZSBhIGNsdXN0ZXIgb2JqZWN0IGZvciBlYWNoIHBvaW50IGFuZCBpbmRleCBpbnB1dCBwb2ludHMgaW50byBhIEtELXRyZWVcbiAgICAgICAgbGV0IGNsdXN0ZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXBvaW50c1tpXS5nZW9tZXRyeSkgY29udGludWU7XG4gICAgICAgICAgICBjbHVzdGVycy5wdXNoKGNyZWF0ZVBvaW50Q2x1c3Rlcihwb2ludHNbaV0sIGkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyZWVzW21heFpvb20gKyAxXSA9IG5ldyBLREJ1c2goY2x1c3RlcnMsIGdldFgsIGdldFksIG5vZGVTaXplLCBGbG9hdDMyQXJyYXkpO1xuXG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZUVuZCh0aW1lcklkKTtcblxuICAgICAgICAvLyBjbHVzdGVyIHBvaW50cyBvbiBtYXggem9vbSwgdGhlbiBjbHVzdGVyIHRoZSByZXN1bHRzIG9uIHByZXZpb3VzIHpvb20sIGV0Yy47XG4gICAgICAgIC8vIHJlc3VsdHMgaW4gYSBjbHVzdGVyIGhpZXJhcmNoeSBhY3Jvc3Mgem9vbSBsZXZlbHNcbiAgICAgICAgZm9yIChsZXQgeiA9IG1heFpvb207IHogPj0gbWluWm9vbTsgei0tKSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSArRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHNldCBvZiBjbHVzdGVycyBmb3IgdGhlIHpvb20gYW5kIGluZGV4IHRoZW0gd2l0aCBhIEtELXRyZWVcbiAgICAgICAgICAgIGNsdXN0ZXJzID0gdGhpcy5fY2x1c3RlcihjbHVzdGVycywgeik7XG4gICAgICAgICAgICB0aGlzLnRyZWVzW3pdID0gbmV3IEtEQnVzaChjbHVzdGVycywgZ2V0WCwgZ2V0WSwgbm9kZVNpemUsIEZsb2F0MzJBcnJheSk7XG5cbiAgICAgICAgICAgIGlmIChsb2cpIGNvbnNvbGUubG9nKCd6JWQ6ICVkIGNsdXN0ZXJzIGluICVkbXMnLCB6LCBjbHVzdGVycy5sZW5ndGgsICtEYXRlLm5vdygpIC0gbm93KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZUVuZCgndG90YWwgdGltZScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldENsdXN0ZXJzKGJib3gsIHpvb20pIHtcbiAgICAgICAgbGV0IG1pbkxuZyA9ICgoYmJveFswXSArIDE4MCkgJSAzNjAgKyAzNjApICUgMzYwIC0gMTgwO1xuICAgICAgICBjb25zdCBtaW5MYXQgPSBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCBiYm94WzFdKSk7XG4gICAgICAgIGxldCBtYXhMbmcgPSBiYm94WzJdID09PSAxODAgPyAxODAgOiAoKGJib3hbMl0gKyAxODApICUgMzYwICsgMzYwKSAlIDM2MCAtIDE4MDtcbiAgICAgICAgY29uc3QgbWF4TGF0ID0gTWF0aC5tYXgoLTkwLCBNYXRoLm1pbig5MCwgYmJveFszXSkpO1xuXG4gICAgICAgIGlmIChiYm94WzJdIC0gYmJveFswXSA+PSAzNjApIHtcbiAgICAgICAgICAgIG1pbkxuZyA9IC0xODA7XG4gICAgICAgICAgICBtYXhMbmcgPSAxODA7XG4gICAgICAgIH0gZWxzZSBpZiAobWluTG5nID4gbWF4TG5nKSB7XG4gICAgICAgICAgICBjb25zdCBlYXN0ZXJuSGVtID0gdGhpcy5nZXRDbHVzdGVycyhbbWluTG5nLCBtaW5MYXQsIDE4MCwgbWF4TGF0XSwgem9vbSk7XG4gICAgICAgICAgICBjb25zdCB3ZXN0ZXJuSGVtID0gdGhpcy5nZXRDbHVzdGVycyhbLTE4MCwgbWluTGF0LCBtYXhMbmcsIG1heExhdF0sIHpvb20pO1xuICAgICAgICAgICAgcmV0dXJuIGVhc3Rlcm5IZW0uY29uY2F0KHdlc3Rlcm5IZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHpvb20pXTtcbiAgICAgICAgY29uc3QgaWRzID0gdHJlZS5yYW5nZShsbmdYKG1pbkxuZyksIGxhdFkobWF4TGF0KSwgbG5nWChtYXhMbmcpLCBsYXRZKG1pbkxhdCkpO1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgY29uc3QgYyA9IHRyZWUucG9pbnRzW2lkXTtcbiAgICAgICAgICAgIGNsdXN0ZXJzLnB1c2goYy5udW1Qb2ludHMgPyBnZXRDbHVzdGVySlNPTihjKSA6IHRoaXMucG9pbnRzW2MuaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2x1c3RlcnM7XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRyZW4oY2x1c3RlcklkKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbklkID0gdGhpcy5fZ2V0T3JpZ2luSWQoY2x1c3RlcklkKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luWm9vbSA9IHRoaXMuX2dldE9yaWdpblpvb20oY2x1c3RlcklkKTtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSAnTm8gY2x1c3RlciB3aXRoIHRoZSBzcGVjaWZpZWQgaWQuJztcblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudHJlZXNbb3JpZ2luWm9vbV07XG4gICAgICAgIGlmICghaW5kZXgpIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luID0gaW5kZXgucG9pbnRzW29yaWdpbklkXTtcbiAgICAgICAgaWYgKCFvcmlnaW4pIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMub3B0aW9ucy5yYWRpdXMgLyAodGhpcy5vcHRpb25zLmV4dGVudCAqIE1hdGgucG93KDIsIG9yaWdpblpvb20gLSAxKSk7XG4gICAgICAgIGNvbnN0IGlkcyA9IGluZGV4LndpdGhpbihvcmlnaW4ueCwgb3JpZ2luLnksIHIpO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgY29uc3QgYyA9IGluZGV4LnBvaW50c1tpZF07XG4gICAgICAgICAgICBpZiAoYy5wYXJlbnRJZCA9PT0gY2x1c3RlcklkKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjLm51bVBvaW50cyA/IGdldENsdXN0ZXJKU09OKGMpIDogdGhpcy5wb2ludHNbYy5pbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcblxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuXG4gICAgZ2V0TGVhdmVzKGNsdXN0ZXJJZCwgbGltaXQsIG9mZnNldCkge1xuICAgICAgICBsaW1pdCA9IGxpbWl0IHx8IDEwO1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgICBjb25zdCBsZWF2ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fYXBwZW5kTGVhdmVzKGxlYXZlcywgY2x1c3RlcklkLCBsaW1pdCwgb2Zmc2V0LCAwKTtcblxuICAgICAgICByZXR1cm4gbGVhdmVzO1xuICAgIH1cblxuICAgIGdldFRpbGUoeiwgeCwgeSkge1xuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20oeildO1xuICAgICAgICBjb25zdCB6MiA9IE1hdGgucG93KDIsIHopO1xuICAgICAgICBjb25zdCB7ZXh0ZW50LCByYWRpdXN9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBwID0gcmFkaXVzIC8gZXh0ZW50O1xuICAgICAgICBjb25zdCB0b3AgPSAoeSAtIHApIC8gejI7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9ICh5ICsgMSArIHApIC8gejI7XG5cbiAgICAgICAgY29uc3QgdGlsZSA9IHtcbiAgICAgICAgICAgIGZlYXR1cmVzOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2FkZFRpbGVGZWF0dXJlcyhcbiAgICAgICAgICAgIHRyZWUucmFuZ2UoKHggLSBwKSAvIHoyLCB0b3AsICh4ICsgMSArIHApIC8gejIsIGJvdHRvbSksXG4gICAgICAgICAgICB0cmVlLnBvaW50cywgeCwgeSwgejIsIHRpbGUpO1xuXG4gICAgICAgIGlmICh4ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoXG4gICAgICAgICAgICAgICAgdHJlZS5yYW5nZSgxIC0gcCAvIHoyLCB0b3AsIDEsIGJvdHRvbSksXG4gICAgICAgICAgICAgICAgdHJlZS5wb2ludHMsIHoyLCB5LCB6MiwgdGlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPT09IHoyIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5fYWRkVGlsZUZlYXR1cmVzKFxuICAgICAgICAgICAgICAgIHRyZWUucmFuZ2UoMCwgdG9wLCBwIC8gejIsIGJvdHRvbSksXG4gICAgICAgICAgICAgICAgdHJlZS5wb2ludHMsIC0xLCB5LCB6MiwgdGlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGlsZS5mZWF0dXJlcy5sZW5ndGggPyB0aWxlIDogbnVsbDtcbiAgICB9XG5cbiAgICBnZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShjbHVzdGVySWQpIHtcbiAgICAgICAgbGV0IGV4cGFuc2lvblpvb20gPSB0aGlzLl9nZXRPcmlnaW5ab29tKGNsdXN0ZXJJZCkgLSAxO1xuICAgICAgICB3aGlsZSAoZXhwYW5zaW9uWm9vbSA8PSB0aGlzLm9wdGlvbnMubWF4Wm9vbSkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmdldENoaWxkcmVuKGNsdXN0ZXJJZCk7XG4gICAgICAgICAgICBleHBhbnNpb25ab29tKys7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoICE9PSAxKSBicmVhaztcbiAgICAgICAgICAgIGNsdXN0ZXJJZCA9IGNoaWxkcmVuWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhwYW5zaW9uWm9vbTtcbiAgICB9XG5cbiAgICBfYXBwZW5kTGVhdmVzKHJlc3VsdCwgY2x1c3RlcklkLCBsaW1pdCwgb2Zmc2V0LCBza2lwcGVkKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5nZXRDaGlsZHJlbihjbHVzdGVySWQpO1xuXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BzID0gY2hpbGQucHJvcGVydGllcztcblxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmNsdXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZCArIHByb3BzLnBvaW50X2NvdW50IDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIHRoZSB3aG9sZSBjbHVzdGVyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQgKz0gcHJvcHMucG9pbnRfY291bnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW50ZXIgdGhlIGNsdXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCA9IHRoaXMuX2FwcGVuZExlYXZlcyhyZXN1bHQsIHByb3BzLmNsdXN0ZXJfaWQsIGxpbWl0LCBvZmZzZXQsIHNraXBwZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBleGl0IHRoZSBjbHVzdGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChza2lwcGVkIDwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBhIHNpbmdsZSBwb2ludFxuICAgICAgICAgICAgICAgIHNraXBwZWQrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGEgc2luZ2xlIHBvaW50XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IGxpbWl0KSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBza2lwcGVkO1xuICAgIH1cblxuICAgIF9hZGRUaWxlRmVhdHVyZXMoaWRzLCBwb2ludHMsIHgsIHksIHoyLCB0aWxlKSB7XG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBpZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBjb25zdCBpc0NsdXN0ZXIgPSBjLm51bVBvaW50cztcblxuICAgICAgICAgICAgbGV0IHRhZ3MsIHB4LCBweTtcbiAgICAgICAgICAgIGlmIChpc0NsdXN0ZXIpIHtcbiAgICAgICAgICAgICAgICB0YWdzID0gZ2V0Q2x1c3RlclByb3BlcnRpZXMoYyk7XG4gICAgICAgICAgICAgICAgcHggPSBjLng7XG4gICAgICAgICAgICAgICAgcHkgPSBjLnk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnBvaW50c1tjLmluZGV4XTtcbiAgICAgICAgICAgICAgICB0YWdzID0gcC5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgIHB4ID0gbG5nWChwLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdKTtcbiAgICAgICAgICAgICAgICBweSA9IGxhdFkocC5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGYgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogMSxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogW1tcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50ICogKHB4ICogejIgLSB4KSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCAqIChweSAqIHoyIC0geSkpXG4gICAgICAgICAgICAgICAgXV0sXG4gICAgICAgICAgICAgICAgdGFnc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYXNzaWduIGlkXG4gICAgICAgICAgICBsZXQgaWQ7XG4gICAgICAgICAgICBpZiAoaXNDbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgaWQgPSBjLmlkO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZ2VuZXJhdGVJZCkge1xuICAgICAgICAgICAgICAgIC8vIG9wdGlvbmFsbHkgZ2VuZXJhdGUgaWRcbiAgICAgICAgICAgICAgICBpZCA9IGMuaW5kZXg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucG9pbnRzW2MuaW5kZXhdLmlkKSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCBpZCBpZiBhbHJlYWR5IGFzc2lnbmVkXG4gICAgICAgICAgICAgICAgaWQgPSB0aGlzLnBvaW50c1tjLmluZGV4XS5pZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIGYuaWQgPSBpZDtcblxuICAgICAgICAgICAgdGlsZS5mZWF0dXJlcy5wdXNoKGYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xpbWl0Wm9vbSh6KSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSwgTWF0aC5taW4oK3osIHRoaXMub3B0aW9ucy5tYXhab29tICsgMSkpO1xuICAgIH1cblxuICAgIF9jbHVzdGVyKHBvaW50cywgem9vbSkge1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9IFtdO1xuICAgICAgICBjb25zdCB7cmFkaXVzLCBleHRlbnQsIHJlZHVjZSwgbWluUG9pbnRzfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgciA9IHJhZGl1cyAvIChleHRlbnQgKiBNYXRoLnBvdygyLCB6b29tKSk7XG5cbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGVhY2ggcG9pbnRcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAvLyBpZiB3ZSd2ZSBhbHJlYWR5IHZpc2l0ZWQgdGhlIHBvaW50IGF0IHRoaXMgem9vbSBsZXZlbCwgc2tpcCBpdFxuICAgICAgICAgICAgaWYgKHAuem9vbSA8PSB6b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgIHAuem9vbSA9IHpvb207XG5cbiAgICAgICAgICAgIC8vIGZpbmQgYWxsIG5lYXJieSBwb2ludHNcbiAgICAgICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLnRyZWVzW3pvb20gKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IG5laWdoYm9ySWRzID0gdHJlZS53aXRoaW4ocC54LCBwLnksIHIpO1xuXG4gICAgICAgICAgICBjb25zdCBudW1Qb2ludHNPcmlnaW4gPSBwLm51bVBvaW50cyB8fCAxO1xuICAgICAgICAgICAgbGV0IG51bVBvaW50cyA9IG51bVBvaW50c09yaWdpbjtcblxuICAgICAgICAgICAgLy8gY291bnQgdGhlIG51bWJlciBvZiBwb2ludHMgaW4gYSBwb3RlbnRpYWwgY2x1c3RlclxuICAgICAgICAgICAgZm9yIChjb25zdCBuZWlnaGJvcklkIG9mIG5laWdoYm9ySWRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IHRyZWUucG9pbnRzW25laWdoYm9ySWRdO1xuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgbmVpZ2hib3JzIHRoYXQgYXJlIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgaWYgKGIuem9vbSA+IHpvb20pIG51bVBvaW50cyArPSBiLm51bVBvaW50cyB8fCAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSB3ZXJlIG5laWdoYm9ycyB0byBtZXJnZSwgYW5kIHRoZXJlIGFyZSBlbm91Z2ggcG9pbnRzIHRvIGZvcm0gYSBjbHVzdGVyXG4gICAgICAgICAgICBpZiAobnVtUG9pbnRzID4gbnVtUG9pbnRzT3JpZ2luICYmIG51bVBvaW50cyA+PSBtaW5Qb2ludHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgd3ggPSBwLnggKiBudW1Qb2ludHNPcmlnaW47XG4gICAgICAgICAgICAgICAgbGV0IHd5ID0gcC55ICogbnVtUG9pbnRzT3JpZ2luO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNsdXN0ZXJQcm9wZXJ0aWVzID0gcmVkdWNlICYmIG51bVBvaW50c09yaWdpbiA+IDEgPyB0aGlzLl9tYXAocCwgdHJ1ZSkgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gZW5jb2RlIGJvdGggem9vbSBhbmQgcG9pbnQgaW5kZXggb24gd2hpY2ggdGhlIGNsdXN0ZXIgb3JpZ2luYXRlZCAtLSBvZmZzZXQgYnkgdG90YWwgbGVuZ3RoIG9mIGZlYXR1cmVzXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSAoaSA8PCA1KSArICh6b29tICsgMSkgKyB0aGlzLnBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5laWdoYm9ySWQgb2YgbmVpZ2hib3JJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IHRyZWUucG9pbnRzW25laWdoYm9ySWRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChiLnpvb20gPD0gem9vbSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGIuem9vbSA9IHpvb207IC8vIHNhdmUgdGhlIHpvb20gKHNvIGl0IGRvZXNuJ3QgZ2V0IHByb2Nlc3NlZCB0d2ljZSlcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1Qb2ludHMyID0gYi5udW1Qb2ludHMgfHwgMTtcbiAgICAgICAgICAgICAgICAgICAgd3ggKz0gYi54ICogbnVtUG9pbnRzMjsgLy8gYWNjdW11bGF0ZSBjb29yZGluYXRlcyBmb3IgY2FsY3VsYXRpbmcgd2VpZ2h0ZWQgY2VudGVyXG4gICAgICAgICAgICAgICAgICAgIHd5ICs9IGIueSAqIG51bVBvaW50czI7XG5cbiAgICAgICAgICAgICAgICAgICAgYi5wYXJlbnRJZCA9IGlkO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWR1Y2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2x1c3RlclByb3BlcnRpZXMpIGNsdXN0ZXJQcm9wZXJ0aWVzID0gdGhpcy5fbWFwKHAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVkdWNlKGNsdXN0ZXJQcm9wZXJ0aWVzLCB0aGlzLl9tYXAoYikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcC5wYXJlbnRJZCA9IGlkO1xuICAgICAgICAgICAgICAgIGNsdXN0ZXJzLnB1c2goY3JlYXRlQ2x1c3Rlcih3eCAvIG51bVBvaW50cywgd3kgLyBudW1Qb2ludHMsIGlkLCBudW1Qb2ludHMsIGNsdXN0ZXJQcm9wZXJ0aWVzKSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGxlZnQgcG9pbnRzIGFzIHVuY2x1c3RlcmVkXG4gICAgICAgICAgICAgICAgY2x1c3RlcnMucHVzaChwKTtcblxuICAgICAgICAgICAgICAgIGlmIChudW1Qb2ludHMgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbmVpZ2hib3JJZCBvZiBuZWlnaGJvcklkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IHRyZWUucG9pbnRzW25laWdoYm9ySWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIuem9vbSA8PSB6b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIuem9vbSA9IHpvb207XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHVzdGVycy5wdXNoKGIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNsdXN0ZXJzO1xuICAgIH1cblxuICAgIC8vIGdldCBpbmRleCBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCB0aGUgY2x1c3RlciBvcmlnaW5hdGVkXG4gICAgX2dldE9yaWdpbklkKGNsdXN0ZXJJZCkge1xuICAgICAgICByZXR1cm4gKGNsdXN0ZXJJZCAtIHRoaXMucG9pbnRzLmxlbmd0aCkgPj4gNTtcbiAgICB9XG5cbiAgICAvLyBnZXQgem9vbSBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCB0aGUgY2x1c3RlciBvcmlnaW5hdGVkXG4gICAgX2dldE9yaWdpblpvb20oY2x1c3RlcklkKSB7XG4gICAgICAgIHJldHVybiAoY2x1c3RlcklkIC0gdGhpcy5wb2ludHMubGVuZ3RoKSAlIDMyO1xuICAgIH1cblxuICAgIF9tYXAocG9pbnQsIGNsb25lKSB7XG4gICAgICAgIGlmIChwb2ludC5udW1Qb2ludHMpIHtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZSA/IGV4dGVuZCQxKHt9LCBwb2ludC5wcm9wZXJ0aWVzKSA6IHBvaW50LnByb3BlcnRpZXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLnBvaW50c1twb2ludC5pbmRleF0ucHJvcGVydGllcztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5vcHRpb25zLm1hcChvcmlnaW5hbCk7XG4gICAgICAgIHJldHVybiBjbG9uZSAmJiByZXN1bHQgPT09IG9yaWdpbmFsID8gZXh0ZW5kJDEoe30sIHJlc3VsdCkgOiByZXN1bHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDbHVzdGVyKHgsIHksIGlkLCBudW1Qb2ludHMsIHByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBmcm91bmQoeCksIC8vIHdlaWdodGVkIGNsdXN0ZXIgY2VudGVyOyByb3VuZCBmb3IgY29uc2lzdGVuY3kgd2l0aCBGbG9hdDMyQXJyYXkgaW5kZXhcbiAgICAgICAgeTogZnJvdW5kKHkpLFxuICAgICAgICB6b29tOiBJbmZpbml0eSwgLy8gdGhlIGxhc3Qgem9vbSB0aGUgY2x1c3RlciB3YXMgcHJvY2Vzc2VkIGF0XG4gICAgICAgIGlkLCAvLyBlbmNvZGVzIGluZGV4IG9mIHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgY2x1c3RlciBhbmQgaXRzIHpvb20gbGV2ZWxcbiAgICAgICAgcGFyZW50SWQ6IC0xLCAvLyBwYXJlbnQgY2x1c3RlciBpZFxuICAgICAgICBudW1Qb2ludHMsXG4gICAgICAgIHByb3BlcnRpZXNcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQb2ludENsdXN0ZXIocCwgaWQpIHtcbiAgICBjb25zdCBbeCwgeV0gPSBwLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGZyb3VuZChsbmdYKHgpKSwgLy8gcHJvamVjdGVkIHBvaW50IGNvb3JkaW5hdGVzXG4gICAgICAgIHk6IGZyb3VuZChsYXRZKHkpKSxcbiAgICAgICAgem9vbTogSW5maW5pdHksIC8vIHRoZSBsYXN0IHpvb20gdGhlIHBvaW50IHdhcyBwcm9jZXNzZWQgYXRcbiAgICAgICAgaW5kZXg6IGlkLCAvLyBpbmRleCBvZiB0aGUgc291cmNlIGZlYXR1cmUgaW4gdGhlIG9yaWdpbmFsIGlucHV0IGFycmF5LFxuICAgICAgICBwYXJlbnRJZDogLTEgLy8gcGFyZW50IGNsdXN0ZXIgaWRcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRDbHVzdGVySlNPTihjbHVzdGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICBpZDogY2x1c3Rlci5pZCxcbiAgICAgICAgcHJvcGVydGllczogZ2V0Q2x1c3RlclByb3BlcnRpZXMoY2x1c3RlciksXG4gICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFt4TG5nKGNsdXN0ZXIueCksIHlMYXQoY2x1c3Rlci55KV1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldENsdXN0ZXJQcm9wZXJ0aWVzKGNsdXN0ZXIpIHtcbiAgICBjb25zdCBjb3VudCA9IGNsdXN0ZXIubnVtUG9pbnRzO1xuICAgIGNvbnN0IGFiYnJldiA9XG4gICAgICAgIGNvdW50ID49IDEwMDAwID8gYCR7TWF0aC5yb3VuZChjb3VudCAvIDEwMDApICB9a2AgOlxuICAgICAgICBjb3VudCA+PSAxMDAwID8gYCR7TWF0aC5yb3VuZChjb3VudCAvIDEwMCkgLyAxMCAgfWtgIDogY291bnQ7XG4gICAgcmV0dXJuIGV4dGVuZCQxKGV4dGVuZCQxKHt9LCBjbHVzdGVyLnByb3BlcnRpZXMpLCB7XG4gICAgICAgIGNsdXN0ZXI6IHRydWUsXG4gICAgICAgIGNsdXN0ZXJfaWQ6IGNsdXN0ZXIuaWQsXG4gICAgICAgIHBvaW50X2NvdW50OiBjb3VudCxcbiAgICAgICAgcG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6IGFiYnJldlxuICAgIH0pO1xufVxuXG4vLyBsb25naXR1ZGUvbGF0aXR1ZGUgdG8gc3BoZXJpY2FsIG1lcmNhdG9yIGluIFswLi4xXSByYW5nZVxuZnVuY3Rpb24gbG5nWChsbmcpIHtcbiAgICByZXR1cm4gbG5nIC8gMzYwICsgMC41O1xufVxuZnVuY3Rpb24gbGF0WShsYXQpIHtcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihsYXQgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICBjb25zdCB5ID0gKDAuNSAtIDAuMjUgKiBNYXRoLmxvZygoMSArIHNpbikgLyAoMSAtIHNpbikpIC8gTWF0aC5QSSk7XG4gICAgcmV0dXJuIHkgPCAwID8gMCA6IHkgPiAxID8gMSA6IHk7XG59XG5cbi8vIHNwaGVyaWNhbCBtZXJjYXRvciB0byBsb25naXR1ZGUvbGF0aXR1ZGVcbmZ1bmN0aW9uIHhMbmcoeCkge1xuICAgIHJldHVybiAoeCAtIDAuNSkgKiAzNjA7XG59XG5mdW5jdGlvbiB5TGF0KHkpIHtcbiAgICBjb25zdCB5MiA9ICgxODAgLSB5ICogMzYwKSAqIE1hdGguUEkgLyAxODA7XG4gICAgcmV0dXJuIDM2MCAqIE1hdGguYXRhbihNYXRoLmV4cCh5MikpIC8gTWF0aC5QSSAtIDkwO1xufVxuXG5mdW5jdGlvbiBleHRlbmQkMShkZXN0LCBzcmMpIHtcbiAgICBmb3IgKGNvbnN0IGlkIGluIHNyYykgZGVzdFtpZF0gPSBzcmNbaWRdO1xuICAgIHJldHVybiBkZXN0O1xufVxuXG5mdW5jdGlvbiBnZXRYKHApIHtcbiAgICByZXR1cm4gcC54O1xufVxuZnVuY3Rpb24gZ2V0WShwKSB7XG4gICAgcmV0dXJuIHAueTtcbn1cblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxuXG4vKipcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jbGFzcyBDbHVzdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG1hcmtlcnMsIHBvc2l0aW9uIH0pIHtcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gbWFya2VycztcbiAgICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgYm91bmRzKCkge1xuICAgICAgICBpZiAodGhpcy5tYXJrZXJzLmxlbmd0aCA9PT0gMCAmJiAhdGhpcy5fcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubWFya2Vycy5yZWR1Y2UoKGJvdW5kcywgbWFya2VyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYm91bmRzLmV4dGVuZChtYXJrZXIuZ2V0UG9zaXRpb24oKSk7XG4gICAgICAgIH0sIG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHModGhpcy5fcG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uKSk7XG4gICAgfVxuICAgIGdldCBwb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uIHx8IHRoaXMuYm91bmRzLmdldENlbnRlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvdW50IG9mICoqdmlzaWJsZSoqIG1hcmtlcnMuXG4gICAgICovXG4gICAgZ2V0IGNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrZXJzLmZpbHRlcigobSkgPT4gbS5nZXRWaXNpYmxlKCkpXG4gICAgICAgICAgICAubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBtYXJrZXIgdG8gdGhlIGNsdXN0ZXIuXG4gICAgICovXG4gICAgcHVzaChtYXJrZXIpIHtcbiAgICAgICAgdGhpcy5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW51cCByZWZlcmVuY2VzIGFuZCByZW1vdmUgbWFya2VyIGZyb20gbWFwLlxuICAgICAqL1xuICAgIGRlbGV0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWFya2VyKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtlci5zZXRNYXAobnVsbCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tYXJrZXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXJrZXJzLmxlbmd0aCA9IDA7XG4gICAgfVxufVxuXG4vKipcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jb25zdCBmaWx0ZXJNYXJrZXJzVG9QYWRkZWRWaWV3cG9ydCA9IChtYXAsIG1hcENhbnZhc1Byb2plY3Rpb24sIG1hcmtlcnMsIHZpZXdwb3J0UGFkZGluZykgPT4ge1xuICAgIGNvbnN0IGV4dGVuZGVkTWFwQm91bmRzID0gZXh0ZW5kQm91bmRzVG9QYWRkZWRWaWV3cG9ydChtYXAuZ2V0Qm91bmRzKCksIG1hcENhbnZhc1Byb2plY3Rpb24sIHZpZXdwb3J0UGFkZGluZyk7XG4gICAgcmV0dXJuIG1hcmtlcnMuZmlsdGVyKChtYXJrZXIpID0+IGV4dGVuZGVkTWFwQm91bmRzLmNvbnRhaW5zKG1hcmtlci5nZXRQb3NpdGlvbigpKSk7XG59O1xuLyoqXG4gKiBFeHRlbmRzIGEgYm91bmRzIGJ5IGEgbnVtYmVyIG9mIHBpeGVscyBpbiBlYWNoIGRpcmVjdGlvbi5cbiAqL1xuY29uc3QgZXh0ZW5kQm91bmRzVG9QYWRkZWRWaWV3cG9ydCA9IChib3VuZHMsIHByb2plY3Rpb24sIHBpeGVscykgPT4ge1xuICAgIGNvbnN0IHsgbm9ydGhFYXN0LCBzb3V0aFdlc3QgfSA9IGxhdExuZ0JvdW5kc1RvUGl4ZWxCb3VuZHMoYm91bmRzLCBwcm9qZWN0aW9uKTtcbiAgICBjb25zdCBleHRlbmRlZFBpeGVsQm91bmRzID0gZXh0ZW5kUGl4ZWxCb3VuZHMoeyBub3J0aEVhc3QsIHNvdXRoV2VzdCB9LCBwaXhlbHMpO1xuICAgIHJldHVybiBwaXhlbEJvdW5kc1RvTGF0TG5nQm91bmRzKGV4dGVuZGVkUGl4ZWxCb3VuZHMsIHByb2plY3Rpb24pO1xufTtcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBkaXN0YW5jZUJldHdlZW5Qb2ludHMgPSAocDEsIHAyKSA9PiB7XG4gICAgY29uc3QgUiA9IDYzNzE7IC8vIFJhZGl1cyBvZiB0aGUgRWFydGggaW4ga21cbiAgICBjb25zdCBkTGF0ID0gKChwMi5sYXQgLSBwMS5sYXQpICogTWF0aC5QSSkgLyAxODA7XG4gICAgY29uc3QgZExvbiA9ICgocDIubG5nIC0gcDEubG5nKSAqIE1hdGguUEkpIC8gMTgwO1xuICAgIGNvbnN0IGEgPSBNYXRoLnNpbihkTGF0IC8gMikgKiBNYXRoLnNpbihkTGF0IC8gMikgK1xuICAgICAgICBNYXRoLmNvcygocDEubGF0ICogTWF0aC5QSSkgLyAxODApICpcbiAgICAgICAgICAgIE1hdGguY29zKChwMi5sYXQgKiBNYXRoLlBJKSAvIDE4MCkgKlxuICAgICAgICAgICAgTWF0aC5zaW4oZExvbiAvIDIpICpcbiAgICAgICAgICAgIE1hdGguc2luKGRMb24gLyAyKTtcbiAgICBjb25zdCBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcbiAgICByZXR1cm4gUiAqIGM7XG59O1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGxhdExuZ0JvdW5kc1RvUGl4ZWxCb3VuZHMgPSAoYm91bmRzLCBwcm9qZWN0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm9ydGhFYXN0OiBwcm9qZWN0aW9uLmZyb21MYXRMbmdUb0RpdlBpeGVsKGJvdW5kcy5nZXROb3J0aEVhc3QoKSksXG4gICAgICAgIHNvdXRoV2VzdDogcHJvamVjdGlvbi5mcm9tTGF0TG5nVG9EaXZQaXhlbChib3VuZHMuZ2V0U291dGhXZXN0KCkpLFxuICAgIH07XG59O1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGV4dGVuZFBpeGVsQm91bmRzID0gKHsgbm9ydGhFYXN0LCBzb3V0aFdlc3QgfSwgcGl4ZWxzKSA9PiB7XG4gICAgbm9ydGhFYXN0LnggKz0gcGl4ZWxzO1xuICAgIG5vcnRoRWFzdC55IC09IHBpeGVscztcbiAgICBzb3V0aFdlc3QueCAtPSBwaXhlbHM7XG4gICAgc291dGhXZXN0LnkgKz0gcGl4ZWxzO1xuICAgIHJldHVybiB7IG5vcnRoRWFzdCwgc291dGhXZXN0IH07XG59O1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IHBpeGVsQm91bmRzVG9MYXRMbmdCb3VuZHMgPSAoeyBub3J0aEVhc3QsIHNvdXRoV2VzdCB9LCBwcm9qZWN0aW9uKSA9PiB7XG4gICAgY29uc3QgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuICAgIGJvdW5kcy5leHRlbmQocHJvamVjdGlvbi5mcm9tRGl2UGl4ZWxUb0xhdExuZyhub3J0aEVhc3QpKTtcbiAgICBib3VuZHMuZXh0ZW5kKHByb2plY3Rpb24uZnJvbURpdlBpeGVsVG9MYXRMbmcoc291dGhXZXN0KSk7XG4gICAgcmV0dXJuIGJvdW5kcztcbn07XG5cbi8qKlxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQGhpZGRlblxuICovXG5jbGFzcyBBYnN0cmFjdEFsZ29yaXRobSB7XG4gICAgY29uc3RydWN0b3IoeyBtYXhab29tID0gMTYgfSkge1xuICAgICAgICB0aGlzLm1heFpvb20gPSBtYXhab29tO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gYnlwYXNzIGNsdXN0ZXJpbmcgYmFzZWQgdXBvbiBzb21lIG1hcCBzdGF0ZSBzdWNoIGFzXG4gICAgICogem9vbSwgbnVtYmVyIG9mIG1hcmtlcnMsIGV0Yy5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiAgY2x1c3Rlcih7bWFya2VycywgbWFwfTogQWxnb3JpdGhtSW5wdXQpOiBDbHVzdGVyW10ge1xuICAgICAqICAgIGlmIChzaG91bGRCeXBhc3NDbHVzdGVyaW5nKG1hcCkpIHtcbiAgICAgKiAgICAgIHJldHVybiB0aGlzLm5vb3Aoe21hcmtlcnMsIG1hcH0pXG4gICAgICogICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBub29wKHsgbWFya2VycyB9KSB7XG4gICAgICAgIHJldHVybiBub29wJDEobWFya2Vycyk7XG4gICAgfVxufVxuLyoqXG4gKiBBYnN0cmFjdCB2aWV3cG9ydCBhbGdvcml0aG0gcHJvdmVzIGEgY2xhc3MgdG8gZmlsdGVyIG1hcmtlcnMgYnkgYSBwYWRkZWRcbiAqIHZpZXdwb3J0LiBUaGlzIGlzIGEgY29tbW9uIG9wdGltaXphdGlvbi5cbiAqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIEFic3RyYWN0Vmlld3BvcnRBbGdvcml0aG0gZXh0ZW5kcyBBYnN0cmFjdEFsZ29yaXRobSB7XG4gICAgY29uc3RydWN0b3IoX2EpIHtcbiAgICAgICAgdmFyIHsgdmlld3BvcnRQYWRkaW5nID0gNjAgfSA9IF9hLCBvcHRpb25zID0gX19yZXN0KF9hLCBbXCJ2aWV3cG9ydFBhZGRpbmdcIl0pO1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydFBhZGRpbmcgPSA2MDtcbiAgICAgICAgdGhpcy52aWV3cG9ydFBhZGRpbmcgPSB2aWV3cG9ydFBhZGRpbmc7XG4gICAgfVxuICAgIGNhbGN1bGF0ZSh7IG1hcmtlcnMsIG1hcCwgbWFwQ2FudmFzUHJvamVjdGlvbiwgfSkge1xuICAgICAgICBpZiAobWFwLmdldFpvb20oKSA+PSB0aGlzLm1heFpvb20pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2x1c3RlcnM6IHRoaXMubm9vcCh7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMsXG4gICAgICAgICAgICAgICAgICAgIG1hcCxcbiAgICAgICAgICAgICAgICAgICAgbWFwQ2FudmFzUHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VkOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsdXN0ZXJzOiB0aGlzLmNsdXN0ZXIoe1xuICAgICAgICAgICAgICAgIG1hcmtlcnM6IGZpbHRlck1hcmtlcnNUb1BhZGRlZFZpZXdwb3J0KG1hcCwgbWFwQ2FudmFzUHJvamVjdGlvbiwgbWFya2VycywgdGhpcy52aWV3cG9ydFBhZGRpbmcpLFxuICAgICAgICAgICAgICAgIG1hcCxcbiAgICAgICAgICAgICAgICBtYXBDYW52YXNQcm9qZWN0aW9uLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IG5vb3AkMSA9IChtYXJrZXJzKSA9PiB7XG4gICAgY29uc3QgY2x1c3RlcnMgPSBtYXJrZXJzLm1hcCgobWFya2VyKSA9PiBuZXcgQ2x1c3Rlcih7XG4gICAgICAgIHBvc2l0aW9uOiBtYXJrZXIuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgbWFya2VyczogW21hcmtlcl0sXG4gICAgfSkpO1xuICAgIHJldHVybiBjbHVzdGVycztcbn07XG5cbi8qKlxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogVGhlIGRlZmF1bHQgR3JpZCBhbGdvcml0aG0gaGlzdG9yaWNhbGx5IHVzZWQgaW4gR29vZ2xlIE1hcHMgbWFya2VyXG4gKiBjbHVzdGVyaW5nLlxuICpcbiAqIFRoZSBHcmlkIGFsZ29yaXRobSBkb2VzIG5vdCBpbXBsZW1lbnQgY2FjaGluZyBhbmQgbWFya2VycyBtYXkgZmxhc2ggYXMgdGhlXG4gKiB2aWV3cG9ydCBjaGFuZ2VzLiBJbnN0ZWFkIHVzZSB7QGxpbmsgU3VwZXJDbHVzdGVyQWxnb3JpdGhtfS5cbiAqL1xuY2xhc3MgR3JpZEFsZ29yaXRobSBleHRlbmRzIEFic3RyYWN0Vmlld3BvcnRBbGdvcml0aG0ge1xuICAgIGNvbnN0cnVjdG9yKF9hKSB7XG4gICAgICAgIHZhciB7IG1heERpc3RhbmNlID0gNDAwMDAsIGdyaWRTaXplID0gNDAgfSA9IF9hLCBvcHRpb25zID0gX19yZXN0KF9hLCBbXCJtYXhEaXN0YW5jZVwiLCBcImdyaWRTaXplXCJdKTtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXhEaXN0YW5jZSA9IG1heERpc3RhbmNlO1xuICAgICAgICB0aGlzLmdyaWRTaXplID0gZ3JpZFNpemU7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IHpvb206IG51bGwgfTtcbiAgICB9XG4gICAgY2FsY3VsYXRlKHsgbWFya2VycywgbWFwLCBtYXBDYW52YXNQcm9qZWN0aW9uLCB9KSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0geyB6b29tOiBtYXAuZ2V0Wm9vbSgpIH07XG4gICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnpvb20gPiB0aGlzLm1heFpvb20gJiYgc3RhdGUuem9vbSA+IHRoaXMubWF4Wm9vbSkgO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSAhZmFzdERlZXBFcXVhbCh0aGlzLnN0YXRlLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICBpZiAobWFwLmdldFpvb20oKSA+PSB0aGlzLm1heFpvb20pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2x1c3RlcnM6IHRoaXMubm9vcCh7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMsXG4gICAgICAgICAgICAgICAgICAgIG1hcCxcbiAgICAgICAgICAgICAgICAgICAgbWFwQ2FudmFzUHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VkOiBjaGFuZ2VkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2x1c3RlcnM6IHRoaXMuY2x1c3Rlcih7XG4gICAgICAgICAgICAgICAgbWFya2VyczogZmlsdGVyTWFya2Vyc1RvUGFkZGVkVmlld3BvcnQobWFwLCBtYXBDYW52YXNQcm9qZWN0aW9uLCBtYXJrZXJzLCB0aGlzLnZpZXdwb3J0UGFkZGluZyksXG4gICAgICAgICAgICAgICAgbWFwLFxuICAgICAgICAgICAgICAgIG1hcENhbnZhc1Byb2plY3Rpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2x1c3Rlcih7IG1hcmtlcnMsIG1hcCwgbWFwQ2FudmFzUHJvamVjdGlvbiwgfSkge1xuICAgICAgICB0aGlzLmNsdXN0ZXJzID0gW107XG4gICAgICAgIG1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZFRvQ2xvc2VzdENsdXN0ZXIobWFya2VyLCBtYXAsIG1hcENhbnZhc1Byb2plY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2x1c3RlcnM7XG4gICAgfVxuICAgIGFkZFRvQ2xvc2VzdENsdXN0ZXIobWFya2VyLCBtYXAsIHByb2plY3Rpb24pIHtcbiAgICAgICAgbGV0IG1heERpc3RhbmNlID0gdGhpcy5tYXhEaXN0YW5jZTsgLy8gU29tZSBsYXJnZSBudW1iZXJcbiAgICAgICAgbGV0IGNsdXN0ZXIgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2x1c3RlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHRoaXMuY2x1c3RlcnNbaV07XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlQmV0d2VlblBvaW50cyhjYW5kaWRhdGUuYm91bmRzLmdldENlbnRlcigpLnRvSlNPTigpLCBtYXJrZXIuZ2V0UG9zaXRpb24oKS50b0pTT04oKSk7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBtYXhEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIG1heERpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY2x1c3RlciA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2x1c3RlciAmJlxuICAgICAgICAgICAgZXh0ZW5kQm91bmRzVG9QYWRkZWRWaWV3cG9ydChjbHVzdGVyLmJvdW5kcywgcHJvamVjdGlvbiwgdGhpcy5ncmlkU2l6ZSkuY29udGFpbnMobWFya2VyLmdldFBvc2l0aW9uKCkpKSB7XG4gICAgICAgICAgICBjbHVzdGVyLnB1c2gobWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNsdXN0ZXIgPSBuZXcgQ2x1c3Rlcih7IG1hcmtlcnM6IFttYXJrZXJdIH0pO1xuICAgICAgICAgICAgdGhpcy5jbHVzdGVycy5wdXNoKGNsdXN0ZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIE5vb3AgYWxnb3JpdGhtIGRvZXMgbm90IGdlbmVyYXRlIGFueSBjbHVzdGVycyBvciBmaWx0ZXIgbWFya2VycyBieSB0aGUgYW4gZXh0ZW5kZWQgdmlld3BvcnQuXG4gKi9cbmNsYXNzIE5vb3BBbGdvcml0aG0gZXh0ZW5kcyBBYnN0cmFjdEFsZ29yaXRobSB7XG4gICAgY29uc3RydWN0b3IoX2EpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBfX3Jlc3QoX2EsIFtdKTtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZSh7IG1hcmtlcnMsIG1hcCwgbWFwQ2FudmFzUHJvamVjdGlvbiwgfSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2x1c3RlcnM6IHRoaXMuY2x1c3Rlcih7IG1hcmtlcnMsIG1hcCwgbWFwQ2FudmFzUHJvamVjdGlvbiB9KSxcbiAgICAgICAgICAgIGNoYW5nZWQ6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjbHVzdGVyKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vb3AoaW5wdXQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHZlcnkgZmFzdCBKYXZhU2NyaXB0IGFsZ29yaXRobSBmb3IgZ2Vvc3BhdGlhbCBwb2ludCBjbHVzdGVyaW5nIHVzaW5nIEtEIHRyZWVzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2Uvc3VwZXJjbHVzdGVyIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIG9wdGlvbnMuXG4gKi9cbmNsYXNzIFN1cGVyQ2x1c3RlckFsZ29yaXRobSBleHRlbmRzIEFic3RyYWN0QWxnb3JpdGhtIHtcbiAgICBjb25zdHJ1Y3RvcihfYSkge1xuICAgICAgICB2YXIgeyBtYXhab29tLCByYWRpdXMgPSA2MCB9ID0gX2EsIG9wdGlvbnMgPSBfX3Jlc3QoX2EsIFtcIm1heFpvb21cIiwgXCJyYWRpdXNcIl0pO1xuICAgICAgICBzdXBlcih7IG1heFpvb20gfSk7XG4gICAgICAgIHRoaXMuc3VwZXJDbHVzdGVyID0gbmV3IFN1cGVyY2x1c3RlcihPYmplY3QuYXNzaWduKHsgbWF4Wm9vbTogdGhpcy5tYXhab29tLCByYWRpdXMgfSwgb3B0aW9ucykpO1xuICAgICAgICB0aGlzLnN0YXRlID0geyB6b29tOiBudWxsIH07XG4gICAgfVxuICAgIGNhbGN1bGF0ZShpbnB1dCkge1xuICAgICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWZhc3REZWVwRXF1YWwoaW5wdXQubWFya2VycywgdGhpcy5tYXJrZXJzKSkge1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAvLyBUT0RPIHVzZSBwcm94eSB0byBhdm9pZCBjb3B5P1xuICAgICAgICAgICAgdGhpcy5tYXJrZXJzID0gWy4uLmlucHV0Lm1hcmtlcnNdO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5tYXJrZXJzLm1hcCgobWFya2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJGZWF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBvaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlci5nZXRQb3NpdGlvbigpLmxuZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlci5nZXRQb3NpdGlvbigpLmxhdCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBtYXJrZXIgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN1cGVyQ2x1c3Rlci5sb2FkKHBvaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7IHpvb206IGlucHV0Lm1hcC5nZXRab29tKCkgfTtcbiAgICAgICAgaWYgKCFjaGFuZ2VkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS56b29tID4gdGhpcy5tYXhab29tICYmIHN0YXRlLnpvb20gPiB0aGlzLm1heFpvb20pIDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBjaGFuZ2VkIHx8ICFmYXN0RGVlcEVxdWFsKHRoaXMuc3RhdGUsIHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNsdXN0ZXJzID0gdGhpcy5jbHVzdGVyKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBjbHVzdGVyczogdGhpcy5jbHVzdGVycywgY2hhbmdlZCB9O1xuICAgIH1cbiAgICBjbHVzdGVyKHsgbWFwIH0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VwZXJDbHVzdGVyXG4gICAgICAgICAgICAuZ2V0Q2x1c3RlcnMoWy0xODAsIC05MCwgMTgwLCA5MF0sIE1hdGgucm91bmQobWFwLmdldFpvb20oKSkpXG4gICAgICAgICAgICAubWFwKHRoaXMudHJhbnNmb3JtQ2x1c3Rlci5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtQ2x1c3Rlcih7IGdlb21ldHJ5OiB7IGNvb3JkaW5hdGVzOiBbbG5nLCBsYXRdLCB9LCBwcm9wZXJ0aWVzLCB9KSB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLmNsdXN0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2x1c3Rlcih7XG4gICAgICAgICAgICAgICAgbWFya2VyczogdGhpcy5zdXBlckNsdXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgLmdldExlYXZlcyhwcm9wZXJ0aWVzLmNsdXN0ZXJfaWQsIEluZmluaXR5KVxuICAgICAgICAgICAgICAgICAgICAubWFwKChsZWFmKSA9PiBsZWFmLnByb3BlcnRpZXMubWFya2VyKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyh7IGxhdCwgbG5nIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtYXJrZXIgPSBwcm9wZXJ0aWVzLm1hcmtlcjtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2x1c3Rlcih7XG4gICAgICAgICAgICAgICAgbWFya2VyczogW21hcmtlcl0sXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG1hcmtlci5nZXRQb3NpdGlvbigpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUHJvdmlkZXMgc3RhdGlzdGljcyBvbiBhbGwgY2x1c3RlcnMgaW4gdGhlIGN1cnJlbnQgcmVuZGVyIGN5Y2xlIGZvciB1c2UgaW4ge0BsaW5rIFJlbmRlcmVyLnJlbmRlcn0uXG4gKi9cbmNsYXNzIENsdXN0ZXJTdGF0cyB7XG4gICAgY29uc3RydWN0b3IobWFya2VycywgY2x1c3RlcnMpIHtcbiAgICAgICAgdGhpcy5tYXJrZXJzID0geyBzdW06IG1hcmtlcnMubGVuZ3RoIH07XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJNYXJrZXJDb3VudHMgPSBjbHVzdGVycy5tYXAoKGEpID0+IGEuY291bnQpO1xuICAgICAgICBjb25zdCBjbHVzdGVyTWFya2VyU3VtID0gY2x1c3Rlck1hcmtlckNvdW50cy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcbiAgICAgICAgdGhpcy5jbHVzdGVycyA9IHtcbiAgICAgICAgICAgIGNvdW50OiBjbHVzdGVycy5sZW5ndGgsXG4gICAgICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICAgICAgbWVhbjogY2x1c3Rlck1hcmtlclN1bSAvIGNsdXN0ZXJzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBzdW06IGNsdXN0ZXJNYXJrZXJTdW0sXG4gICAgICAgICAgICAgICAgbWluOiBNYXRoLm1pbiguLi5jbHVzdGVyTWFya2VyQ291bnRzKSxcbiAgICAgICAgICAgICAgICBtYXg6IE1hdGgubWF4KC4uLmNsdXN0ZXJNYXJrZXJDb3VudHMpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5jbGFzcyBEZWZhdWx0UmVuZGVyZXIge1xuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHJlbmRlciBmdW5jdGlvbiBmb3IgdGhlIGxpYnJhcnkgdXNlZCBieSB7QGxpbmsgTWFya2VyQ2x1c3RlcmVyfS5cbiAgICAgKlxuICAgICAqIEN1cnJlbnRseSBzZXQgdG8gdXNlIHRoZSBmb2xsb3dpbmc6XG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogLy8gY2hhbmdlIGNvbG9yIGlmIHRoaXMgY2x1c3RlciBoYXMgbW9yZSBtYXJrZXJzIHRoYW4gdGhlIG1lYW4gY2x1c3RlclxuICAgICAqIGNvbnN0IGNvbG9yID1cbiAgICAgKiAgIGNvdW50ID4gTWF0aC5tYXgoMTAsIHN0YXRzLmNsdXN0ZXJzLm1hcmtlcnMubWVhbilcbiAgICAgKiAgICAgPyBcIiNmZjAwMDBcIlxuICAgICAqICAgICA6IFwiIzAwMDBmZlwiO1xuICAgICAqXG4gICAgICogLy8gY3JlYXRlIHN2ZyB1cmwgd2l0aCBmaWxsIGNvbG9yXG4gICAgICogY29uc3Qgc3ZnID0gd2luZG93LmJ0b2EoYFxuICAgICAqIDxzdmcgZmlsbD1cIiR7Y29sb3J9XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQwIDI0MFwiPlxuICAgICAqICAgPGNpcmNsZSBjeD1cIjEyMFwiIGN5PVwiMTIwXCIgb3BhY2l0eT1cIi42XCIgcj1cIjcwXCIgLz5cbiAgICAgKiAgIDxjaXJjbGUgY3g9XCIxMjBcIiBjeT1cIjEyMFwiIG9wYWNpdHk9XCIuM1wiIHI9XCI5MFwiIC8+XG4gICAgICogICA8Y2lyY2xlIGN4PVwiMTIwXCIgY3k9XCIxMjBcIiBvcGFjaXR5PVwiLjJcIiByPVwiMTEwXCIgLz5cbiAgICAgKiAgIDxjaXJjbGUgY3g9XCIxMjBcIiBjeT1cIjEyMFwiIG9wYWNpdHk9XCIuMVwiIHI9XCIxMzBcIiAvPlxuICAgICAqIDwvc3ZnPmApO1xuICAgICAqXG4gICAgICogLy8gY3JlYXRlIG1hcmtlciB1c2luZyBzdmcgaWNvblxuICAgICAqIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgKiAgIHBvc2l0aW9uLFxuICAgICAqICAgaWNvbjoge1xuICAgICAqICAgICB1cmw6IGBkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCR7c3ZnfWAsXG4gICAgICogICAgIHNjYWxlZFNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDQ1LCA0NSksXG4gICAgICogICB9LFxuICAgICAqICAgbGFiZWw6IHtcbiAgICAgKiAgICAgdGV4dDogU3RyaW5nKGNvdW50KSxcbiAgICAgKiAgICAgY29sb3I6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjkpXCIsXG4gICAgICogICAgIGZvbnRTaXplOiBcIjEycHhcIixcbiAgICAgKiAgIH0sXG4gICAgICogICAvLyBhZGp1c3QgekluZGV4IHRvIGJlIGFib3ZlIG90aGVyIG1hcmtlcnNcbiAgICAgKiAgIHpJbmRleDogMTAwMCArIGNvdW50LFxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHJlbmRlcih7IGNvdW50LCBwb3NpdGlvbiB9LCBzdGF0cykge1xuICAgICAgICAvLyBjaGFuZ2UgY29sb3IgaWYgdGhpcyBjbHVzdGVyIGhhcyBtb3JlIG1hcmtlcnMgdGhhbiB0aGUgbWVhbiBjbHVzdGVyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gY291bnQgPiBNYXRoLm1heCgxMCwgc3RhdHMuY2x1c3RlcnMubWFya2Vycy5tZWFuKSA/IFwiI2ZmMDAwMFwiIDogXCIjMDAwMGZmXCI7XG4gICAgICAgIC8vIGNyZWF0ZSBzdmcgdXJsIHdpdGggZmlsbCBjb2xvclxuICAgICAgICBjb25zdCBzdmcgPSB3aW5kb3cuYnRvYShgXG4gIDxzdmcgZmlsbD1cIiR7Y29sb3J9XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQwIDI0MFwiPlxuICAgIDxjaXJjbGUgY3g9XCIxMjBcIiBjeT1cIjEyMFwiIG9wYWNpdHk9XCIuNlwiIHI9XCI3MFwiIC8+XG4gICAgPGNpcmNsZSBjeD1cIjEyMFwiIGN5PVwiMTIwXCIgb3BhY2l0eT1cIi4zXCIgcj1cIjkwXCIgLz5cbiAgICA8Y2lyY2xlIGN4PVwiMTIwXCIgY3k9XCIxMjBcIiBvcGFjaXR5PVwiLjJcIiByPVwiMTEwXCIgLz5cbiAgPC9zdmc+YCk7XG4gICAgICAgIC8vIGNyZWF0ZSBtYXJrZXIgdXNpbmcgc3ZnIGljb25cbiAgICAgICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBpY29uOiB7XG4gICAgICAgICAgICAgICAgdXJsOiBgZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke3N2Z31gLFxuICAgICAgICAgICAgICAgIHNjYWxlZFNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDQ1LCA0NSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBTdHJpbmcoY291bnQpLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcInJnYmEoMjU1LDI1NSwyNTUsMC45KVwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEycHhcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aXRsZTogYENsdXN0ZXIgb2YgJHtjb3VudH0gbWFya2Vyc2AsXG4gICAgICAgICAgICAvLyBhZGp1c3QgekluZGV4IHRvIGJlIGFib3ZlIG90aGVyIG1hcmtlcnNcbiAgICAgICAgICAgIHpJbmRleDogTnVtYmVyKGdvb2dsZS5tYXBzLk1hcmtlci5NQVhfWklOREVYKSArIGNvdW50LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEV4dGVuZHMgYW4gb2JqZWN0J3MgcHJvdG90eXBlIGJ5IGFub3RoZXIncy5cbiAqXG4gKiBAcGFyYW0gdHlwZTEgVGhlIFR5cGUgdG8gYmUgZXh0ZW5kZWQuXG4gKiBAcGFyYW0gdHlwZTIgVGhlIFR5cGUgdG8gZXh0ZW5kIHdpdGguXG4gKiBAaWdub3JlXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBleHRlbmQodHlwZTEsIHR5cGUyKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgZm9yIChsZXQgcHJvcGVydHkgaW4gdHlwZTIucHJvdG90eXBlKSB7XG4gICAgICAgIHR5cGUxLnByb3RvdHlwZVtwcm9wZXJ0eV0gPSB0eXBlMi5wcm90b3R5cGVbcHJvcGVydHldO1xuICAgIH1cbn1cbi8qKlxuICogQGlnbm9yZVxuICovXG5jbGFzcyBPdmVybGF5Vmlld1NhZmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBNYXJrZXJDbHVzdGVyZXIgaW1wbGVtZW50cyBnb29nbGUubWFwcy5PdmVybGF5VmlldyBpbnRlcmZhY2UuIFdlIHVzZSB0aGVcbiAgICAgICAgLy8gZXh0ZW5kIGZ1bmN0aW9uIHRvIGV4dGVuZCBNYXJrZXJDbHVzdGVyZXIgd2l0aCBnb29nbGUubWFwcy5PdmVybGF5Vmlld1xuICAgICAgICAvLyBiZWNhdXNlIGl0IG1pZ2h0IG5vdCBhbHdheXMgYmUgYXZhaWxhYmxlIHdoZW4gdGhlIGNvZGUgaXMgZGVmaW5lZCBzbyB3ZVxuICAgICAgICAvLyBsb29rIGZvciBpdCBhdCB0aGUgbGFzdCBwb3NzaWJsZSBtb21lbnQuIElmIGl0IGRvZXNuJ3QgZXhpc3Qgbm93IHRoZW5cbiAgICAgICAgLy8gdGhlcmUgaXMgbm8gcG9pbnQgZ29pbmcgYWhlYWQgOilcbiAgICAgICAgZXh0ZW5kKE92ZXJsYXlWaWV3U2FmZSwgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIE1hcmtlckNsdXN0ZXJlckV2ZW50cztcbihmdW5jdGlvbiAoTWFya2VyQ2x1c3RlcmVyRXZlbnRzKSB7XG4gICAgTWFya2VyQ2x1c3RlcmVyRXZlbnRzW1wiQ0xVU1RFUklOR19CRUdJTlwiXSA9IFwiY2x1c3RlcmluZ2JlZ2luXCI7XG4gICAgTWFya2VyQ2x1c3RlcmVyRXZlbnRzW1wiQ0xVU1RFUklOR19FTkRcIl0gPSBcImNsdXN0ZXJpbmdlbmRcIjtcbiAgICBNYXJrZXJDbHVzdGVyZXJFdmVudHNbXCJDTFVTVEVSX0NMSUNLXCJdID0gXCJjbGlja1wiO1xufSkoTWFya2VyQ2x1c3RlcmVyRXZlbnRzIHx8IChNYXJrZXJDbHVzdGVyZXJFdmVudHMgPSB7fSkpO1xuY29uc3QgZGVmYXVsdE9uQ2x1c3RlckNsaWNrSGFuZGxlciA9IChfLCBjbHVzdGVyLCBtYXApID0+IHtcbiAgICBtYXAuZml0Qm91bmRzKGNsdXN0ZXIuYm91bmRzKTtcbn07XG4vKipcbiAqIE1hcmtlckNsdXN0ZXJlciBjcmVhdGVzIGFuZCBtYW5hZ2VzIHBlci16b29tLWxldmVsIGNsdXN0ZXJzIGZvciBsYXJnZSBhbW91bnRzXG4gKiBvZiBtYXJrZXJzLiBTZWUge0BsaW5rIE1hcmtlckNsdXN0ZXJlck9wdGlvbnN9IGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICovXG5jbGFzcyBNYXJrZXJDbHVzdGVyZXIgZXh0ZW5kcyBPdmVybGF5Vmlld1NhZmUge1xuICAgIGNvbnN0cnVjdG9yKHsgbWFwLCBtYXJrZXJzID0gW10sIGFsZ29yaXRobSA9IG5ldyBTdXBlckNsdXN0ZXJBbGdvcml0aG0oe30pLCByZW5kZXJlciA9IG5ldyBEZWZhdWx0UmVuZGVyZXIoKSwgb25DbHVzdGVyQ2xpY2sgPSBkZWZhdWx0T25DbHVzdGVyQ2xpY2tIYW5kbGVyLCB9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWFya2VycyA9IFsuLi5tYXJrZXJzXTtcbiAgICAgICAgdGhpcy5jbHVzdGVycyA9IFtdO1xuICAgICAgICB0aGlzLmFsZ29yaXRobSA9IGFsZ29yaXRobTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLm9uQ2x1c3RlckNsaWNrID0gb25DbHVzdGVyQ2xpY2s7XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TWFwKG1hcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkTWFya2VyKG1hcmtlciwgbm9EcmF3KSB7XG4gICAgICAgIGlmICh0aGlzLm1hcmtlcnMuaW5jbHVkZXMobWFya2VyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIGlmICghbm9EcmF3KSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZE1hcmtlcnMobWFya2Vycywgbm9EcmF3KSB7XG4gICAgICAgIG1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZE1hcmtlcihtYXJrZXIsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFub0RyYXcpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlTWFya2VyKG1hcmtlciwgbm9EcmF3KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tYXJrZXJzLmluZGV4T2YobWFya2VyKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gTWFya2VyIGlzIG5vdCBpbiBvdXIgbGlzdCBvZiBtYXJrZXJzLCBzbyBkbyBub3RoaW5nOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG1hcmtlci5zZXRNYXAobnVsbCk7XG4gICAgICAgIHRoaXMubWFya2Vycy5zcGxpY2UoaW5kZXgsIDEpOyAvLyBSZW1vdmUgdGhlIG1hcmtlciBmcm9tIHRoZSBsaXN0IG9mIG1hbmFnZWQgbWFya2Vyc1xuICAgICAgICBpZiAoIW5vRHJhdykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVtb3ZlTWFya2VycyhtYXJrZXJzLCBub0RyYXcpIHtcbiAgICAgICAgbGV0IHJlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgbWFya2Vycy5mb3JFYWNoKChtYXJrZXIpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLnJlbW92ZU1hcmtlcihtYXJrZXIsIHRydWUpIHx8IHJlbW92ZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVtb3ZlZCAmJiAhbm9EcmF3KSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH1cbiAgICBjbGVhck1hcmtlcnMobm9EcmF3KSB7XG4gICAgICAgIHRoaXMubWFya2Vycy5sZW5ndGggPSAwO1xuICAgICAgICBpZiAoIW5vRHJhdykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgYW5kIGRyYXdzIGFsbCB0aGUgbWFya2VyIGNsdXN0ZXJzLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICAgICAgaWYgKG1hcCBpbnN0YW5jZW9mIGdvb2dsZS5tYXBzLk1hcCAmJiB0aGlzLmdldFByb2plY3Rpb24oKSkge1xuICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCBNYXJrZXJDbHVzdGVyZXJFdmVudHMuQ0xVU1RFUklOR19CRUdJTiwgdGhpcyk7XG4gICAgICAgICAgICBjb25zdCB7IGNsdXN0ZXJzLCBjaGFuZ2VkIH0gPSB0aGlzLmFsZ29yaXRobS5jYWxjdWxhdGUoe1xuICAgICAgICAgICAgICAgIG1hcmtlcnM6IHRoaXMubWFya2VycyxcbiAgICAgICAgICAgICAgICBtYXAsXG4gICAgICAgICAgICAgICAgbWFwQ2FudmFzUHJvamVjdGlvbjogdGhpcy5nZXRQcm9qZWN0aW9uKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGFsbG93IGFsZ29yaXRobXMgdG8gcmV0dXJuIGZsYWcgb24gd2hldGhlciB0aGUgY2x1c3RlcnMvbWFya2VycyBoYXZlIGNoYW5nZWRcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkIHx8IGNoYW5nZWQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgdmlzaWJpbGl0eSBvZiBtYXJrZXJzIGFuZCBjbHVzdGVyc1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSBuZXcgY2x1c3RlcnNcbiAgICAgICAgICAgICAgICB0aGlzLmNsdXN0ZXJzID0gY2x1c3RlcnM7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDbHVzdGVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCBNYXJrZXJDbHVzdGVyZXJFdmVudHMuQ0xVU1RFUklOR19FTkQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQWRkKCkge1xuICAgICAgICB0aGlzLmlkbGVMaXN0ZW5lciA9IHRoaXMuZ2V0TWFwKCkuYWRkTGlzdGVuZXIoXCJpZGxlXCIsIHRoaXMucmVuZGVyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5pZGxlTGlzdGVuZXIpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLm1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiBtYXJrZXIuc2V0TWFwKG51bGwpKTtcbiAgICAgICAgdGhpcy5jbHVzdGVycy5mb3JFYWNoKChjbHVzdGVyKSA9PiBjbHVzdGVyLmRlbGV0ZSgpKTtcbiAgICAgICAgdGhpcy5jbHVzdGVycyA9IFtdO1xuICAgIH1cbiAgICByZW5kZXJDbHVzdGVycygpIHtcbiAgICAgICAgLy8gZ2VuZXJhdGUgc3RhdHMgdG8gcGFzcyB0byByZW5kZXJlcnNcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBuZXcgQ2x1c3RlclN0YXRzKHRoaXMubWFya2VycywgdGhpcy5jbHVzdGVycyk7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIHRoaXMuY2x1c3RlcnMuZm9yRWFjaCgoY2x1c3RlcikgPT4ge1xuICAgICAgICAgICAgaWYgKGNsdXN0ZXIubWFya2Vycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBjbHVzdGVyLm1hcmtlciA9IGNsdXN0ZXIubWFya2Vyc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsdXN0ZXIubWFya2VyID0gdGhpcy5yZW5kZXJlci5yZW5kZXIoY2x1c3Rlciwgc3RhdHMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQ2x1c3RlckNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsdXN0ZXIubWFya2VyLmFkZExpc3RlbmVyKFwiY2xpY2tcIiwgXG4gICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAgICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCBNYXJrZXJDbHVzdGVyZXJFdmVudHMuQ0xVU1RFUl9DTElDSywgY2x1c3Rlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2x1c3RlckNsaWNrKGV2ZW50LCBjbHVzdGVyLCBtYXApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbHVzdGVyLm1hcmtlci5zZXRNYXAobWFwKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG52YXIgaW5kZXhfZXNtID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuXHRfX3Byb3RvX186IG51bGwsXG5cdEFic3RyYWN0QWxnb3JpdGhtOiBBYnN0cmFjdEFsZ29yaXRobSxcblx0QWJzdHJhY3RWaWV3cG9ydEFsZ29yaXRobTogQWJzdHJhY3RWaWV3cG9ydEFsZ29yaXRobSxcblx0Q2x1c3RlcjogQ2x1c3Rlcixcblx0Q2x1c3RlclN0YXRzOiBDbHVzdGVyU3RhdHMsXG5cdERlZmF1bHRSZW5kZXJlcjogRGVmYXVsdFJlbmRlcmVyLFxuXHRHcmlkQWxnb3JpdGhtOiBHcmlkQWxnb3JpdGhtLFxuXHRNYXJrZXJDbHVzdGVyZXI6IE1hcmtlckNsdXN0ZXJlcixcblx0Z2V0IE1hcmtlckNsdXN0ZXJlckV2ZW50cyAoKSB7IHJldHVybiBNYXJrZXJDbHVzdGVyZXJFdmVudHM7IH0sXG5cdE5vb3BBbGdvcml0aG06IE5vb3BBbGdvcml0aG0sXG5cdFN1cGVyQ2x1c3RlckFsZ29yaXRobTogU3VwZXJDbHVzdGVyQWxnb3JpdGhtLFxuXHRkZWZhdWx0T25DbHVzdGVyQ2xpY2tIYW5kbGVyOiBkZWZhdWx0T25DbHVzdGVyQ2xpY2tIYW5kbGVyLFxuXHRkaXN0YW5jZUJldHdlZW5Qb2ludHM6IGRpc3RhbmNlQmV0d2VlblBvaW50cyxcblx0ZXh0ZW5kQm91bmRzVG9QYWRkZWRWaWV3cG9ydDogZXh0ZW5kQm91bmRzVG9QYWRkZWRWaWV3cG9ydCxcblx0ZXh0ZW5kUGl4ZWxCb3VuZHM6IGV4dGVuZFBpeGVsQm91bmRzLFxuXHRmaWx0ZXJNYXJrZXJzVG9QYWRkZWRWaWV3cG9ydDogZmlsdGVyTWFya2Vyc1RvUGFkZGVkVmlld3BvcnQsXG5cdG5vb3A6IG5vb3AkMSxcblx0cGl4ZWxCb3VuZHNUb0xhdExuZ0JvdW5kczogcGl4ZWxCb3VuZHNUb0xhdExuZ0JvdW5kc1xufSk7XG5cbmZ1bmN0aW9uIHVzZUdvb2dsZU1hcmtlckNsdXN0ZXJlcihvcHRpb25zKSB7XG4gICAgY29uc3QgbWFwID0gdXNlR29vZ2xlTWFwKCk7XG4gICAgY29uc3QgW21hcmtlckNsdXN0ZXJlciwgc2V0TWFya2VyQ2x1c3RlcmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChtYXAgJiYgbWFya2VyQ2x1c3RlcmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBtYXJrZXJDbHVzdGVyID0gbmV3IE1hcmtlckNsdXN0ZXJlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IG1hcCB9KSk7XG4gICAgICAgICAgICBzZXRNYXJrZXJDbHVzdGVyZXIobWFya2VyQ2x1c3Rlcik7XG4gICAgICAgIH1cbiAgICB9LCBbbWFwXSk7XG4gICAgcmV0dXJuIG1hcmtlckNsdXN0ZXJlcjtcbn1cbi8qKiBXcmFwcGVyIGFyb3VuZCBbQGdvb2dsZW1hcHMvbWFya2VyY2x1c3RlcmVyXShodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlbWFwcy9qcy1tYXJrZXJjbHVzdGVyZXIpXG4gKlxuICogQWNjZXB0cyB7QGxpbmsgIE1hcmtlckNsdXN0ZXJlck9wdGlvbnNTdWJzZXR9IHdoaWNoIGlzIGEgc3Vic2V0IG9mICB7QGxpbmsgTWFya2VyQ2x1c3RlcmVyT3B0aW9uc31cbiAqL1xuZnVuY3Rpb24gR29vZ2xlTWFya2VyQ2x1c3RlcmVyKHsgY2hpbGRyZW4sIG9wdGlvbnMgfSkge1xuICAgIGNvbnN0IG1hcmtlckNsdXN0ZXJlciA9IHVzZUdvb2dsZU1hcmtlckNsdXN0ZXJlcihvcHRpb25zKTtcbiAgICByZXR1cm4gbWFya2VyQ2x1c3RlcmVyICE9PSBudWxsID8gY2hpbGRyZW4obWFya2VyQ2x1c3RlcmVyKSA6IG51bGw7XG59XG52YXIgR29vZ2xlTWFya2VyQ2x1c3RlcmVyJDEgPSBtZW1vKEdvb2dsZU1hcmtlckNsdXN0ZXJlcik7XG5cbi8qIGdsb2JhbCBnb29nbGUgKi9cbmNvbnN0IGV2ZW50TWFwJGMgPSB7XG4gICAgb25DbG9zZUNsaWNrOiAnY2xvc2VjbGljaycsXG4gICAgb25Db250ZW50Q2hhbmdlZDogJ2NvbnRlbnRfY2hhbmdlZCcsXG4gICAgb25Eb21SZWFkeTogJ2RvbXJlYWR5JyxcbiAgICBvblBvc2l0aW9uQ2hhbmdlZDogJ3Bvc2l0aW9uX2NoYW5nZWQnLFxuICAgIG9uWmluZGV4Q2hhbmdlZDogJ3ppbmRleF9jaGFuZ2VkJyxcbn07XG5jb25zdCB1cGRhdGVyTWFwJGMgPSB7XG4gICAgb3B0aW9ucyhpbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH0sXG4gICAgcG9zaXRpb24oaW5zdGFuY2UsIHBvc2l0aW9uKSB7XG4gICAgICAgIGluc3RhbmNlLnNldFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICB9LFxuICAgIHpJbmRleChpbnN0YW5jZSwgekluZGV4KSB7XG4gICAgICAgIGluc3RhbmNlLnNldFpJbmRleCh6SW5kZXgpO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gSW5mb1dpbmRvd0Z1bmN0aW9uYWwoeyBjaGlsZHJlbiwgYW5jaG9yLCBvcHRpb25zLCBwb3NpdGlvbiwgekluZGV4LCBvbkNsb3NlQ2xpY2ssIG9uRG9tUmVhZHksIG9uQ29udGVudENoYW5nZWQsIG9uUG9zaXRpb25DaGFuZ2VkLCBvblppbmRleENoYW5nZWQsIG9uTG9hZCwgb25Vbm1vdW50IH0pIHtcbiAgICBjb25zdCBtYXAgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICAgIGNvbnN0IFtpbnN0YW5jZSwgc2V0SW5zdGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2Nsb3NlY2xpY2tMaXN0ZW5lciwgc2V0Q2xvc2VDbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkb21yZWFkeWNsaWNrTGlzdGVuZXIsIHNldERvbVJlYWR5Q2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29udGVudGNoYW5nZWRjbGlja0xpc3RlbmVyLCBzZXRDb250ZW50Q2hhbmdlZENsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3Bvc2l0aW9uY2hhbmdlZGNsaWNrTGlzdGVuZXIsIHNldFBvc2l0aW9uQ2hhbmdlZENsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3ppbmRleGNoYW5nZWRjbGlja0xpc3RlbmVyLCBzZXRaaW5kZXhDaGFuZ2VkQ2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBjb250YWluZXJFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpO1xuICAgIC8vIE9yZGVyIGRvZXMgbWF0dGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgaWYgKGFuY2hvcikge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLm9wZW4obWFwLCBhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuZ2V0UG9zaXRpb24oKSkge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLm9wZW4obWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFttYXAsIGluc3RhbmNlLCBhbmNob3JdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgb3B0aW9uc10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChwb3NpdGlvbiAmJiBpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0UG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgfSwgW3Bvc2l0aW9uXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB6SW5kZXggPT09ICdudW1iZXInICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRaSW5kZXgoekluZGV4KTtcbiAgICAgICAgfVxuICAgIH0sIFt6SW5kZXhdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25DbG9zZUNsaWNrKSB7XG4gICAgICAgICAgICBpZiAoY2xvc2VjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoY2xvc2VjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENsb3NlQ2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2Nsb3NlY2xpY2snLCBvbkNsb3NlQ2xpY2spKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsb3NlQ2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Eb21SZWFkeSkge1xuICAgICAgICAgICAgaWYgKGRvbXJlYWR5Y2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvbXJlYWR5Y2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREb21SZWFkeUNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdkb21yZWFkeScsIG9uRG9tUmVhZHkpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkRvbVJlYWR5XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uQ29udGVudENoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmIChjb250ZW50Y2hhbmdlZGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjb250ZW50Y2hhbmdlZGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q29udGVudENoYW5nZWRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnY29udGVudF9jaGFuZ2VkJywgb25Db250ZW50Q2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ29udGVudENoYW5nZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Qb3NpdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbmNoYW5nZWRjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocG9zaXRpb25jaGFuZ2VkY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRQb3NpdGlvbkNoYW5nZWRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAncG9zaXRpb25fY2hhbmdlZCcsIG9uUG9zaXRpb25DaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Qb3NpdGlvbkNoYW5nZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25aaW5kZXhDaGFuZ2VkKSB7XG4gICAgICAgICAgICBpZiAoemluZGV4Y2hhbmdlZGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih6aW5kZXhjaGFuZ2VkY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRaaW5kZXhDaGFuZ2VkQ2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ3ppbmRleF9jaGFuZ2VkJywgb25aaW5kZXhDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25aaW5kZXhDaGFuZ2VkXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KE9iamVjdC5hc3NpZ24oe30sIChvcHRpb25zIHx8IHt9KSkpO1xuICAgICAgICBzZXRJbnN0YW5jZShpbmZvV2luZG93KTtcbiAgICAgICAgY29udGFpbmVyRWxlbWVudFJlZi5jdXJyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGlmIChvbkNsb3NlQ2xpY2spIHtcbiAgICAgICAgICAgIHNldENsb3NlQ2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbmZvV2luZG93LCAnY2xvc2VjbGljaycsIG9uQ2xvc2VDbGljaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRvbVJlYWR5KSB7XG4gICAgICAgICAgICBzZXREb21SZWFkeUNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5mb1dpbmRvdywgJ2RvbXJlYWR5Jywgb25Eb21SZWFkeSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkNvbnRlbnRDaGFuZ2VkKSB7XG4gICAgICAgICAgICBzZXRDb250ZW50Q2hhbmdlZENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5mb1dpbmRvdywgJ2NvbnRlbnRfY2hhbmdlZCcsIG9uQ29udGVudENoYW5nZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25Qb3NpdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgIHNldFBvc2l0aW9uQ2hhbmdlZENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5mb1dpbmRvdywgJ3Bvc2l0aW9uX2NoYW5nZWQnLCBvblBvc2l0aW9uQ2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblppbmRleENoYW5nZWQpIHtcbiAgICAgICAgICAgIHNldFppbmRleENoYW5nZWRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluZm9XaW5kb3csICd6aW5kZXhfY2hhbmdlZCcsIG9uWmluZGV4Q2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgICAgIGluZm9XaW5kb3cuc2V0Q29udGVudChjb250YWluZXJFbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGluZm9XaW5kb3cuc2V0UG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh6SW5kZXgpIHtcbiAgICAgICAgICAgIGluZm9XaW5kb3cuc2V0WkluZGV4KHpJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuY2hvcikge1xuICAgICAgICAgICAgaW5mb1dpbmRvdy5vcGVuKG1hcCwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbmZvV2luZG93LmdldFBvc2l0aW9uKCkpIHtcbiAgICAgICAgICAgIGluZm9XaW5kb3cub3BlbihtYXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW52YXJpYW50XzEoZmFsc2UsIGBZb3UgbXVzdCBwcm92aWRlIGVpdGhlciBhbiBhbmNob3IgKHR5cGljYWxseSByZW5kZXIgaXQgaW5zaWRlIGEgPE1hcmtlcj4pIG9yIGEgcG9zaXRpb24gcHJvcHMgZm9yIDxJbmZvV2luZG93Pi5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25Mb2FkKSB7XG4gICAgICAgICAgICBvbkxvYWQoaW5mb1dpbmRvdyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjbG9zZWNsaWNrTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjbG9zZWNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRlbnRjaGFuZ2VkY2xpY2tMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGNvbnRlbnRjaGFuZ2VkY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZG9tcmVhZHljbGlja0xpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZG9tcmVhZHljbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbmNoYW5nZWRjbGlja0xpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocG9zaXRpb25jaGFuZ2VkY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoemluZGV4Y2hhbmdlZGNsaWNrTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih6aW5kZXhjaGFuZ2VkY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgb25Vbm1vdW50KGluZm9XaW5kb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5mb1dpbmRvdy5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gY29udGFpbmVyRWxlbWVudFJlZi5jdXJyZW50ID8gKGNyZWF0ZVBvcnRhbChDaGlsZHJlbi5vbmx5KGNoaWxkcmVuKSwgY29udGFpbmVyRWxlbWVudFJlZi5jdXJyZW50KSkgOiAobnVsbCk7XG59XG5jb25zdCBJbmZvV2luZG93RiA9IG1lbW8oSW5mb1dpbmRvd0Z1bmN0aW9uYWwpO1xuY2xhc3MgSW5mb1dpbmRvdyBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5jb250YWluZXJFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGluZm9XaW5kb3c6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3BlbiA9IChpbmZvV2luZG93LCBhbmNob3IpID0+IHtcbiAgICAgICAgICAgIGlmIChhbmNob3IpIHtcbiAgICAgICAgICAgICAgICBpbmZvV2luZG93Lm9wZW4odGhpcy5jb250ZXh0LCBhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5mb1dpbmRvdy5nZXRQb3NpdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGluZm9XaW5kb3cub3Blbih0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW52YXJpYW50XzEoZmFsc2UsIGBZb3UgbXVzdCBwcm92aWRlIGVpdGhlciBhbiBhbmNob3IgKHR5cGljYWxseSByZW5kZXIgaXQgaW5zaWRlIGEgPE1hcmtlcj4pIG9yIGEgcG9zaXRpb24gcHJvcHMgZm9yIDxJbmZvV2luZG93Pi5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRJbmZvV2luZG93Q2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbmZvV2luZG93ICE9PSBudWxsICYmIHRoaXMuY29udGFpbmVyRWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW5mb1dpbmRvdy5zZXRDb250ZW50KHRoaXMuY29udGFpbmVyRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuKHRoaXMuc3RhdGUuaW5mb1dpbmRvdywgdGhpcy5wcm9wcy5hbmNob3IpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLnN0YXRlLmluZm9XaW5kb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IGluZm9XaW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyhPYmplY3QuYXNzaWduKHt9LCAodGhpcy5wcm9wcy5vcHRpb25zIHx8IHt9KSkpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGMsXG4gICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkYyxcbiAgICAgICAgICAgIHByZXZQcm9wczoge30sXG4gICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpbnN0YW5jZTogaW5mb1dpbmRvdyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbmZvV2luZG93LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgdGhpcy5zZXRJbmZvV2luZG93Q2FsbGJhY2spO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmluZm9XaW5kb3cgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkYyxcbiAgICAgICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkYyxcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLmluZm9XaW5kb3csXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaW5mb1dpbmRvdyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5pbmZvV2luZG93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaW5mb1dpbmRvdy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyRWxlbWVudCA/IChjcmVhdGVQb3J0YWwoQ2hpbGRyZW4ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKSwgdGhpcy5jb250YWluZXJFbGVtZW50KSkgOiAobnVsbCk7XG4gICAgfVxufVxuSW5mb1dpbmRvdy5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbmNvbnN0IGV2ZW50TWFwJGIgPSB7XG4gICAgb25DbGljazogJ2NsaWNrJyxcbiAgICBvbkRibENsaWNrOiAnZGJsY2xpY2snLFxuICAgIG9uRHJhZzogJ2RyYWcnLFxuICAgIG9uRHJhZ0VuZDogJ2RyYWdlbmQnLFxuICAgIG9uRHJhZ1N0YXJ0OiAnZHJhZ3N0YXJ0JyxcbiAgICBvbk1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gICAgb25Nb3VzZU1vdmU6ICdtb3VzZW1vdmUnLFxuICAgIG9uTW91c2VPdXQ6ICdtb3VzZW91dCcsXG4gICAgb25Nb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICAgIG9uTW91c2VVcDogJ21vdXNldXAnLFxuICAgIG9uUmlnaHRDbGljazogJ3JpZ2h0Y2xpY2snLFxufTtcbmNvbnN0IHVwZGF0ZXJNYXAkYiA9IHtcbiAgICBkcmFnZ2FibGUoaW5zdGFuY2UsIGRyYWdnYWJsZSkge1xuICAgICAgICBpbnN0YW5jZS5zZXREcmFnZ2FibGUoZHJhZ2dhYmxlKTtcbiAgICB9LFxuICAgIGVkaXRhYmxlKGluc3RhbmNlLCBlZGl0YWJsZSkge1xuICAgICAgICBpbnN0YW5jZS5zZXRFZGl0YWJsZShlZGl0YWJsZSk7XG4gICAgfSxcbiAgICBtYXAoaW5zdGFuY2UsIG1hcCkge1xuICAgICAgICBpbnN0YW5jZS5zZXRNYXAobWFwKTtcbiAgICB9LFxuICAgIG9wdGlvbnMoaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9LFxuICAgIHBhdGgoaW5zdGFuY2UsIHBhdGgpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0UGF0aChwYXRoKTtcbiAgICB9LFxuICAgIHZpc2libGUoaW5zdGFuY2UsIHZpc2libGUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9LFxufTtcbmNvbnN0IGRlZmF1bHRPcHRpb25zJDEgPSB7fTtcbmZ1bmN0aW9uIFBvbHlsaW5lRnVuY3Rpb25hbCh7IG9wdGlvbnMsIGRyYWdnYWJsZSwgZWRpdGFibGUsIHZpc2libGUsIHBhdGgsIG9uRGJsQ2xpY2ssIG9uRHJhZ0VuZCwgb25EcmFnU3RhcnQsIG9uTW91c2VEb3duLCBvbk1vdXNlTW92ZSwgb25Nb3VzZU91dCwgb25Nb3VzZU92ZXIsIG9uTW91c2VVcCwgb25SaWdodENsaWNrLCBvbkNsaWNrLCBvbkRyYWcsIG9uTG9hZCwgb25Vbm1vdW50LCB9KSB7XG4gICAgY29uc3QgbWFwID0gdXNlQ29udGV4dChNYXBDb250ZXh0KTtcbiAgICBjb25zdCBbaW5zdGFuY2UsIHNldEluc3RhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkYmxjbGlja0xpc3RlbmVyLCBzZXREYmxjbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkcmFnZW5kTGlzdGVuZXIsIHNldERyYWdlbmRMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZHJhZ3N0YXJ0TGlzdGVuZXIsIHNldERyYWdzdGFydExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZWRvd25MaXN0ZW5lciwgc2V0TW91c2Vkb3duTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlbW92ZUxpc3RlbmVyLCBzZXRNb3VzZW1vdmVMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2VvdXRMaXN0ZW5lciwgc2V0TW91c2VvdXRMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2VvdmVyTGlzdGVuZXIsIHNldE1vdXNlb3Zlckxpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZXVwTGlzdGVuZXIsIHNldE1vdXNldXBMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbcmlnaHRjbGlja0xpc3RlbmVyLCBzZXRSaWdodGNsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2NsaWNrTGlzdGVuZXIsIHNldENsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2RyYWdMaXN0ZW5lciwgc2V0RHJhZ0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIC8vIE9yZGVyIGRvZXMgbWF0dGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRNYXAobWFwKTtcbiAgICAgICAgfVxuICAgIH0sIFttYXBdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBvcHRpb25zXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBkcmFnZ2FibGUgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXREcmFnZ2FibGUoZHJhZ2dhYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgZHJhZ2dhYmxlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBlZGl0YWJsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldEVkaXRhYmxlKGVkaXRhYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgZWRpdGFibGVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZpc2libGUgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCB2aXNpYmxlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXRoICE9PSAndW5kZWZpbmVkJyAmJiBpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0UGF0aChwYXRoKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgcGF0aF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkRibENsaWNrKSB7XG4gICAgICAgICAgICBpZiAoZGJsY2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRibGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RGJsY2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2RibGNsaWNrJywgb25EYmxDbGljaykpO1xuICAgICAgICB9XG4gICAgfSwgW29uRGJsQ2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25EcmFnRW5kKSB7XG4gICAgICAgICAgICBpZiAoZHJhZ2VuZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZHJhZ2VuZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldERyYWdlbmRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2RyYWdlbmQnLCBvbkRyYWdFbmQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkRibENsaWNrXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uRHJhZ1N0YXJ0KSB7XG4gICAgICAgICAgICBpZiAoZHJhZ3N0YXJ0TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkcmFnc3RhcnRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREcmFnc3RhcnRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25EcmFnU3RhcnRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZURvd24pIHtcbiAgICAgICAgICAgIGlmIChtb3VzZWRvd25MaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlZG93bkxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNlZG93bkxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24pKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlRG93bl0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbk1vdXNlTW92ZSkge1xuICAgICAgICAgICAgaWYgKG1vdXNlbW92ZUxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2Vtb3ZlTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2Vtb3ZlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSkpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VNb3ZlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VPdXQpIHtcbiAgICAgICAgICAgIGlmIChtb3VzZW91dExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdXRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZW91dExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnbW91c2VvdXQnLCBvbk1vdXNlT3V0KSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZU91dF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbk1vdXNlT3Zlcikge1xuICAgICAgICAgICAgaWYgKG1vdXNlb3Zlckxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdmVyTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2VvdmVyTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZW92ZXInLCBvbk1vdXNlT3ZlcikpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VPdmVyXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VVcCkge1xuICAgICAgICAgICAgaWYgKG1vdXNldXBMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNldXBMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZXVwTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZXVwJywgb25Nb3VzZVVwKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZVVwXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uUmlnaHRDbGljaykge1xuICAgICAgICAgICAgaWYgKHJpZ2h0Y2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHJpZ2h0Y2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRSaWdodGNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdyaWdodGNsaWNrJywgb25SaWdodENsaWNrKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25SaWdodENsaWNrXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uQ2xpY2spIHtcbiAgICAgICAgICAgIGlmIChjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnY2xpY2snLCBvbkNsaWNrKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkRyYWcpIHtcbiAgICAgICAgICAgIGlmIChkcmFnTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkcmFnTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RHJhZ0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnZHJhZycsIG9uRHJhZykpO1xuICAgICAgICB9XG4gICAgfSwgW29uRHJhZ10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvbHlsaW5lID0gbmV3IGdvb2dsZS5tYXBzLlBvbHlsaW5lKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKG9wdGlvbnMgfHwgZGVmYXVsdE9wdGlvbnMkMSkpLCB7IG1hcCB9KSk7XG4gICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICBwb2x5bGluZS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmlzaWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBvbHlsaW5lLnNldFZpc2libGUodmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBlZGl0YWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBvbHlsaW5lLnNldEVkaXRhYmxlKGVkaXRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRyYWdnYWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBvbHlsaW5lLnNldERyYWdnYWJsZShkcmFnZ2FibGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRibENsaWNrKSB7XG4gICAgICAgICAgICBzZXREYmxjbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHBvbHlsaW5lLCAnZGJsY2xpY2snLCBvbkRibENsaWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRHJhZ0VuZCkge1xuICAgICAgICAgICAgc2V0RHJhZ2VuZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHBvbHlsaW5lLCAnZHJhZ2VuZCcsIG9uRHJhZ0VuZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRyYWdTdGFydCkge1xuICAgICAgICAgICAgc2V0RHJhZ3N0YXJ0TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocG9seWxpbmUsICdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlRG93bikge1xuICAgICAgICAgICAgc2V0TW91c2Vkb3duTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocG9seWxpbmUsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlTW92ZSkge1xuICAgICAgICAgICAgc2V0TW91c2Vtb3ZlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocG9seWxpbmUsICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlT3V0KSB7XG4gICAgICAgICAgICBzZXRNb3VzZW91dExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHBvbHlsaW5lLCAnbW91c2VvdXQnLCBvbk1vdXNlT3V0KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uTW91c2VPdmVyKSB7XG4gICAgICAgICAgICBzZXRNb3VzZW92ZXJMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihwb2x5bGluZSwgJ21vdXNlb3ZlcicsIG9uTW91c2VPdmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uTW91c2VVcCkge1xuICAgICAgICAgICAgc2V0TW91c2V1cExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHBvbHlsaW5lLCAnbW91c2V1cCcsIG9uTW91c2VVcCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblJpZ2h0Q2xpY2spIHtcbiAgICAgICAgICAgIHNldFJpZ2h0Y2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihwb2x5bGluZSwgJ3JpZ2h0Y2xpY2snLCBvblJpZ2h0Q2xpY2spKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgc2V0Q2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihwb2x5bGluZSwgJ2NsaWNrJywgb25DbGljaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRyYWcpIHtcbiAgICAgICAgICAgIHNldERyYWdMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihwb2x5bGluZSwgJ2RyYWcnLCBvbkRyYWcpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJbnN0YW5jZShwb2x5bGluZSk7XG4gICAgICAgIGlmIChvbkxvYWQpIHtcbiAgICAgICAgICAgIG9uTG9hZChwb2x5bGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChkYmxjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZGJsY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJhZ2VuZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZHJhZ2VuZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkcmFnc3RhcnRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdzdGFydExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3VzZWRvd25MaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlZG93bkxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3VzZW1vdmVMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlbW92ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3VzZW91dExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdXRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2VvdmVyTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW92ZXJMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2V1cExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2V1cExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyaWdodGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihyaWdodGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvblVubW91bnQpIHtcbiAgICAgICAgICAgICAgICBvblVubW91bnQocG9seWxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9seWxpbmUuc2V0TWFwKG51bGwpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IFBvbHlsaW5lRiA9IG1lbW8oUG9seWxpbmVGdW5jdGlvbmFsKTtcbmNsYXNzIFBvbHlsaW5lIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcG9seWxpbmU6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0UG9seWxpbmVDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnBvbHlsaW5lICE9PSBudWxsICYmIHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkxvYWQodGhpcy5zdGF0ZS5wb2x5bGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCBwb2x5bGluZSA9IG5ldyBnb29nbGUubWFwcy5Qb2x5bGluZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICh0aGlzLnByb3BzLm9wdGlvbnMgfHwge30pKSwgeyBtYXA6IHRoaXMuY29udGV4dCB9KSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRiLFxuICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGIsXG4gICAgICAgICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaW5zdGFuY2U6IHBvbHlsaW5lLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXRQb2x5bGluZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9seWxpbmUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB0aGlzLnNldFBvbHlsaW5lQ2FsbGJhY2spO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBvbHlsaW5lICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGIsXG4gICAgICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGIsXG4gICAgICAgICAgICAgICAgcHJldlByb3BzLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZTogdGhpcy5zdGF0ZS5wb2x5bGluZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5wb2x5bGluZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5wb2x5bGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnBvbHlsaW5lLnNldE1hcChudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblBvbHlsaW5lLmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxuLyogZ2xvYmFsIGdvb2dsZSAqL1xuY29uc3QgZXZlbnRNYXAkYSA9IHtcbiAgICBvbkNsaWNrOiAnY2xpY2snLFxuICAgIG9uRGJsQ2xpY2s6ICdkYmxjbGljaycsXG4gICAgb25EcmFnOiAnZHJhZycsXG4gICAgb25EcmFnRW5kOiAnZHJhZ2VuZCcsXG4gICAgb25EcmFnU3RhcnQ6ICdkcmFnc3RhcnQnLFxuICAgIG9uTW91c2VEb3duOiAnbW91c2Vkb3duJyxcbiAgICBvbk1vdXNlTW92ZTogJ21vdXNlbW92ZScsXG4gICAgb25Nb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgICBvbk1vdXNlT3ZlcjogJ21vdXNlb3ZlcicsXG4gICAgb25Nb3VzZVVwOiAnbW91c2V1cCcsXG4gICAgb25SaWdodENsaWNrOiAncmlnaHRjbGljaycsXG59O1xuY29uc3QgdXBkYXRlck1hcCRhID0ge1xuICAgIGRyYWdnYWJsZShpbnN0YW5jZSwgZHJhZ2dhYmxlKSB7XG4gICAgICAgIGluc3RhbmNlLnNldERyYWdnYWJsZShkcmFnZ2FibGUpO1xuICAgIH0sXG4gICAgZWRpdGFibGUoaW5zdGFuY2UsIGVkaXRhYmxlKSB7XG4gICAgICAgIGluc3RhbmNlLnNldEVkaXRhYmxlKGVkaXRhYmxlKTtcbiAgICB9LFxuICAgIG1hcChpbnN0YW5jZSwgbWFwKSB7XG4gICAgICAgIGluc3RhbmNlLnNldE1hcChtYXApO1xuICAgIH0sXG4gICAgb3B0aW9ucyhpbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH0sXG4gICAgcGF0aChpbnN0YW5jZSwgcGF0aCkge1xuICAgICAgICBpbnN0YW5jZS5zZXRQYXRoKHBhdGgpO1xuICAgIH0sXG4gICAgcGF0aHMoaW5zdGFuY2UsIHBhdGhzKSB7XG4gICAgICAgIGluc3RhbmNlLnNldFBhdGhzKHBhdGhzKTtcbiAgICB9LFxuICAgIHZpc2libGUoaW5zdGFuY2UsIHZpc2libGUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIFBvbHlnb25GdW5jdGlvbmFsKHsgb3B0aW9ucywgZHJhZ2dhYmxlLCBlZGl0YWJsZSwgdmlzaWJsZSwgcGF0aCwgb25EYmxDbGljaywgb25EcmFnRW5kLCBvbkRyYWdTdGFydCwgb25Nb3VzZURvd24sIG9uTW91c2VNb3ZlLCBvbk1vdXNlT3V0LCBvbk1vdXNlT3Zlciwgb25Nb3VzZVVwLCBvblJpZ2h0Q2xpY2ssIG9uQ2xpY2ssIG9uRHJhZywgb25Mb2FkLCBvblVubW91bnQsIH0pIHtcbiAgICBjb25zdCBtYXAgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICAgIGNvbnN0IFtpbnN0YW5jZSwgc2V0SW5zdGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2RibGNsaWNrTGlzdGVuZXIsIHNldERibGNsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2RyYWdlbmRMaXN0ZW5lciwgc2V0RHJhZ2VuZExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkcmFnc3RhcnRMaXN0ZW5lciwgc2V0RHJhZ3N0YXJ0TGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlZG93bkxpc3RlbmVyLCBzZXRNb3VzZWRvd25MaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2Vtb3ZlTGlzdGVuZXIsIHNldE1vdXNlbW92ZUxpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZW91dExpc3RlbmVyLCBzZXRNb3VzZW91dExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZW92ZXJMaXN0ZW5lciwgc2V0TW91c2VvdmVyTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNldXBMaXN0ZW5lciwgc2V0TW91c2V1cExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtyaWdodGNsaWNrTGlzdGVuZXIsIHNldFJpZ2h0Y2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY2xpY2tMaXN0ZW5lciwgc2V0Q2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZHJhZ0xpc3RlbmVyLCBzZXREcmFnTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gT3JkZXIgZG9lcyBtYXR0ZXJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldE1hcChtYXApO1xuICAgICAgICB9XG4gICAgfSwgW21hcF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9LCBbaW5zdGFuY2UsIG9wdGlvbnNdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGRyYWdnYWJsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldERyYWdnYWJsZShkcmFnZ2FibGUpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBkcmFnZ2FibGVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGVkaXRhYmxlICE9PSAndW5kZWZpbmVkJyAmJiBpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0RWRpdGFibGUoZWRpdGFibGUpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBlZGl0YWJsZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmlzaWJsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldFZpc2libGUodmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICB9LCBbaW5zdGFuY2UsIHZpc2libGVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHBhdGggIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBwYXRoXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uRGJsQ2xpY2spIHtcbiAgICAgICAgICAgIGlmIChkYmxjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZGJsY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREYmxjbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnZGJsY2xpY2snLCBvbkRibENsaWNrKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25EYmxDbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkRyYWdFbmQpIHtcbiAgICAgICAgICAgIGlmIChkcmFnZW5kTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkcmFnZW5kTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RHJhZ2VuZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnZHJhZ2VuZCcsIG9uRHJhZ0VuZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uRHJhZ0VuZF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkRyYWdTdGFydCkge1xuICAgICAgICAgICAgaWYgKGRyYWdzdGFydExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZHJhZ3N0YXJ0TGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RHJhZ3N0YXJ0TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uRHJhZ1N0YXJ0XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VEb3duKSB7XG4gICAgICAgICAgICBpZiAobW91c2Vkb3duTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZWRvd25MaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZWRvd25MaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNlZG93bicsIG9uTW91c2VEb3duKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZURvd25dKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZU1vdmUpIHtcbiAgICAgICAgICAgIGlmIChtb3VzZW1vdmVMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlbW92ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNlbW92ZUxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlTW92ZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbk1vdXNlT3V0KSB7XG4gICAgICAgICAgICBpZiAobW91c2VvdXRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlb3V0TGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2VvdXRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNlb3V0Jywgb25Nb3VzZU91dCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VPdXRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZU92ZXIpIHtcbiAgICAgICAgICAgIGlmIChtb3VzZW92ZXJMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlb3Zlckxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNlb3Zlckxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnbW91c2VvdmVyJywgb25Nb3VzZU92ZXIpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlT3Zlcl0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbk1vdXNlVXApIHtcbiAgICAgICAgICAgIGlmIChtb3VzZXVwTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZXVwTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2V1cExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnbW91c2V1cCcsIG9uTW91c2VVcCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VVcF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvblJpZ2h0Q2xpY2spIHtcbiAgICAgICAgICAgIGlmIChyaWdodGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihyaWdodGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UmlnaHRjbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAncmlnaHRjbGljaycsIG9uUmlnaHRDbGljaykpO1xuICAgICAgICB9XG4gICAgfSwgW29uUmlnaHRDbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkNsaWNrKSB7XG4gICAgICAgICAgICBpZiAoY2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2NsaWNrJywgb25DbGljaykpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25EcmFnKSB7XG4gICAgICAgICAgICBpZiAoZHJhZ0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZHJhZ0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldERyYWdMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2RyYWcnLCBvbkRyYWcpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkRyYWddKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBwb2x5Z29uID0gbmV3IGdvb2dsZS5tYXBzLlBvbHlnb24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAob3B0aW9ucyB8fCB7fSkpLCB7IG1hcCB9KSk7XG4gICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICBwb2x5Z29uLnNldFBhdGgocGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2aXNpYmxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcG9seWdvbi5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZWRpdGFibGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBwb2x5Z29uLnNldEVkaXRhYmxlKGVkaXRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRyYWdnYWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBvbHlnb24uc2V0RHJhZ2dhYmxlKGRyYWdnYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRGJsQ2xpY2spIHtcbiAgICAgICAgICAgIHNldERibGNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocG9seWdvbiwgJ2RibGNsaWNrJywgb25EYmxDbGljaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRyYWdFbmQpIHtcbiAgICAgICAgICAgIHNldERyYWdlbmRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihwb2x5Z29uLCAnZHJhZ2VuZCcsIG9uRHJhZ0VuZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRyYWdTdGFydCkge1xuICAgICAgICAgICAgc2V0RHJhZ3N0YXJ0TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocG9seWdvbiwgJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uTW91c2VEb3duKSB7XG4gICAgICAgICAgICBzZXRNb3VzZWRvd25MaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihwb2x5Z29uLCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25Nb3VzZU1vdmUpIHtcbiAgICAgICAgICAgIHNldE1vdXNlbW92ZUxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHBvbHlnb24sICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlT3V0KSB7XG4gICAgICAgICAgICBzZXRNb3VzZW91dExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHBvbHlnb24sICdtb3VzZW91dCcsIG9uTW91c2VPdXQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25Nb3VzZU92ZXIpIHtcbiAgICAgICAgICAgIHNldE1vdXNlb3Zlckxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHBvbHlnb24sICdtb3VzZW92ZXInLCBvbk1vdXNlT3ZlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlVXApIHtcbiAgICAgICAgICAgIHNldE1vdXNldXBMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihwb2x5Z29uLCAnbW91c2V1cCcsIG9uTW91c2VVcCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblJpZ2h0Q2xpY2spIHtcbiAgICAgICAgICAgIHNldFJpZ2h0Y2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihwb2x5Z29uLCAncmlnaHRjbGljaycsIG9uUmlnaHRDbGljaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBzZXRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHBvbHlnb24sICdjbGljaycsIG9uQ2xpY2spKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25EcmFnKSB7XG4gICAgICAgICAgICBzZXREcmFnTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocG9seWdvbiwgJ2RyYWcnLCBvbkRyYWcpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJbnN0YW5jZShwb2x5Z29uKTtcbiAgICAgICAgaWYgKG9uTG9hZCkge1xuICAgICAgICAgICAgb25Mb2FkKHBvbHlnb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGJsY2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRibGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRyYWdlbmRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdlbmRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJhZ3N0YXJ0TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkcmFnc3RhcnRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2Vkb3duTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZWRvd25MaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2Vtb3ZlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2VvdXRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlb3V0TGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdXNlb3Zlckxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdmVyTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdXNldXBMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNldXBMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmlnaHRjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocmlnaHRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgb25Vbm1vdW50KHBvbHlnb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9seWdvbi5zZXRNYXAobnVsbCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBudWxsO1xufVxuY29uc3QgUG9seWdvbkYgPSBtZW1vKFBvbHlnb25GdW5jdGlvbmFsKTtcbmNsYXNzIFBvbHlnb24gZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBwb2x5Z29uOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFBvbHlnb25DYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnBvbHlnb24gIT09IG51bGwgJiYgdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLnN0YXRlLnBvbHlnb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgcG9seWdvbiA9IG5ldyBnb29nbGUubWFwcy5Qb2x5Z29uKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKHRoaXMucHJvcHMub3B0aW9ucyB8fCB7fSkpLCB7IFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgbWFwOiB0aGlzLmNvbnRleHQgfSkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkYSxcbiAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRhLFxuICAgICAgICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGluc3RhbmNlOiBwb2x5Z29uLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXRQb2x5Z29uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwb2x5Z29uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgdGhpcy5zZXRQb2x5Z29uQ2FsbGJhY2spO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBvbHlnb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkYSxcbiAgICAgICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkYSxcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLnBvbHlnb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucG9seWdvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5wb2x5Z29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9seWdvbiAmJiB0aGlzLnN0YXRlLnBvbHlnb24uc2V0TWFwKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuUG9seWdvbi5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbmNvbnN0IGV2ZW50TWFwJDkgPSB7XG4gICAgb25Cb3VuZHNDaGFuZ2VkOiAnYm91bmRzX2NoYW5nZWQnLFxuICAgIG9uQ2xpY2s6ICdjbGljaycsXG4gICAgb25EYmxDbGljazogJ2RibGNsaWNrJyxcbiAgICBvbkRyYWc6ICdkcmFnJyxcbiAgICBvbkRyYWdFbmQ6ICdkcmFnZW5kJyxcbiAgICBvbkRyYWdTdGFydDogJ2RyYWdzdGFydCcsXG4gICAgb25Nb3VzZURvd246ICdtb3VzZWRvd24nLFxuICAgIG9uTW91c2VNb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgICBvbk1vdXNlT3V0OiAnbW91c2VvdXQnLFxuICAgIG9uTW91c2VPdmVyOiAnbW91c2VvdmVyJyxcbiAgICBvbk1vdXNlVXA6ICdtb3VzZXVwJyxcbiAgICBvblJpZ2h0Q2xpY2s6ICdyaWdodGNsaWNrJyxcbn07XG5jb25zdCB1cGRhdGVyTWFwJDkgPSB7XG4gICAgYm91bmRzKGluc3RhbmNlLCBib3VuZHMpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0Qm91bmRzKGJvdW5kcyk7XG4gICAgfSxcbiAgICBkcmFnZ2FibGUoaW5zdGFuY2UsIGRyYWdnYWJsZSkge1xuICAgICAgICBpbnN0YW5jZS5zZXREcmFnZ2FibGUoZHJhZ2dhYmxlKTtcbiAgICB9LFxuICAgIGVkaXRhYmxlKGluc3RhbmNlLCBlZGl0YWJsZSkge1xuICAgICAgICBpbnN0YW5jZS5zZXRFZGl0YWJsZShlZGl0YWJsZSk7XG4gICAgfSxcbiAgICBtYXAoaW5zdGFuY2UsIG1hcCkge1xuICAgICAgICBpbnN0YW5jZS5zZXRNYXAobWFwKTtcbiAgICB9LFxuICAgIG9wdGlvbnMoaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9LFxuICAgIHZpc2libGUoaW5zdGFuY2UsIHZpc2libGUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIFJlY3RhbmdsZUZ1bmN0aW9uYWwoeyBvcHRpb25zLCBib3VuZHMsIGRyYWdnYWJsZSwgZWRpdGFibGUsIHZpc2libGUsIG9uRGJsQ2xpY2ssIG9uRHJhZ0VuZCwgb25EcmFnU3RhcnQsIG9uTW91c2VEb3duLCBvbk1vdXNlTW92ZSwgb25Nb3VzZU91dCwgb25Nb3VzZU92ZXIsIG9uTW91c2VVcCwgb25SaWdodENsaWNrLCBvbkNsaWNrLCBvbkRyYWcsIG9uQm91bmRzQ2hhbmdlZCwgb25Mb2FkLCBvblVubW91bnQsIH0pIHtcbiAgICBjb25zdCBtYXAgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICAgIGNvbnN0IFtpbnN0YW5jZSwgc2V0SW5zdGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2RibGNsaWNrTGlzdGVuZXIsIHNldERibGNsaWNrTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2RyYWdlbmRMaXN0ZW5lciwgc2V0RHJhZ2VuZExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkcmFnc3RhcnRMaXN0ZW5lciwgc2V0RHJhZ3N0YXJ0TGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlZG93bkxpc3RlbmVyLCBzZXRNb3VzZWRvd25MaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2Vtb3ZlTGlzdGVuZXIsIHNldE1vdXNlbW92ZUxpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZW91dExpc3RlbmVyLCBzZXRNb3VzZW91dExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZW92ZXJMaXN0ZW5lciwgc2V0TW91c2VvdmVyTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNldXBMaXN0ZW5lciwgc2V0TW91c2V1cExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtyaWdodGNsaWNrTGlzdGVuZXIsIHNldFJpZ2h0Y2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY2xpY2tMaXN0ZW5lciwgc2V0Q2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZHJhZ0xpc3RlbmVyLCBzZXREcmFnTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2JvdW5kc0NoYW5nZWRMaXN0ZW5lciwgc2V0Qm91bmRzQ2hhbmdlZExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIC8vIE9yZGVyIGRvZXMgbWF0dGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRNYXAobWFwKTtcbiAgICAgICAgfVxuICAgIH0sIFttYXBdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBvcHRpb25zXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBkcmFnZ2FibGUgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXREcmFnZ2FibGUoZHJhZ2dhYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgZHJhZ2dhYmxlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBlZGl0YWJsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldEVkaXRhYmxlKGVkaXRhYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgZWRpdGFibGVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZpc2libGUgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCB2aXNpYmxlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBib3VuZHMgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgYm91bmRzXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uRGJsQ2xpY2spIHtcbiAgICAgICAgICAgIGlmIChkYmxjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZGJsY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREYmxjbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnZGJsY2xpY2snLCBvbkRibENsaWNrKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25EYmxDbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkRyYWdFbmQpIHtcbiAgICAgICAgICAgIGlmIChkcmFnZW5kTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkcmFnZW5kTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RHJhZ2VuZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnZHJhZ2VuZCcsIG9uRHJhZ0VuZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uRGJsQ2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25EcmFnU3RhcnQpIHtcbiAgICAgICAgICAgIGlmIChkcmFnc3RhcnRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdzdGFydExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldERyYWdzdGFydExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkRyYWdTdGFydF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbk1vdXNlRG93bikge1xuICAgICAgICAgICAgaWYgKG1vdXNlZG93bkxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2Vkb3duTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2Vkb3duTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bikpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VEb3duXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VNb3ZlKSB7XG4gICAgICAgICAgICBpZiAobW91c2Vtb3ZlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZW1vdmVMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZU1vdmVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZU91dCkge1xuICAgICAgICAgICAgaWYgKG1vdXNlb3V0TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW91dExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNlb3V0TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZW91dCcsIG9uTW91c2VPdXQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlT3V0XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VPdmVyKSB7XG4gICAgICAgICAgICBpZiAobW91c2VvdmVyTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW92ZXJMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZW92ZXJMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNlb3ZlcicsIG9uTW91c2VPdmVyKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZU92ZXJdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZVVwKSB7XG4gICAgICAgICAgICBpZiAobW91c2V1cExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2V1cExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNldXBMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNldXAnLCBvbk1vdXNlVXApKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlVXBdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25SaWdodENsaWNrKSB7XG4gICAgICAgICAgICBpZiAocmlnaHRjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocmlnaHRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFJpZ2h0Y2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ3JpZ2h0Y2xpY2snLCBvblJpZ2h0Q2xpY2spKTtcbiAgICAgICAgfVxuICAgIH0sIFtvblJpZ2h0Q2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25DbGljaykge1xuICAgICAgICAgICAgaWYgKGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdjbGljaycsIG9uQ2xpY2spKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsaWNrXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uRHJhZykge1xuICAgICAgICAgICAgaWYgKGRyYWdMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREcmFnTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdkcmFnJywgb25EcmFnKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25EcmFnXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uQm91bmRzQ2hhbmdlZCkge1xuICAgICAgICAgICAgaWYgKGJvdW5kc0NoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGJvdW5kc0NoYW5nZWRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRCb3VuZHNDaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdib3VuZHNfY2hhbmdlZCcsIG9uQm91bmRzQ2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uQm91bmRzQ2hhbmdlZF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3RhbmdsZSA9IG5ldyBnb29nbGUubWFwcy5SZWN0YW5nbGUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAob3B0aW9ucyB8fCB7fSkpLCB7IG1hcCB9KSk7XG4gICAgICAgIGlmICh0eXBlb2YgdmlzaWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJlY3RhbmdsZS5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZWRpdGFibGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZWN0YW5nbGUuc2V0RWRpdGFibGUoZWRpdGFibGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZHJhZ2dhYmxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVjdGFuZ2xlLnNldERyYWdnYWJsZShkcmFnZ2FibGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYm91bmRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVjdGFuZ2xlLnNldEJvdW5kcyhib3VuZHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRibENsaWNrKSB7XG4gICAgICAgICAgICBzZXREYmxjbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHJlY3RhbmdsZSwgJ2RibGNsaWNrJywgb25EYmxDbGljaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRyYWdFbmQpIHtcbiAgICAgICAgICAgIHNldERyYWdlbmRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihyZWN0YW5nbGUsICdkcmFnZW5kJywgb25EcmFnRW5kKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRHJhZ1N0YXJ0KSB7XG4gICAgICAgICAgICBzZXREcmFnc3RhcnRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihyZWN0YW5nbGUsICdkcmFnc3RhcnQnLCBvbkRyYWdTdGFydCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlRG93bikge1xuICAgICAgICAgICAgc2V0TW91c2Vkb3duTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocmVjdGFuZ2xlLCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25Nb3VzZU1vdmUpIHtcbiAgICAgICAgICAgIHNldE1vdXNlbW92ZUxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHJlY3RhbmdsZSwgJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uTW91c2VPdXQpIHtcbiAgICAgICAgICAgIHNldE1vdXNlb3V0TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocmVjdGFuZ2xlLCAnbW91c2VvdXQnLCBvbk1vdXNlT3V0KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uTW91c2VPdmVyKSB7XG4gICAgICAgICAgICBzZXRNb3VzZW92ZXJMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihyZWN0YW5nbGUsICdtb3VzZW92ZXInLCBvbk1vdXNlT3ZlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlVXApIHtcbiAgICAgICAgICAgIHNldE1vdXNldXBMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihyZWN0YW5nbGUsICdtb3VzZXVwJywgb25Nb3VzZVVwKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uUmlnaHRDbGljaykge1xuICAgICAgICAgICAgc2V0UmlnaHRjbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHJlY3RhbmdsZSwgJ3JpZ2h0Y2xpY2snLCBvblJpZ2h0Q2xpY2spKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgc2V0Q2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihyZWN0YW5nbGUsICdjbGljaycsIG9uQ2xpY2spKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25EcmFnKSB7XG4gICAgICAgICAgICBzZXREcmFnTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocmVjdGFuZ2xlLCAnZHJhZycsIG9uRHJhZykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkJvdW5kc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHNldEJvdW5kc0NoYW5nZWRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihyZWN0YW5nbGUsICdib3VuZHNfY2hhbmdlZCcsIG9uQm91bmRzQ2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgICAgIHNldEluc3RhbmNlKHJlY3RhbmdsZSk7XG4gICAgICAgIGlmIChvbkxvYWQpIHtcbiAgICAgICAgICAgIG9uTG9hZChyZWN0YW5nbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGJsY2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRibGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRyYWdlbmRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdlbmRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJhZ3N0YXJ0TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkcmFnc3RhcnRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2Vkb3duTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZWRvd25MaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2Vtb3ZlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2VvdXRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlb3V0TGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdXNlb3Zlckxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdmVyTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdXNldXBMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNldXBMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmlnaHRjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocmlnaHRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJhZ0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZHJhZ0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZHNDaGFuZ2VkTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihib3VuZHNDaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIG9uVW5tb3VudChyZWN0YW5nbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdGFuZ2xlLnNldE1hcChudWxsKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBSZWN0YW5nbGVGID0gbWVtbyhSZWN0YW5nbGVGdW5jdGlvbmFsKTtcbmNsYXNzIFJlY3RhbmdsZSBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHJlY3RhbmdsZTogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRSZWN0YW5nbGVDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnJlY3RhbmdsZSAhPT0gbnVsbCAmJiB0aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Mb2FkKHRoaXMuc3RhdGUucmVjdGFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHJlY3RhbmdsZSA9IG5ldyBnb29nbGUubWFwcy5SZWN0YW5nbGUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAodGhpcy5wcm9wcy5vcHRpb25zIHx8IHt9KSksIHsgXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBtYXA6IHRoaXMuY29udGV4dCB9KSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ5LFxuICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDksXG4gICAgICAgICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaW5zdGFuY2U6IHJlY3RhbmdsZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0UmVjdGFuZ2xlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZWN0YW5nbGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB0aGlzLnNldFJlY3RhbmdsZUNhbGxiYWNrKTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5yZWN0YW5nbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkOSxcbiAgICAgICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkOSxcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLnJlY3RhbmdsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5yZWN0YW5nbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUucmVjdGFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucmVjdGFuZ2xlLnNldE1hcChudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblJlY3RhbmdsZS5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbmNvbnN0IGV2ZW50TWFwJDggPSB7XG4gICAgb25DZW50ZXJDaGFuZ2VkOiAnY2VudGVyX2NoYW5nZWQnLFxuICAgIG9uUmFkaXVzQ2hhbmdlZDogJ3JhZGl1c19jaGFuZ2VkJyxcbiAgICBvbkNsaWNrOiAnY2xpY2snLFxuICAgIG9uRGJsQ2xpY2s6ICdkYmxjbGljaycsXG4gICAgb25EcmFnOiAnZHJhZycsXG4gICAgb25EcmFnRW5kOiAnZHJhZ2VuZCcsXG4gICAgb25EcmFnU3RhcnQ6ICdkcmFnc3RhcnQnLFxuICAgIG9uTW91c2VEb3duOiAnbW91c2Vkb3duJyxcbiAgICBvbk1vdXNlTW92ZTogJ21vdXNlbW92ZScsXG4gICAgb25Nb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgICBvbk1vdXNlT3ZlcjogJ21vdXNlb3ZlcicsXG4gICAgb25Nb3VzZVVwOiAnbW91c2V1cCcsXG4gICAgb25SaWdodENsaWNrOiAncmlnaHRjbGljaycsXG59O1xuY29uc3QgdXBkYXRlck1hcCQ4ID0ge1xuICAgIGNlbnRlcihpbnN0YW5jZSwgY2VudGVyKSB7XG4gICAgICAgIGluc3RhbmNlLnNldENlbnRlcihjZW50ZXIpO1xuICAgIH0sXG4gICAgZHJhZ2dhYmxlKGluc3RhbmNlLCBkcmFnZ2FibGUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0RHJhZ2dhYmxlKGRyYWdnYWJsZSk7XG4gICAgfSxcbiAgICBlZGl0YWJsZShpbnN0YW5jZSwgZWRpdGFibGUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0RWRpdGFibGUoZWRpdGFibGUpO1xuICAgIH0sXG4gICAgbWFwKGluc3RhbmNlLCBtYXApIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0TWFwKG1hcCk7XG4gICAgfSxcbiAgICBvcHRpb25zKGluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfSxcbiAgICByYWRpdXMoaW5zdGFuY2UsIHJhZGl1cykge1xuICAgICAgICBpbnN0YW5jZS5zZXRSYWRpdXMocmFkaXVzKTtcbiAgICB9LFxuICAgIHZpc2libGUoaW5zdGFuY2UsIHZpc2libGUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9LFxufTtcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge307XG5mdW5jdGlvbiBDaXJjbGVGdW5jdGlvbmFsKHsgb3B0aW9ucywgY2VudGVyLCByYWRpdXMsIGRyYWdnYWJsZSwgZWRpdGFibGUsIHZpc2libGUsIG9uRGJsQ2xpY2ssIG9uRHJhZ0VuZCwgb25EcmFnU3RhcnQsIG9uTW91c2VEb3duLCBvbk1vdXNlTW92ZSwgb25Nb3VzZU91dCwgb25Nb3VzZU92ZXIsIG9uTW91c2VVcCwgb25SaWdodENsaWNrLCBvbkNsaWNrLCBvbkRyYWcsIG9uQ2VudGVyQ2hhbmdlZCwgb25SYWRpdXNDaGFuZ2VkLCBvbkxvYWQsIG9uVW5tb3VudCwgfSkge1xuICAgIGNvbnN0IG1hcCA9IHVzZUNvbnRleHQoTWFwQ29udGV4dCk7XG4gICAgY29uc3QgW2luc3RhbmNlLCBzZXRJbnN0YW5jZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZGJsY2xpY2tMaXN0ZW5lciwgc2V0RGJsY2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZHJhZ2VuZExpc3RlbmVyLCBzZXREcmFnZW5kTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2RyYWdzdGFydExpc3RlbmVyLCBzZXREcmFnc3RhcnRMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2Vkb3duTGlzdGVuZXIsIHNldE1vdXNlZG93bkxpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZW1vdmVMaXN0ZW5lciwgc2V0TW91c2Vtb3ZlTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlb3V0TGlzdGVuZXIsIHNldE1vdXNlb3V0TGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlb3Zlckxpc3RlbmVyLCBzZXRNb3VzZW92ZXJMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2V1cExpc3RlbmVyLCBzZXRNb3VzZXVwTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3JpZ2h0Y2xpY2tMaXN0ZW5lciwgc2V0UmlnaHRjbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtjbGlja0xpc3RlbmVyLCBzZXRDbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtkcmFnTGlzdGVuZXIsIHNldERyYWdMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY2VudGVyQ2hhbmdlZExpc3RlbmVyLCBzZXRDZW50ZXJDaGFuZ2VkTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3JhZGl1c0NoYW5nZWRMaXN0ZW5lciwgc2V0UmFkaXVzQ2hhbmdlZExpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIC8vIE9yZGVyIGRvZXMgbWF0dGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRNYXAobWFwKTtcbiAgICAgICAgfVxuICAgIH0sIFttYXBdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCBvcHRpb25zXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBkcmFnZ2FibGUgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXREcmFnZ2FibGUoZHJhZ2dhYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgZHJhZ2dhYmxlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBlZGl0YWJsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldEVkaXRhYmxlKGVkaXRhYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgZWRpdGFibGVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZpc2libGUgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB9XG4gICAgfSwgW2luc3RhbmNlLCB2aXNpYmxlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiByYWRpdXMgPT09ICdudW1iZXInICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRSYWRpdXMocmFkaXVzKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgcmFkaXVzXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjZW50ZXIgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRDZW50ZXIoY2VudGVyKTtcbiAgICAgICAgfVxuICAgIH0sIFtpbnN0YW5jZSwgY2VudGVyXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uRGJsQ2xpY2spIHtcbiAgICAgICAgICAgIGlmIChkYmxjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZGJsY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREYmxjbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnZGJsY2xpY2snLCBvbkRibENsaWNrKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25EYmxDbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkRyYWdFbmQpIHtcbiAgICAgICAgICAgIGlmIChkcmFnZW5kTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihkcmFnZW5kTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RHJhZ2VuZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnZHJhZ2VuZCcsIG9uRHJhZ0VuZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uRGJsQ2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25EcmFnU3RhcnQpIHtcbiAgICAgICAgICAgIGlmIChkcmFnc3RhcnRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdzdGFydExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldERyYWdzdGFydExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkRyYWdTdGFydF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbk1vdXNlRG93bikge1xuICAgICAgICAgICAgaWYgKG1vdXNlZG93bkxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2Vkb3duTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2Vkb3duTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bikpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VEb3duXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VNb3ZlKSB7XG4gICAgICAgICAgICBpZiAobW91c2Vtb3ZlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZW1vdmVMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZU1vdmVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZU91dCkge1xuICAgICAgICAgICAgaWYgKG1vdXNlb3V0TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW91dExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNlb3V0TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZW91dCcsIG9uTW91c2VPdXQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlT3V0XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VPdmVyKSB7XG4gICAgICAgICAgICBpZiAobW91c2VvdmVyTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW92ZXJMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZW92ZXJMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNlb3ZlcicsIG9uTW91c2VPdmVyKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZU92ZXJdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZVVwKSB7XG4gICAgICAgICAgICBpZiAobW91c2V1cExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2V1cExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNldXBMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ21vdXNldXAnLCBvbk1vdXNlVXApKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlVXBdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25SaWdodENsaWNrKSB7XG4gICAgICAgICAgICBpZiAocmlnaHRjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocmlnaHRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFJpZ2h0Y2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ3JpZ2h0Y2xpY2snLCBvblJpZ2h0Q2xpY2spKTtcbiAgICAgICAgfVxuICAgIH0sIFtvblJpZ2h0Q2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25DbGljaykge1xuICAgICAgICAgICAgaWYgKGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdjbGljaycsIG9uQ2xpY2spKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsaWNrXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uRHJhZykge1xuICAgICAgICAgICAgaWYgKGRyYWdMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREcmFnTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdkcmFnJywgb25EcmFnKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25EcmFnXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uQ2VudGVyQ2hhbmdlZCkge1xuICAgICAgICAgICAgaWYgKGNlbnRlckNoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGNlbnRlckNoYW5nZWRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDZW50ZXJDaGFuZ2VkTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdjZW50ZXJfY2hhbmdlZCcsIG9uQ2VudGVyQ2hhbmdlZCkpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25SYWRpdXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICBpZiAocmFkaXVzQ2hhbmdlZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocmFkaXVzQ2hhbmdlZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFJhZGl1c0NoYW5nZWRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ3JhZGl1c19jaGFuZ2VkJywgb25SYWRpdXNDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25SYWRpdXNDaGFuZ2VkXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gbmV3IGdvb2dsZS5tYXBzLkNpcmNsZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChvcHRpb25zIHx8IGRlZmF1bHRPcHRpb25zKSksIHsgbWFwIH0pKTtcbiAgICAgICAgaWYgKHR5cGVvZiByYWRpdXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjaXJjbGUuc2V0UmFkaXVzKHJhZGl1cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjZW50ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjaXJjbGUuc2V0Q2VudGVyKGNlbnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByYWRpdXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjaXJjbGUuc2V0UmFkaXVzKHJhZGl1cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2aXNpYmxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY2lyY2xlLnNldFZpc2libGUodmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBlZGl0YWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNpcmNsZS5zZXRFZGl0YWJsZShlZGl0YWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkcmFnZ2FibGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjaXJjbGUuc2V0RHJhZ2dhYmxlKGRyYWdnYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRGJsQ2xpY2spIHtcbiAgICAgICAgICAgIHNldERibGNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoY2lyY2xlLCAnZGJsY2xpY2snLCBvbkRibENsaWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRHJhZ0VuZCkge1xuICAgICAgICAgICAgc2V0RHJhZ2VuZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGNpcmNsZSwgJ2RyYWdlbmQnLCBvbkRyYWdFbmQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25EcmFnU3RhcnQpIHtcbiAgICAgICAgICAgIHNldERyYWdzdGFydExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGNpcmNsZSwgJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uTW91c2VEb3duKSB7XG4gICAgICAgICAgICBzZXRNb3VzZWRvd25MaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihjaXJjbGUsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbk1vdXNlTW92ZSkge1xuICAgICAgICAgICAgc2V0TW91c2Vtb3ZlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoY2lyY2xlLCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25Nb3VzZU91dCkge1xuICAgICAgICAgICAgc2V0TW91c2VvdXRMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihjaXJjbGUsICdtb3VzZW91dCcsIG9uTW91c2VPdXQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25Nb3VzZU92ZXIpIHtcbiAgICAgICAgICAgIHNldE1vdXNlb3Zlckxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGNpcmNsZSwgJ21vdXNlb3ZlcicsIG9uTW91c2VPdmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uTW91c2VVcCkge1xuICAgICAgICAgICAgc2V0TW91c2V1cExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGNpcmNsZSwgJ21vdXNldXAnLCBvbk1vdXNlVXApKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25SaWdodENsaWNrKSB7XG4gICAgICAgICAgICBzZXRSaWdodGNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoY2lyY2xlLCAncmlnaHRjbGljaycsIG9uUmlnaHRDbGljaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBzZXRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGNpcmNsZSwgJ2NsaWNrJywgb25DbGljaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRyYWcpIHtcbiAgICAgICAgICAgIHNldERyYWdMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihjaXJjbGUsICdkcmFnJywgb25EcmFnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uQ2VudGVyQ2hhbmdlZCkge1xuICAgICAgICAgICAgc2V0Q2VudGVyQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGNpcmNsZSwgJ2NlbnRlcl9jaGFuZ2VkJywgb25DZW50ZXJDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uUmFkaXVzQ2hhbmdlZCkge1xuICAgICAgICAgICAgc2V0UmFkaXVzQ2hhbmdlZExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGNpcmNsZSwgJ3JhZGl1c19jaGFuZ2VkJywgb25SYWRpdXNDaGFuZ2VkKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SW5zdGFuY2UoY2lyY2xlKTtcbiAgICAgICAgaWYgKG9uTG9hZCkge1xuICAgICAgICAgICAgb25Mb2FkKGNpcmNsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChkYmxjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZGJsY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJhZ2VuZExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZHJhZ2VuZExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkcmFnc3RhcnRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRyYWdzdGFydExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3VzZWRvd25MaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlZG93bkxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3VzZW1vdmVMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlbW92ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3VzZW91dExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdXRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2VvdmVyTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW92ZXJMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2V1cExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2V1cExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyaWdodGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihyaWdodGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjZW50ZXJDaGFuZ2VkTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihjZW50ZXJDaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJhZGl1c0NoYW5nZWRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHJhZGl1c0NoYW5nZWRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgb25Vbm1vdW50KGNpcmNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaXJjbGUuc2V0TWFwKG51bGwpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IENpcmNsZUYgPSBtZW1vKENpcmNsZUZ1bmN0aW9uYWwpO1xuY2xhc3MgQ2lyY2xlIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY2lyY2xlOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldENpcmNsZUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2lyY2xlICE9PSBudWxsICYmIHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkxvYWQodGhpcy5zdGF0ZS5jaXJjbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gbmV3IGdvb2dsZS5tYXBzLkNpcmNsZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICh0aGlzLnByb3BzLm9wdGlvbnMgfHwge30pKSwgeyBcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG1hcDogdGhpcy5jb250ZXh0IH0pKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDgsXG4gICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkOCxcbiAgICAgICAgICAgIHByZXZQcm9wczoge30sXG4gICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpbnN0YW5jZTogY2lyY2xlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXRDaXJjbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNpcmNsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHRoaXMuc2V0Q2lyY2xlQ2FsbGJhY2spO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNpcmNsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ4LFxuICAgICAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQ4LFxuICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUuY2lyY2xlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNpcmNsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5jaXJjbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jaXJjbGUgJiYgdGhpcy5zdGF0ZS5jaXJjbGUuc2V0TWFwKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuQ2lyY2xlLmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxuY29uc3QgZXZlbnRNYXAkNyA9IHtcbiAgICBvbkNsaWNrOiAnY2xpY2snLFxuICAgIG9uRGJsQ2xpY2s6ICdkYmxjbGljaycsXG4gICAgb25Nb3VzZURvd246ICdtb3VzZWRvd24nLFxuICAgIG9uTW91c2VPdXQ6ICdtb3VzZW91dCcsXG4gICAgb25Nb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICAgIG9uTW91c2VVcDogJ21vdXNldXAnLFxuICAgIG9uUmlnaHRDbGljazogJ3JpZ2h0Y2xpY2snLFxuICAgIG9uQWRkRmVhdHVyZTogJ2FkZGZlYXR1cmUnLFxuICAgIG9uUmVtb3ZlRmVhdHVyZTogJ3JlbW92ZWZlYXR1cmUnLFxuICAgIG9uUmVtb3ZlUHJvcGVydHk6ICdyZW1vdmVwcm9wZXJ0eScsXG4gICAgb25TZXRHZW9tZXRyeTogJ3NldGdlb21ldHJ5JyxcbiAgICBvblNldFByb3BlcnR5OiAnc2V0cHJvcGVydHknLFxufTtcbmNvbnN0IHVwZGF0ZXJNYXAkNyA9IHtcbiAgICBhZGQoaW5zdGFuY2UsIGZlYXR1cmUpIHtcbiAgICAgICAgaW5zdGFuY2UuYWRkKGZlYXR1cmUpO1xuICAgIH0sXG4gICAgYWRkZ2VvanNvbihpbnN0YW5jZSwgZ2VvanNvbiwgb3B0aW9ucykge1xuICAgICAgICBpbnN0YW5jZS5hZGRHZW9Kc29uKGdlb2pzb24sIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgY29udGFpbnMoaW5zdGFuY2UsIGZlYXR1cmUpIHtcbiAgICAgICAgaW5zdGFuY2UuY29udGFpbnMoZmVhdHVyZSk7XG4gICAgfSxcbiAgICBmb3JlYWNoKGluc3RhbmNlLCBjYWxsYmFjaykge1xuICAgICAgICBpbnN0YW5jZS5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGxvYWRnZW9qc29uKGluc3RhbmNlLCB1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGluc3RhbmNlLmxvYWRHZW9Kc29uKHVybCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgb3ZlcnJpZGVzdHlsZShpbnN0YW5jZSwgZmVhdHVyZSwgc3R5bGUpIHtcbiAgICAgICAgaW5zdGFuY2Uub3ZlcnJpZGVTdHlsZShmZWF0dXJlLCBzdHlsZSk7XG4gICAgfSxcbiAgICByZW1vdmUoaW5zdGFuY2UsIGZlYXR1cmUpIHtcbiAgICAgICAgaW5zdGFuY2UucmVtb3ZlKGZlYXR1cmUpO1xuICAgIH0sXG4gICAgcmV2ZXJ0c3R5bGUoaW5zdGFuY2UsIGZlYXR1cmUpIHtcbiAgICAgICAgaW5zdGFuY2UucmV2ZXJ0U3R5bGUoZmVhdHVyZSk7XG4gICAgfSxcbiAgICBjb250cm9scG9zaXRpb24oaW5zdGFuY2UsIGNvbnRyb2xQb3NpdGlvbikge1xuICAgICAgICBpbnN0YW5jZS5zZXRDb250cm9sUG9zaXRpb24oY29udHJvbFBvc2l0aW9uKTtcbiAgICB9LFxuICAgIGNvbnRyb2xzKGluc3RhbmNlLCBjb250cm9scykge1xuICAgICAgICBpbnN0YW5jZS5zZXRDb250cm9scyhjb250cm9scyk7XG4gICAgfSxcbiAgICBkcmF3aW5nbW9kZShpbnN0YW5jZSwgbW9kZSkge1xuICAgICAgICBpbnN0YW5jZS5zZXREcmF3aW5nTW9kZShtb2RlKTtcbiAgICB9LFxuICAgIG1hcChpbnN0YW5jZSwgbWFwKSB7XG4gICAgICAgIGluc3RhbmNlLnNldE1hcChtYXApO1xuICAgIH0sXG4gICAgc3R5bGUoaW5zdGFuY2UsIHN0eWxlKSB7XG4gICAgICAgIGluc3RhbmNlLnNldFN0eWxlKHN0eWxlKTtcbiAgICB9LFxuICAgIHRvZ2VvanNvbihpbnN0YW5jZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaW5zdGFuY2UudG9HZW9Kc29uKGNhbGxiYWNrKTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIERhdGFGdW5jdGlvbmFsKHsgb3B0aW9ucywgb25DbGljaywgb25EYmxDbGljaywgb25Nb3VzZURvd24sIG9uTW91c2VNb3ZlLCBvbk1vdXNlT3V0LCBvbk1vdXNlT3Zlciwgb25Nb3VzZVVwLCBvblJpZ2h0Q2xpY2ssIG9uQWRkRmVhdHVyZSwgb25SZW1vdmVGZWF0dXJlLCBvblJlbW92ZVByb3BlcnR5LCBvblNldEdlb21ldHJ5LCBvblNldFByb3BlcnR5LCBvbkxvYWQsIG9uVW5tb3VudCwgfSkge1xuICAgIGNvbnN0IG1hcCA9IHVzZUNvbnRleHQoTWFwQ29udGV4dCk7XG4gICAgY29uc3QgW2luc3RhbmNlLCBzZXRJbnN0YW5jZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZGJsY2xpY2tMaXN0ZW5lciwgc2V0RGJsY2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2Vkb3duTGlzdGVuZXIsIHNldE1vdXNlZG93bkxpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFttb3VzZW1vdmVMaXN0ZW5lciwgc2V0TW91c2Vtb3ZlTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlb3V0TGlzdGVuZXIsIHNldE1vdXNlb3V0TGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdXNlb3Zlckxpc3RlbmVyLCBzZXRNb3VzZW92ZXJMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91c2V1cExpc3RlbmVyLCBzZXRNb3VzZXVwTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3JpZ2h0Y2xpY2tMaXN0ZW5lciwgc2V0UmlnaHRjbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtjbGlja0xpc3RlbmVyLCBzZXRDbGlja0xpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFthZGRGZWF0dXJlTGlzdGVuZXIsIHNldEFkZEZlYXR1cmVMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbcmVtb3ZlRmVhdHVyZUxpc3RlbmVyLCBzZXRSZW1vdmVGZWF0dXJlTGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3JlbW92ZVByb3BlcnR5TGlzdGVuZXIsIHNldFJlbW92ZVByb3BlcnR5TGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3NldEdlb21ldHJ5TGlzdGVuZXIsIHNldFNldEdlb21ldHJ5TGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3NldFByb3BlcnR5TGlzdGVuZXIsIHNldFNldFByb3BlcnR5TGlzdGVuZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gT3JkZXIgZG9lcyBtYXR0ZXJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnNldE1hcChtYXApO1xuICAgICAgICB9XG4gICAgfSwgW21hcF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkRibENsaWNrKSB7XG4gICAgICAgICAgICBpZiAoZGJsY2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGRibGNsaWNrTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RGJsY2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ2RibGNsaWNrJywgb25EYmxDbGljaykpO1xuICAgICAgICB9XG4gICAgfSwgW29uRGJsQ2xpY2tdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25Nb3VzZURvd24pIHtcbiAgICAgICAgICAgIGlmIChtb3VzZWRvd25MaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlZG93bkxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1vdXNlZG93bkxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24pKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbk1vdXNlRG93bl0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbk1vdXNlTW92ZSkge1xuICAgICAgICAgICAgaWYgKG1vdXNlbW92ZUxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2Vtb3ZlTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2Vtb3ZlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSkpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VNb3ZlXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VPdXQpIHtcbiAgICAgICAgICAgIGlmIChtb3VzZW91dExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdXRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZW91dExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnbW91c2VvdXQnLCBvbk1vdXNlT3V0KSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZU91dF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbk1vdXNlT3Zlcikge1xuICAgICAgICAgICAgaWYgKG1vdXNlb3Zlckxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdmVyTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TW91c2VvdmVyTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZW92ZXInLCBvbk1vdXNlT3ZlcikpO1xuICAgICAgICB9XG4gICAgfSwgW29uTW91c2VPdmVyXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uTW91c2VVcCkge1xuICAgICAgICAgICAgaWYgKG1vdXNldXBMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNldXBMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRNb3VzZXVwTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdtb3VzZXVwJywgb25Nb3VzZVVwKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25Nb3VzZVVwXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uUmlnaHRDbGljaykge1xuICAgICAgICAgICAgaWYgKHJpZ2h0Y2xpY2tMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHJpZ2h0Y2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRSaWdodGNsaWNrTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdyaWdodGNsaWNrJywgb25SaWdodENsaWNrKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25SaWdodENsaWNrXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uQ2xpY2spIHtcbiAgICAgICAgICAgIGlmIChjbGlja0xpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnY2xpY2snLCBvbkNsaWNrKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGlja10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvbkFkZEZlYXR1cmUpIHtcbiAgICAgICAgICAgIGlmIChhZGRGZWF0dXJlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihhZGRGZWF0dXJlTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0QWRkRmVhdHVyZUxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnYWRkZmVhdHVyZScsIG9uQWRkRmVhdHVyZSkpO1xuICAgICAgICB9XG4gICAgfSwgW29uQWRkRmVhdHVyZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvblJlbW92ZUZlYXR1cmUpIHtcbiAgICAgICAgICAgIGlmIChyZW1vdmVGZWF0dXJlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihyZW1vdmVGZWF0dXJlTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UmVtb3ZlRmVhdHVyZUxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAncmVtb3ZlZmVhdHVyZScsIG9uUmVtb3ZlRmVhdHVyZSkpO1xuICAgICAgICB9XG4gICAgfSwgW29uUmVtb3ZlRmVhdHVyZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBvblJlbW92ZVByb3BlcnR5KSB7XG4gICAgICAgICAgICBpZiAocmVtb3ZlUHJvcGVydHlMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHJlbW92ZVByb3BlcnR5TGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UmVtb3ZlUHJvcGVydHlMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgJ3JlbW92ZXByb3BlcnR5Jywgb25SZW1vdmVQcm9wZXJ0eSkpO1xuICAgICAgICB9XG4gICAgfSwgW29uUmVtb3ZlUHJvcGVydHldKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgb25TZXRHZW9tZXRyeSkge1xuICAgICAgICAgICAgaWYgKHNldEdlb21ldHJ5TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihzZXRHZW9tZXRyeUxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFNldEdlb21ldHJ5TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoaW5zdGFuY2UsICdzZXRnZW9tZXRyeScsIG9uU2V0R2VvbWV0cnkpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvblNldEdlb21ldHJ5XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIG9uU2V0UHJvcGVydHkpIHtcbiAgICAgICAgICAgIGlmIChzZXRQcm9wZXJ0eUxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoc2V0UHJvcGVydHlMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRTZXRQcm9wZXJ0eUxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGluc3RhbmNlLCAnc2V0cHJvcGVydHknLCBvblNldFByb3BlcnR5KSk7XG4gICAgICAgIH1cbiAgICB9LCBbb25TZXRQcm9wZXJ0eV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChtYXAgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgZ29vZ2xlLm1hcHMuRGF0YShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChvcHRpb25zIHx8IHt9KSksIHsgbWFwIH0pKTtcbiAgICAgICAgICAgIGlmIChvbkRibENsaWNrKSB7XG4gICAgICAgICAgICAgICAgc2V0RGJsY2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihkYXRhLCAnZGJsY2xpY2snLCBvbkRibENsaWNrKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25Nb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICBzZXRNb3VzZWRvd25MaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihkYXRhLCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbk1vdXNlTW92ZSkge1xuICAgICAgICAgICAgICAgIHNldE1vdXNlbW92ZUxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGRhdGEsICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uTW91c2VPdXQpIHtcbiAgICAgICAgICAgICAgICBzZXRNb3VzZW91dExpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGRhdGEsICdtb3VzZW91dCcsIG9uTW91c2VPdXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbk1vdXNlT3Zlcikge1xuICAgICAgICAgICAgICAgIHNldE1vdXNlb3Zlckxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGRhdGEsICdtb3VzZW92ZXInLCBvbk1vdXNlT3ZlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uTW91c2VVcCkge1xuICAgICAgICAgICAgICAgIHNldE1vdXNldXBMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihkYXRhLCAnbW91c2V1cCcsIG9uTW91c2VVcCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uUmlnaHRDbGljaykge1xuICAgICAgICAgICAgICAgIHNldFJpZ2h0Y2xpY2tMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihkYXRhLCAncmlnaHRjbGljaycsIG9uUmlnaHRDbGljaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgICBzZXRDbGlja0xpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGRhdGEsICdjbGljaycsIG9uQ2xpY2spKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbkFkZEZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICBzZXRBZGRGZWF0dXJlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoZGF0YSwgJ2FkZGZlYXR1cmUnLCBvbkFkZEZlYXR1cmUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvblJlbW92ZUZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICBzZXRSZW1vdmVGZWF0dXJlTGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoZGF0YSwgJ3JlbW92ZWZlYXR1cmUnLCBvblJlbW92ZUZlYXR1cmUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvblJlbW92ZVByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgc2V0UmVtb3ZlUHJvcGVydHlMaXN0ZW5lcihnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihkYXRhLCAncmVtb3ZlcHJvcGVydHknLCBvblJlbW92ZVByb3BlcnR5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25TZXRHZW9tZXRyeSkge1xuICAgICAgICAgICAgICAgIHNldFNldEdlb21ldHJ5TGlzdGVuZXIoZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoZGF0YSwgJ3NldGdlb21ldHJ5Jywgb25TZXRHZW9tZXRyeSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uU2V0UHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBzZXRTZXRQcm9wZXJ0eUxpc3RlbmVyKGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGRhdGEsICdzZXRwcm9wZXJ0eScsIG9uU2V0UHJvcGVydHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEluc3RhbmNlKGRhdGEpO1xuICAgICAgICAgICAgaWYgKG9uTG9hZCkge1xuICAgICAgICAgICAgICAgIG9uTG9hZChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRibGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoZGJsY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtb3VzZWRvd25MaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZWRvd25MaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtb3VzZW1vdmVMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihtb3VzZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtb3VzZW91dExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNlb3V0TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobW91c2VvdmVyTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIobW91c2VvdmVyTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobW91c2V1cExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG1vdXNldXBMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyaWdodGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocmlnaHRjbGlja0xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNsaWNrTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoY2xpY2tMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhZGRGZWF0dXJlTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoYWRkRmVhdHVyZUxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZUZlYXR1cmVMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihyZW1vdmVGZWF0dXJlTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlUHJvcGVydHlMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihyZW1vdmVQcm9wZXJ0eUxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNldEdlb21ldHJ5TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIoc2V0R2VvbWV0cnlMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZXRQcm9wZXJ0eUxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHNldFByb3BlcnR5TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIG9uVW5tb3VudChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnNldE1hcChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBEYXRhRiA9IG1lbW8oRGF0YUZ1bmN0aW9uYWwpO1xuY2xhc3MgRGF0YSBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0RGF0YUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuZGF0YSAhPT0gbnVsbCAmJiB0aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Mb2FkKHRoaXMuc3RhdGUuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gbmV3IGdvb2dsZS5tYXBzLkRhdGEoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAodGhpcy5wcm9wcy5vcHRpb25zIHx8IHt9KSksIHsgbWFwOiB0aGlzLmNvbnRleHQgfSkpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ3LFxuICAgICAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQ3LFxuICAgICAgICAgICAgICAgIHByZXZQcm9wczoge30sXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiBkYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCB0aGlzLnNldERhdGFDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5kYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDcsXG4gICAgICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDcsXG4gICAgICAgICAgICAgICAgcHJldlByb3BzLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZTogdGhpcy5zdGF0ZS5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXRhLnNldE1hcChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbkRhdGEuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG5jb25zdCBldmVudE1hcCQ2ID0ge1xuICAgIG9uQ2xpY2s6ICdjbGljaycsXG4gICAgb25EZWZhdWx0Vmlld3BvcnRDaGFuZ2VkOiAnZGVmYXVsdHZpZXdwb3J0X2NoYW5nZWQnLFxuICAgIG9uU3RhdHVzQ2hhbmdlZDogJ3N0YXR1c19jaGFuZ2VkJyxcbn07XG5jb25zdCB1cGRhdGVyTWFwJDYgPSB7XG4gICAgb3B0aW9ucyhpbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH0sXG4gICAgdXJsKGluc3RhbmNlLCB1cmwpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0VXJsKHVybCk7XG4gICAgfSxcbiAgICB6SW5kZXgoaW5zdGFuY2UsIHpJbmRleCkge1xuICAgICAgICBpbnN0YW5jZS5zZXRaSW5kZXgoekluZGV4KTtcbiAgICB9LFxufTtcbmNsYXNzIEttbExheWVyIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAga21sTGF5ZXI6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0S21sTGF5ZXJDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmttbExheWVyICE9PSBudWxsICYmIHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkxvYWQodGhpcy5zdGF0ZS5rbWxMYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCBrbWxMYXllciA9IG5ldyBnb29nbGUubWFwcy5LbWxMYXllcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMub3B0aW9ucyksIHsgbWFwOiB0aGlzLmNvbnRleHQgfSkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkNixcbiAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQ2LFxuICAgICAgICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGluc3RhbmNlOiBrbWxMYXllcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0TG1sTGF5ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGttbExheWVyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgdGhpcy5zZXRLbWxMYXllckNhbGxiYWNrKTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5rbWxMYXllciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ2LFxuICAgICAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQ2LFxuICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUua21sTGF5ZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUua21sTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUua21sTGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5rbWxMYXllci5zZXRNYXAobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5LbWxMYXllci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbmZ1bmN0aW9uIGdldE9mZnNldE92ZXJyaWRlKGNvbnRhaW5lckVsZW1lbnQsIGdldFBpeGVsUG9zaXRpb25PZmZzZXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGdldFBpeGVsUG9zaXRpb25PZmZzZXQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBnZXRQaXhlbFBvc2l0aW9uT2Zmc2V0KGNvbnRhaW5lckVsZW1lbnQub2Zmc2V0V2lkdGgsIGNvbnRhaW5lckVsZW1lbnQub2Zmc2V0SGVpZ2h0KVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICB9O1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGNyZWF0ZUxhdExuZyhpbnN0LCBUeXBlKSB7IHJldHVybiBuZXcgVHlwZShpbnN0LmxhdCwgaW5zdC5sbmcpOyB9XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gY3JlYXRlTGF0TG5nQm91bmRzKGluc3QsIFR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFR5cGUobmV3IGdvb2dsZS5tYXBzLkxhdExuZyhpbnN0Lm5lLmxhdCwgaW5zdC5uZS5sbmcpLCBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGluc3Quc3cubGF0LCBpbnN0LnN3LmxuZykpO1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGVuc3VyZU9mVHlwZShpbnN0LCB0eXBlLCBmYWN0b3J5KSB7XG4gICAgcmV0dXJuIGluc3QgaW5zdGFuY2VvZiB0eXBlID8gaW5zdCA6IGZhY3RvcnkoaW5zdCwgdHlwZSk7XG59XG5mdW5jdGlvbiBlbnN1cmVPZlR5cGVCb3VuZHMoaW5zdCwgdHlwZSwgZmFjdG9yeSkge1xuICAgIHJldHVybiBpbnN0IGluc3RhbmNlb2YgdHlwZSA/IGluc3QgOiBmYWN0b3J5KGluc3QsIHR5cGUpO1xufVxuZnVuY3Rpb24gZ2V0TGF5b3V0U3R5bGVzQnlCb3VuZHMobWFwQ2FudmFzUHJvamVjdGlvbiwgb2Zmc2V0LCBib3VuZHMpIHtcbiAgICBjb25zdCBuZSA9IG1hcENhbnZhc1Byb2plY3Rpb24gJiYgbWFwQ2FudmFzUHJvamVjdGlvbi5mcm9tTGF0TG5nVG9EaXZQaXhlbChib3VuZHMuZ2V0Tm9ydGhFYXN0KCkpO1xuICAgIGNvbnN0IHN3ID0gbWFwQ2FudmFzUHJvamVjdGlvbiAmJiBtYXBDYW52YXNQcm9qZWN0aW9uLmZyb21MYXRMbmdUb0RpdlBpeGVsKGJvdW5kcy5nZXRTb3V0aFdlc3QoKSk7XG4gICAgaWYgKG5lICYmIHN3KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBgJHtzdy54ICsgb2Zmc2V0Lnh9cHhgLFxuICAgICAgICAgICAgdG9wOiBgJHtuZS55ICsgb2Zmc2V0Lnl9cHhgLFxuICAgICAgICAgICAgd2lkdGg6IGAke25lLnggLSBzdy54IC0gb2Zmc2V0Lnh9cHhgLFxuICAgICAgICAgICAgaGVpZ2h0OiBgJHtzdy55IC0gbmUueSAtIG9mZnNldC55fXB4YCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogJy05OTk5cHgnLFxuICAgICAgICB0b3A6ICctOTk5OXB4JyxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0TGF5b3V0U3R5bGVzQnlQb3NpdGlvbihtYXBDYW52YXNQcm9qZWN0aW9uLCBvZmZzZXQsIHBvc2l0aW9uKSB7XG4gICAgY29uc3QgcG9pbnQgPSBtYXBDYW52YXNQcm9qZWN0aW9uICYmIG1hcENhbnZhc1Byb2plY3Rpb24uZnJvbUxhdExuZ1RvRGl2UGl4ZWwocG9zaXRpb24pO1xuICAgIGlmIChwb2ludCkge1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHBvaW50O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogYCR7eCArIG9mZnNldC54fXB4YCxcbiAgICAgICAgICAgIHRvcDogYCR7eSArIG9mZnNldC55fXB4YCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogJy05OTk5cHgnLFxuICAgICAgICB0b3A6ICctOTk5OXB4JyxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0TGF5b3V0U3R5bGVzKG1hcENhbnZhc1Byb2plY3Rpb24sIG9mZnNldCwgYm91bmRzLCBwb3NpdGlvbikge1xuICAgIHJldHVybiBib3VuZHMgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGdldExheW91dFN0eWxlc0J5Qm91bmRzKG1hcENhbnZhc1Byb2plY3Rpb24sIG9mZnNldCwgZW5zdXJlT2ZUeXBlQm91bmRzKGJvdW5kcywgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzLCBjcmVhdGVMYXRMbmdCb3VuZHMpKVxuICAgICAgICA6IGdldExheW91dFN0eWxlc0J5UG9zaXRpb24obWFwQ2FudmFzUHJvamVjdGlvbiwgb2Zmc2V0LCBlbnN1cmVPZlR5cGUocG9zaXRpb24sIGdvb2dsZS5tYXBzLkxhdExuZywgY3JlYXRlTGF0TG5nKSk7XG59XG5mdW5jdGlvbiBhcmVQb3NpdGlvbnNFcXVhbChjdXJyZW50UG9zaXRpb24sIHByZXZpb3VzUG9zaXRpb24pIHtcbiAgICByZXR1cm4gY3VycmVudFBvc2l0aW9uLmxlZnQgPT09IHByZXZpb3VzUG9zaXRpb24ubGVmdFxuICAgICAgICAmJiBjdXJyZW50UG9zaXRpb24udG9wID09PSBwcmV2aW91c1Bvc2l0aW9uLnRvcFxuICAgICAgICAmJiBjdXJyZW50UG9zaXRpb24ud2lkdGggPT09IHByZXZpb3VzUG9zaXRpb24uaGVpZ2h0XG4gICAgICAgICYmIGN1cnJlbnRQb3NpdGlvbi5oZWlnaHQgPT09IHByZXZpb3VzUG9zaXRpb24uaGVpZ2h0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVPdmVybGF5KGNvbnRhaW5lciwgcGFuZSwgcG9zaXRpb24sIGdldFBpeGVsUG9zaXRpb25PZmZzZXQpIHtcbiAgICBjbGFzcyBPdmVybGF5IGV4dGVuZHMgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcge1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIHBhbmUsIHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLnBhbmUgPSBwYW5lO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIG9uQWRkKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IChfYSA9IHRoaXMuZ2V0UGFuZXMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3RoaXMucGFuZV07XG4gICAgICAgICAgICBwYW5lID09PSBudWxsIHx8IHBhbmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhbmUuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGRyYXcoKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHByb2plY3Rpb24uZnJvbUxhdExuZ1RvRGl2UGl4ZWwodGhpcy5wb3NpdGlvbik7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBPYmplY3QuYXNzaWduKHt9LCAodGhpcy5jb250YWluZXJcbiAgICAgICAgICAgICAgICA/IGdldE9mZnNldE92ZXJyaWRlKHRoaXMuY29udGFpbmVyLCBnZXRQaXhlbFBvc2l0aW9uT2Zmc2V0KVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGlmIChwb2ludCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwb2ludC54ICsgb2Zmc2V0Lnh9cHgsICR7cG9pbnQueSArIG9mZnNldC55fXB4KWA7XG4gICAgICAgIH1cbiAgICAgICAgb25SZW1vdmUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250YWluZXIucGFyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgT3ZlcmxheShjb250YWluZXIsIHBhbmUsIHBvc2l0aW9uKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFRvTGF0TG5nU3RyaW5nKGxhdExuZ0xpa2UpIHtcbiAgICBpZiAoIWxhdExuZ0xpa2UpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBsYXRMbmcgPSBsYXRMbmdMaWtlIGluc3RhbmNlb2YgZ29vZ2xlLm1hcHMuTGF0TG5nXG4gICAgICAgID8gbGF0TG5nTGlrZVxuICAgICAgICA6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0TG5nTGlrZS5sYXQsIGxhdExuZ0xpa2UubG5nKTtcbiAgICByZXR1cm4gbGF0TG5nICsgJyc7XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9MYXRMbmdCb3VuZHNTdHJpbmcobGF0TG5nQm91bmRzTGlrZSkge1xuICAgIGlmICghbGF0TG5nQm91bmRzTGlrZSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNvbnN0IGxhdExuZ0JvdW5kcyA9IGxhdExuZ0JvdW5kc0xpa2UgaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHNcbiAgICAgICAgPyBsYXRMbmdCb3VuZHNMaWtlXG4gICAgICAgIDogbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyhuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdExuZ0JvdW5kc0xpa2Uuc291dGgsIGxhdExuZ0JvdW5kc0xpa2UuZWFzdCksIG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0TG5nQm91bmRzTGlrZS5ub3J0aCwgbGF0TG5nQm91bmRzTGlrZS53ZXN0KSk7XG4gICAgcmV0dXJuIGxhdExuZ0JvdW5kcyArICcnO1xufVxuY29uc3QgRkxPQVRfUEFORSA9IGBmbG9hdFBhbmVgO1xuY29uc3QgTUFQX1BBTkUgPSBgbWFwUGFuZWA7XG5jb25zdCBNQVJLRVJfTEFZRVIgPSBgbWFya2VyTGF5ZXJgO1xuY29uc3QgT1ZFUkxBWV9MQVlFUiA9IGBvdmVybGF5TGF5ZXJgO1xuY29uc3QgT1ZFUkxBWV9NT1VTRV9UQVJHRVQgPSBgb3ZlcmxheU1vdXNlVGFyZ2V0YDtcbmZ1bmN0aW9uIE92ZXJsYXlWaWV3RnVuY3Rpb25hbCh7IHBvc2l0aW9uLCBtYXBQYW5lTmFtZSwgekluZGV4LCBvbkxvYWQsIG9uVW5tb3VudCwgZ2V0UGl4ZWxQb3NpdGlvbk9mZnNldCwgY2hpbGRyZW4sIH0pIHtcbiAgICBjb25zdCBtYXAgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9LCBbXSk7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlT3ZlcmxheShjb250YWluZXIsIG1hcFBhbmVOYW1lLCBwb3NpdGlvbiwgZ2V0UGl4ZWxQb3NpdGlvbk9mZnNldCk7XG4gICAgfSwgW2NvbnRhaW5lciwgbWFwUGFuZU5hbWUsIHBvc2l0aW9uXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgb25Mb2FkID09PSBudWxsIHx8IG9uTG9hZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Mb2FkKG92ZXJsYXkpO1xuICAgICAgICBvdmVybGF5ID09PSBudWxsIHx8IG92ZXJsYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG92ZXJsYXkuc2V0TWFwKG1hcCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBvblVubW91bnQgPT09IG51bGwgfHwgb25Vbm1vdW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblVubW91bnQob3ZlcmxheSk7XG4gICAgICAgICAgICBvdmVybGF5ID09PSBudWxsIHx8IG92ZXJsYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG92ZXJsYXkuc2V0TWFwKG51bGwpO1xuICAgICAgICB9O1xuICAgIH0sIFttYXAsIG92ZXJsYXldKTtcbiAgICAvLyB0byBtb3ZlIHRoZSBjb250YWluZXIgdG8gdGhlIGZvcmVncm91bmQgYW5kIGJhY2tncm91bmRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb250YWluZXIuc3R5bGUuekluZGV4ID0gYCR7ekluZGV4fWA7XG4gICAgfSwgW3pJbmRleCwgY29udGFpbmVyXSk7XG4gICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgY29udGFpbmVyKTtcbn1cbmNvbnN0IE92ZXJsYXlWaWV3RiA9IG1lbW8oT3ZlcmxheVZpZXdGdW5jdGlvbmFsKTtcbmNsYXNzIE92ZXJsYXlWaWV3IGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcGFuZUVsOiBudWxsLFxuICAgICAgICAgICAgY29udGFpbmVyU3R5bGU6IHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgaW5pdGlhbCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVQYW5lID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFwUGFuZU5hbWUgPSB0aGlzLnByb3BzLm1hcFBhbmVOYW1lO1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL2phdmFzY3JpcHQvMy5leHAvcmVmZXJlbmNlI01hcFBhbmVzXG4gICAgICAgICAgICBjb25zdCBtYXBQYW5lcyA9IHRoaXMub3ZlcmxheVZpZXcuZ2V0UGFuZXMoKTtcbiAgICAgICAgICAgIGludmFyaWFudF8xKCEhbWFwUGFuZU5hbWUsIGBPdmVybGF5VmlldyByZXF1aXJlcyBwcm9wcy5tYXBQYW5lTmFtZSBidXQgZ290ICVzYCwgbWFwUGFuZU5hbWUpO1xuICAgICAgICAgICAgaWYgKG1hcFBhbmVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHBhbmVFbDogbWFwUGFuZXNbbWFwUGFuZU5hbWVdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHBhbmVFbDogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbkFkZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhbmUoKTtcbiAgICAgICAgICAgIChfYiA9IChfYSA9IHRoaXMucHJvcHMpLm9uTG9hZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHRoaXMub3ZlcmxheVZpZXcpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uUG9zaXRpb25FbGVtZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFwQ2FudmFzUHJvamVjdGlvbiA9IHRoaXMub3ZlcmxheVZpZXcuZ2V0UHJvamVjdGlvbigpO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gT2JqZWN0LmFzc2lnbih7IHg6IDAsIHk6IDAgfSwgKHRoaXMuY29udGFpbmVyUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICA/IGdldE9mZnNldE92ZXJyaWRlKHRoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQsIHRoaXMucHJvcHMuZ2V0UGl4ZWxQb3NpdGlvbk9mZnNldClcbiAgICAgICAgICAgICAgICA6IHt9KSk7XG4gICAgICAgICAgICBjb25zdCBsYXlvdXRTdHlsZXMgPSBnZXRMYXlvdXRTdHlsZXMobWFwQ2FudmFzUHJvamVjdGlvbiwgb2Zmc2V0LCB0aGlzLnByb3BzLmJvdW5kcywgdGhpcy5wcm9wcy5wb3NpdGlvbik7XG4gICAgICAgICAgICBjb25zdCB7IGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zdGF0ZS5jb250YWluZXJTdHlsZTtcbiAgICAgICAgICAgIGlmICghYXJlUG9zaXRpb25zRXF1YWwobGF5b3V0U3R5bGVzLCB7IGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCB9KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJTdHlsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsYXlvdXRTdHlsZXMpLCB7IHBvc2l0aW9uOiAnYWJzb2x1dGUnIH0pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRyYXcgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uUG9zaXRpb25FbGVtZW50KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25SZW1vdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoe1xuICAgICAgICAgICAgICAgIHBhbmVFbDogbnVsbCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIC8vIHRoaXMubWFwUGFuZUVsID0gbnVsbFxuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5wcm9wcykub25Vbm1vdW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgdGhpcy5vdmVybGF5Vmlldyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29udGFpbmVyUmVmID0gY3JlYXRlUmVmKCk7XG4gICAgICAgIC8vIFlvdSBtdXN0IGltcGxlbWVudCB0aHJlZSBtZXRob2RzOiBvbkFkZCgpLCBkcmF3KCksIGFuZCBvblJlbW92ZSgpLlxuICAgICAgICBjb25zdCBvdmVybGF5VmlldyA9IG5ldyBnb29nbGUubWFwcy5PdmVybGF5VmlldygpO1xuICAgICAgICBvdmVybGF5Vmlldy5vbkFkZCA9IHRoaXMub25BZGQ7XG4gICAgICAgIG92ZXJsYXlWaWV3LmRyYXcgPSB0aGlzLmRyYXc7XG4gICAgICAgIG92ZXJsYXlWaWV3Lm9uUmVtb3ZlID0gdGhpcy5vblJlbW92ZTtcbiAgICAgICAgdGhpcy5vdmVybGF5VmlldyA9IG92ZXJsYXlWaWV3O1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgLy8gWW91IG11c3QgY2FsbCBzZXRNYXAoKSB3aXRoIGEgdmFsaWQgTWFwIG9iamVjdCB0byB0cmlnZ2VyIHRoZSBjYWxsIHRvXG4gICAgICAgIC8vIHRoZSBvbkFkZCgpIG1ldGhvZCBhbmQgc2V0TWFwKG51bGwpIGluIG9yZGVyIHRvIHRyaWdnZXIgdGhlIG9uUmVtb3ZlKCkgbWV0aG9kLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5vdmVybGF5Vmlldy5zZXRNYXAodGhpcy5jb250ZXh0KTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBjb25zdCBwcmV2UG9zaXRpb25TdHJpbmcgPSBjb252ZXJ0VG9MYXRMbmdTdHJpbmcocHJldlByb3BzLnBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25TdHJpbmcgPSBjb252ZXJ0VG9MYXRMbmdTdHJpbmcodGhpcy5wcm9wcy5wb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IHByZXZCb3VuZHNTdHJpbmcgPSBjb252ZXJ0VG9MYXRMbmdCb3VuZHNTdHJpbmcocHJldlByb3BzLmJvdW5kcyk7XG4gICAgICAgIGNvbnN0IGJvdW5kc1N0cmluZyA9IGNvbnZlcnRUb0xhdExuZ0JvdW5kc1N0cmluZyh0aGlzLnByb3BzLmJvdW5kcyk7XG4gICAgICAgIGlmIChwcmV2UG9zaXRpb25TdHJpbmcgIT09IHBvc2l0aW9uU3RyaW5nIHx8XG4gICAgICAgICAgICBwcmV2Qm91bmRzU3RyaW5nICE9PSBib3VuZHNTdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheVZpZXcuZHJhdygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2UHJvcHMubWFwUGFuZU5hbWUgIT09IHRoaXMucHJvcHMubWFwUGFuZU5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFuZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLm92ZXJsYXlWaWV3LnNldE1hcChudWxsKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBwYW5lRWwgPSB0aGlzLnN0YXRlLnBhbmVFbDtcbiAgICAgICAgaWYgKHBhbmVFbCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChqc3hSdW50aW1lLmV4cG9ydHMuanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oeyByZWY6IHRoaXMuY29udGFpbmVyUmVmLCBzdHlsZTogdGhpcy5zdGF0ZS5jb250YWluZXJTdHlsZSB9LCB7IGNoaWxkcmVuOiBDaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pIH0pKSwgcGFuZUVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuT3ZlcmxheVZpZXcuRkxPQVRfUEFORSA9IGBmbG9hdFBhbmVgO1xuT3ZlcmxheVZpZXcuTUFQX1BBTkUgPSBgbWFwUGFuZWA7XG5PdmVybGF5Vmlldy5NQVJLRVJfTEFZRVIgPSBgbWFya2VyTGF5ZXJgO1xuT3ZlcmxheVZpZXcuT1ZFUkxBWV9MQVlFUiA9IGBvdmVybGF5TGF5ZXJgO1xuT3ZlcmxheVZpZXcuT1ZFUkxBWV9NT1VTRV9UQVJHRVQgPSBgb3ZlcmxheU1vdXNlVGFyZ2V0YDtcbk92ZXJsYXlWaWV3LmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxuZnVuY3Rpb24gbm9vcCgpIHsgcmV0dXJuOyB9XG5cbmNvbnN0IGV2ZW50TWFwJDUgPSB7XG4gICAgb25EYmxDbGljazogJ2RibGNsaWNrJyxcbiAgICBvbkNsaWNrOiAnY2xpY2snLFxufTtcbmNvbnN0IHVwZGF0ZXJNYXAkNSA9IHtcbiAgICBvcGFjaXR5KGluc3RhbmNlLCBvcGFjaXR5KSB7XG4gICAgICAgIGluc3RhbmNlLnNldE9wYWNpdHkob3BhY2l0eSk7XG4gICAgfSxcbn07XG5jbGFzcyBHcm91bmRPdmVybGF5IGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgZ3JvdW5kT3ZlcmxheTogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRHcm91bmRPdmVybGF5Q2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncm91bmRPdmVybGF5ICE9PSBudWxsICYmIHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkxvYWQodGhpcy5zdGF0ZS5ncm91bmRPdmVybGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGludmFyaWFudF8xKCEhdGhpcy5wcm9wcy51cmwgfHwgISF0aGlzLnByb3BzLmJvdW5kcywgYEZvciBHcm91bmRPdmVybGF5LCB1cmwgYW5kIGJvdW5kcyBhcmUgcGFzc2VkIGluIHRvIGNvbnN0cnVjdG9yIGFuZCBhcmUgaW1tdXRhYmxlIGFmdGVyIGluc3RhbnRpYXRlZC4gVGhpcyBpcyB0aGUgYmVoYXZpb3Igb2YgR29vZ2xlIE1hcHMgSmF2YVNjcmlwdCBBUEkgdjMgKCBTZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL2phdmFzY3JpcHQvcmVmZXJlbmNlI0dyb3VuZE92ZXJsYXkpIEhlbmNlLCB1c2UgdGhlIGNvcnJlc3BvbmRpbmcgdHdvIHByb3BzIHByb3ZpZGVkIGJ5IFxcYHJlYWN0LWdvb2dsZS1tYXBzLWFwaVxcYCwgdXJsIGFuZCBib3VuZHMuIEluIHNvbWUgY2FzZXMsIHlvdSdsbCBuZWVkIHRoZSBHcm91bmRPdmVybGF5IGNvbXBvbmVudCB0byByZWZsZWN0IHRoZSBjaGFuZ2VzIG9mIHVybCBhbmQgYm91bmRzLiBZb3UgY2FuIGxldmVyYWdlIHRoZSBSZWFjdCdzIGtleSBwcm9wZXJ0eSB0byByZW1vdW50IHRoZSBjb21wb25lbnQuIFR5cGljYWxseSwganVzdCBcXGBrZXk9e3VybH1cXGAgd291bGQgc2VydmUgeW91ciBuZWVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3RvbWNoZW50dy9yZWFjdC1nb29nbGUtbWFwcy9pc3N1ZXMvNjU1YCk7XG4gICAgICAgIGNvbnN0IGdyb3VuZE92ZXJsYXkgPSBuZXcgZ29vZ2xlLm1hcHMuR3JvdW5kT3ZlcmxheSh0aGlzLnByb3BzLnVybCwgdGhpcy5wcm9wcy5ib3VuZHMsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcy5vcHRpb25zKSwgeyBcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG1hcDogdGhpcy5jb250ZXh0IH0pKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDUsXG4gICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkNSxcbiAgICAgICAgICAgIHByZXZQcm9wczoge30sXG4gICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpbnN0YW5jZTogZ3JvdW5kT3ZlcmxheSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0R3JvdW5kT3ZlcmxheSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZ3JvdW5kT3ZlcmxheSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHRoaXMuc2V0R3JvdW5kT3ZlcmxheUNhbGxiYWNrKTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncm91bmRPdmVybGF5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDUsXG4gICAgICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDUsXG4gICAgICAgICAgICAgICAgcHJldlByb3BzLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZTogdGhpcy5zdGF0ZS5ncm91bmRPdmVybGF5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmdyb3VuZE92ZXJsYXkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuZ3JvdW5kT3ZlcmxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmdyb3VuZE92ZXJsYXkuc2V0TWFwKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuR3JvdW5kT3ZlcmxheS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgb25Mb2FkOiBub29wLFxufTtcbkdyb3VuZE92ZXJsYXkuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG5jb25zdCBldmVudE1hcCQ0ID0ge307XG5jb25zdCB1cGRhdGVyTWFwJDQgPSB7XG4gICAgZGF0YShpbnN0YW5jZSwgZGF0YSkge1xuICAgICAgICBpbnN0YW5jZS5zZXREYXRhKGRhdGEpO1xuICAgIH0sXG4gICAgbWFwKGluc3RhbmNlLCBtYXApIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0TWFwKG1hcCk7XG4gICAgfSxcbiAgICBvcHRpb25zKGluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfSxcbn07XG5jbGFzcyBIZWF0bWFwTGF5ZXIgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBoZWF0bWFwTGF5ZXI6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0SGVhdG1hcExheWVyQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5oZWF0bWFwTGF5ZXIgIT09IG51bGwgJiYgdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLnN0YXRlLmhlYXRtYXBMYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBpbnZhcmlhbnRfMSghIWdvb2dsZS5tYXBzLnZpc3VhbGl6YXRpb24sICdEaWQgeW91IGluY2x1ZGUgcHJvcCBsaWJyYXJpZXM9e1tcInZpc3VhbGl6YXRpb25cIl19IHRvIDxMb2FkU2NyaXB0IC8+PyAlcycsIGdvb2dsZS5tYXBzLnZpc3VhbGl6YXRpb24pO1xuICAgICAgICBpbnZhcmlhbnRfMSghIXRoaXMucHJvcHMuZGF0YSwgJ2RhdGEgcHJvcGVydHkgaXMgcmVxdWlyZWQgaW4gSGVhdG1hcExheWVyICVzJywgdGhpcy5wcm9wcy5kYXRhKTtcbiAgICAgICAgY29uc3QgaGVhdG1hcExheWVyID0gbmV3IGdvb2dsZS5tYXBzLnZpc3VhbGl6YXRpb24uSGVhdG1hcExheWVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKHRoaXMucHJvcHMub3B0aW9ucyB8fCB7fSkpLCB7IGRhdGE6IHRoaXMucHJvcHMuZGF0YSwgXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBtYXA6IHRoaXMuY29udGV4dCB9KSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ0LFxuICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDQsXG4gICAgICAgICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaW5zdGFuY2U6IGhlYXRtYXBMYXllcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0SGVhdG1hcExheWVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoZWF0bWFwTGF5ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB0aGlzLnNldEhlYXRtYXBMYXllckNhbGxiYWNrKTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ0LFxuICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDQsXG4gICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpbnN0YW5jZTogdGhpcy5zdGF0ZS5oZWF0bWFwTGF5ZXIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaGVhdG1hcExheWVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnN0YXRlLmhlYXRtYXBMYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmhlYXRtYXBMYXllci5zZXRNYXAobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5IZWF0bWFwTGF5ZXIuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG5jb25zdCBldmVudE1hcCQzID0ge1xuICAgIG9uQ2xvc2VDbGljazogJ2Nsb3NlY2xpY2snLFxuICAgIG9uUGFub0NoYW5nZWQ6ICdwYW5vX2NoYW5nZWQnLFxuICAgIG9uUG9zaXRpb25DaGFuZ2VkOiAncG9zaXRpb25fY2hhbmdlZCcsXG4gICAgb25Qb3ZDaGFuZ2VkOiAncG92X2NoYW5nZWQnLFxuICAgIG9uUmVzaXplOiAncmVzaXplJyxcbiAgICBvblN0YXR1c0NoYW5nZWQ6ICdzdGF0dXNfY2hhbmdlZCcsXG4gICAgb25WaXNpYmxlQ2hhbmdlZDogJ3Zpc2libGVfY2hhbmdlZCcsXG4gICAgb25ab29tQ2hhbmdlZDogJ3pvb21fY2hhbmdlZCcsXG59O1xuY29uc3QgdXBkYXRlck1hcCQzID0ge1xuICAgIHJlZ2lzdGVyKGluc3RhbmNlLCBwcm92aWRlciwgb3B0aW9ucykge1xuICAgICAgICBpbnN0YW5jZS5yZWdpc3RlclBhbm9Qcm92aWRlcihwcm92aWRlciwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBsaW5rcyhpbnN0YW5jZSwgbGlua3MpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0TGlua3MobGlua3MpO1xuICAgIH0sXG4gICAgbW90aW9uVHJhY2tpbmcoaW5zdGFuY2UsIG1vdGlvblRyYWNraW5nKSB7XG4gICAgICAgIGluc3RhbmNlLnNldE1vdGlvblRyYWNraW5nKG1vdGlvblRyYWNraW5nKTtcbiAgICB9LFxuICAgIG9wdGlvbnMoaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9LFxuICAgIHBhbm8oaW5zdGFuY2UsIHBhbm8pIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0UGFubyhwYW5vKTtcbiAgICB9LFxuICAgIHBvc2l0aW9uKGluc3RhbmNlLCBwb3NpdGlvbikge1xuICAgICAgICBpbnN0YW5jZS5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgfSxcbiAgICBwb3YoaW5zdGFuY2UsIHBvdikge1xuICAgICAgICBpbnN0YW5jZS5zZXRQb3YocG92KTtcbiAgICB9LFxuICAgIHZpc2libGUoaW5zdGFuY2UsIHZpc2libGUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9LFxuICAgIHpvb20oaW5zdGFuY2UsIHpvb20pIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0Wm9vbSh6b29tKTtcbiAgICB9LFxufTtcbmNsYXNzIFN0cmVldFZpZXdQYW5vcmFtYSBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHN0cmVldFZpZXdQYW5vcmFtYTogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRTdHJlZXRWaWV3UGFub3JhbWFDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnN0cmVldFZpZXdQYW5vcmFtYSAhPT0gbnVsbCAmJiB0aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Mb2FkKHRoaXMuc3RhdGUuc3RyZWV0Vmlld1Bhbm9yYW1hKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3Qgc3RyZWV0Vmlld1Bhbm9yYW1hID0gdGhpcy5jb250ZXh0LmdldFN0cmVldFZpZXcoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDMsXG4gICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkMyxcbiAgICAgICAgICAgIHByZXZQcm9wczoge30sXG4gICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpbnN0YW5jZTogc3RyZWV0Vmlld1Bhbm9yYW1hLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0cmVldFZpZXdQYW5vcmFtYSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHRoaXMuc2V0U3RyZWV0Vmlld1Bhbm9yYW1hQ2FsbGJhY2spO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnN0cmVldFZpZXdQYW5vcmFtYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQzLFxuICAgICAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQzLFxuICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUuc3RyZWV0Vmlld1Bhbm9yYW1hLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnN0cmVldFZpZXdQYW5vcmFtYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5zdHJlZXRWaWV3UGFub3JhbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdHJlZXRWaWV3UGFub3JhbWEuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5TdHJlZXRWaWV3UGFub3JhbWEuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG5jbGFzcyBTdHJlZXRWaWV3U2VydmljZSBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc3RyZWV0Vmlld1NlcnZpY2U6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0U3RyZWV0Vmlld1NlcnZpY2VDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnN0cmVldFZpZXdTZXJ2aWNlICE9PSBudWxsICYmIHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkxvYWQodGhpcy5zdGF0ZS5zdHJlZXRWaWV3U2VydmljZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCBzdHJlZXRWaWV3U2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5TdHJlZXRWaWV3U2VydmljZSgpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIHNldFN0cmVldFZpZXdTZXJ2aWNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdHJlZXRWaWV3U2VydmljZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHRoaXMuc2V0U3RyZWV0Vmlld1NlcnZpY2VDYWxsYmFjayk7XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zdHJlZXRWaWV3U2VydmljZSAhPT0gbnVsbCAmJiB0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5zdHJlZXRWaWV3U2VydmljZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5TdHJlZXRWaWV3U2VydmljZS5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbmNsYXNzIERpcmVjdGlvbnNTZXJ2aWNlIGV4dGVuZHMgcmVxdWlyZSQkMC5QdXJlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGRpcmVjdGlvbnNTZXJ2aWNlOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldERpcmVjdGlvbnNTZXJ2aWNlQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5kaXJlY3Rpb25zU2VydmljZSAhPT0gbnVsbCAmJiB0aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Mb2FkKHRoaXMuc3RhdGUuZGlyZWN0aW9uc1NlcnZpY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaW52YXJpYW50XzEoISF0aGlzLnByb3BzLm9wdGlvbnMsICdEaXJlY3Rpb25zU2VydmljZSBleHBlY3RlZCBvcHRpb25zIG9iamVjdCBhcyBwYXJhbWV0ZXIsIGJ1dCBnb3QgJXMnLCB0aGlzLnByb3BzLm9wdGlvbnMpO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb25zU2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5EaXJlY3Rpb25zU2VydmljZSgpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIHNldERpcmVjdGlvbnNTZXJ2aWNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zU2VydmljZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHRoaXMuc2V0RGlyZWN0aW9uc1NlcnZpY2VDYWxsYmFjayk7XG4gICAgfVxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZGlyZWN0aW9uc1NlcnZpY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZGlyZWN0aW9uc1NlcnZpY2Uucm91dGUodGhpcy5wcm9wcy5vcHRpb25zLCB0aGlzLnByb3BzLmNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZGlyZWN0aW9uc1NlcnZpY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuZGlyZWN0aW9uc1NlcnZpY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5jb25zdCBldmVudE1hcCQyID0ge1xuICAgIG9uRGlyZWN0aW9uc0NoYW5nZWQ6ICdkaXJlY3Rpb25zX2NoYW5nZWQnLFxufTtcbmNvbnN0IHVwZGF0ZXJNYXAkMiA9IHtcbiAgICBkaXJlY3Rpb25zKGluc3RhbmNlLCBkaXJlY3Rpb25zKSB7XG4gICAgICAgIGluc3RhbmNlLnNldERpcmVjdGlvbnMoZGlyZWN0aW9ucyk7XG4gICAgfSxcbiAgICBtYXAoaW5zdGFuY2UsIG1hcCkge1xuICAgICAgICBpbnN0YW5jZS5zZXRNYXAobWFwKTtcbiAgICB9LFxuICAgIG9wdGlvbnMoaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9LFxuICAgIHBhbmVsKGluc3RhbmNlLCBwYW5lbCkge1xuICAgICAgICBpbnN0YW5jZS5zZXRQYW5lbChwYW5lbCk7XG4gICAgfSxcbiAgICByb3V0ZUluZGV4KGluc3RhbmNlLCByb3V0ZUluZGV4KSB7XG4gICAgICAgIGluc3RhbmNlLnNldFJvdXRlSW5kZXgocm91dGVJbmRleCk7XG4gICAgfSxcbn07XG5jbGFzcyBEaXJlY3Rpb25zUmVuZGVyZXIgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBkaXJlY3Rpb25zUmVuZGVyZXI6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0RGlyZWN0aW9uc1JlbmRlcmVyQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5kaXJlY3Rpb25zUmVuZGVyZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kaXJlY3Rpb25zUmVuZGVyZXIuc2V0TWFwKHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Mb2FkKHRoaXMuc3RhdGUuZGlyZWN0aW9uc1JlbmRlcmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb25zUmVuZGVyZXIgPSBuZXcgZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1JlbmRlcmVyKHRoaXMucHJvcHMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQyLFxuICAgICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDIsXG4gICAgICAgICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaW5zdGFuY2U6IGRpcmVjdGlvbnNSZW5kZXJlcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0RGlyZWN0aW9uc1JlbmRlcmVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zUmVuZGVyZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB0aGlzLnNldERpcmVjdGlvbnNSZW5kZXJlckNhbGxiYWNrKTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5kaXJlY3Rpb25zUmVuZGVyZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkMixcbiAgICAgICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkMixcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLmRpcmVjdGlvbnNSZW5kZXJlcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5kaXJlY3Rpb25zUmVuZGVyZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuZGlyZWN0aW9uc1JlbmRlcmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmRpcmVjdGlvbnNSZW5kZXJlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZGlyZWN0aW9uc1JlbmRlcmVyLnNldE1hcChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBqc3hSdW50aW1lLmV4cG9ydHMuanN4KGpzeFJ1bnRpbWUuZXhwb3J0cy5GcmFnbWVudCwge30pO1xuICAgIH1cbn1cbkRpcmVjdGlvbnNSZW5kZXJlci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbmNsYXNzIERpc3RhbmNlTWF0cml4U2VydmljZSBleHRlbmRzIHJlcXVpcmUkJDAuUHVyZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBkaXN0YW5jZU1hdHJpeFNlcnZpY2U6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0RGlzdGFuY2VNYXRyaXhTZXJ2aWNlQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5kaXN0YW5jZU1hdHJpeFNlcnZpY2UgIT09IG51bGwgJiYgdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLnN0YXRlLmRpc3RhbmNlTWF0cml4U2VydmljZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBpbnZhcmlhbnRfMSghIXRoaXMucHJvcHMub3B0aW9ucywgJ0Rpc3RhbmNlTWF0cml4U2VydmljZSBleHBlY3RlZCBvcHRpb25zIG9iamVjdCBhcyBwYXJhbWV0ZXIsIGJ1dCBnbyAlcycsIHRoaXMucHJvcHMub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlTWF0cml4U2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5EaXN0YW5jZU1hdHJpeFNlcnZpY2UoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXREaXN0YW5jZU1hdHJpeFNlcnZpY2UoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlTWF0cml4U2VydmljZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHRoaXMuc2V0RGlzdGFuY2VNYXRyaXhTZXJ2aWNlQ2FsbGJhY2spO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmRpc3RhbmNlTWF0cml4U2VydmljZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kaXN0YW5jZU1hdHJpeFNlcnZpY2UuZ2V0RGlzdGFuY2VNYXRyaXgodGhpcy5wcm9wcy5vcHRpb25zLCB0aGlzLnByb3BzLmNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZGlzdGFuY2VNYXRyaXhTZXJ2aWNlICE9PSBudWxsICYmIHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnN0YXRlLmRpc3RhbmNlTWF0cml4U2VydmljZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmNvbnN0IGV2ZW50TWFwJDEgPSB7XG4gICAgb25QbGFjZXNDaGFuZ2VkOiAncGxhY2VzX2NoYW5nZWQnLFxufTtcbmNvbnN0IHVwZGF0ZXJNYXAkMSA9IHtcbiAgICBib3VuZHMoaW5zdGFuY2UsIGJvdW5kcykge1xuICAgICAgICBpbnN0YW5jZS5zZXRCb3VuZHMoYm91bmRzKTtcbiAgICB9LFxufTtcbmNsYXNzIFN0YW5kYWxvbmVTZWFyY2hCb3ggZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWxlbWVudCA9IGNyZWF0ZVJlZigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2VhcmNoQm94OiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFNlYXJjaEJveENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoQm94ICE9PSBudWxsICYmIHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkxvYWQodGhpcy5zdGF0ZS5zZWFyY2hCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaW52YXJpYW50XzEoISFnb29nbGUubWFwcy5wbGFjZXMsICdZb3UgbmVlZCB0byBwcm92aWRlIGxpYnJhcmllcz17W1wicGxhY2VzXCJdfSBwcm9wIHRvIDxMb2FkU2NyaXB0IC8+IGNvbXBvbmVudCAlcycsIGdvb2dsZS5tYXBzLnBsYWNlcyk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lckVsZW1lbnQgIT09IG51bGwgJiYgdGhpcy5jb250YWluZXJFbGVtZW50LmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5jb250YWluZXJFbGVtZW50LmN1cnJlbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgICAgIGlmIChpbnB1dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaEJveCA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuU2VhcmNoQm94KGlucHV0LCB0aGlzLnByb3BzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDEsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQxLFxuICAgICAgICAgICAgICAgICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiBzZWFyY2hCb3gsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXRTZWFyY2hCb3goKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hCb3gsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5zZXRTZWFyY2hCb3hDYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2hCb3ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICAgICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkMSxcbiAgICAgICAgICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkMSxcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLnNlYXJjaEJveCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2hCb3ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuc2VhcmNoQm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBqc3hSdW50aW1lLmV4cG9ydHMuanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oeyByZWY6IHRoaXMuY29udGFpbmVyRWxlbWVudCB9LCB7IGNoaWxkcmVuOiBDaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pIH0pKTtcbiAgICB9XG59XG5TdGFuZGFsb25lU2VhcmNoQm94LmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxuY29uc3QgZXZlbnRNYXAgPSB7XG4gICAgb25QbGFjZUNoYW5nZWQ6ICdwbGFjZV9jaGFuZ2VkJyxcbn07XG5jb25zdCB1cGRhdGVyTWFwID0ge1xuICAgIGJvdW5kcyhpbnN0YW5jZSwgYm91bmRzKSB7XG4gICAgICAgIGluc3RhbmNlLnNldEJvdW5kcyhib3VuZHMpO1xuICAgIH0sXG4gICAgcmVzdHJpY3Rpb25zKGluc3RhbmNlLCByZXN0cmljdGlvbnMpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0Q29tcG9uZW50UmVzdHJpY3Rpb25zKHJlc3RyaWN0aW9ucyk7XG4gICAgfSxcbiAgICBmaWVsZHMoaW5zdGFuY2UsIGZpZWxkcykge1xuICAgICAgICBpbnN0YW5jZS5zZXRGaWVsZHMoZmllbGRzKTtcbiAgICB9LFxuICAgIG9wdGlvbnMoaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9LFxuICAgIHR5cGVzKGluc3RhbmNlLCB0eXBlcykge1xuICAgICAgICBpbnN0YW5jZS5zZXRUeXBlcyh0eXBlcyk7XG4gICAgfSxcbn07XG5jbGFzcyBBdXRvY29tcGxldGUgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWxlbWVudCA9IGNyZWF0ZVJlZigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldEF1dG9jb21wbGV0ZUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuYXV0b2NvbXBsZXRlICE9PSBudWxsICYmIHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkxvYWQodGhpcy5zdGF0ZS5hdXRvY29tcGxldGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaW52YXJpYW50XzEoISFnb29nbGUubWFwcy5wbGFjZXMsICdZb3UgbmVlZCB0byBwcm92aWRlIGxpYnJhcmllcz17W1wicGxhY2VzXCJdfSBwcm9wIHRvIDxMb2FkU2NyaXB0IC8+IGNvbXBvbmVudCAlcycsIGdvb2dsZS5tYXBzLnBsYWNlcyk7XG4gICAgICAgIC8vIFRPRE86IHdoeSBjdXJyZW50IGNvdWxkIGJlIGVxdWFsIG51bGw/XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNvbnRhaW5lckVsZW1lbnQuY3VycmVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1dG9jb21wbGV0ZSA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuQXV0b2NvbXBsZXRlKGlucHV0LCB0aGlzLnByb3BzLm9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgICAgICAgICAgdXBkYXRlck1hcCxcbiAgICAgICAgICAgICAgICBldmVudE1hcCxcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZTogYXV0b2NvbXBsZXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhdXRvY29tcGxldGUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sIHRoaXMuc2V0QXV0b2NvbXBsZXRlQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICAgIHVwZGF0ZXJNYXAsXG4gICAgICAgICAgICBldmVudE1hcCxcbiAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLmF1dG9jb21wbGV0ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5hdXRvY29tcGxldGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBqc3hSdW50aW1lLmV4cG9ydHMuanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oeyByZWY6IHRoaXMuY29udGFpbmVyRWxlbWVudCwgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZSB9LCB7IGNoaWxkcmVuOiBDaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pIH0pKTtcbiAgICB9XG59XG5BdXRvY29tcGxldGUuZGVmYXVsdFByb3BzID0ge1xuICAgIGNsYXNzTmFtZTogJydcbn07XG5BdXRvY29tcGxldGUuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG5leHBvcnQgeyBBdXRvY29tcGxldGUsIEJpY3ljbGluZ0xheWVyLCBCaWN5Y2xpbmdMYXllckYsIENpcmNsZSwgQ2lyY2xlRiwgRGF0YSwgRGF0YUYsIERpcmVjdGlvbnNSZW5kZXJlciwgRGlyZWN0aW9uc1NlcnZpY2UsIERpc3RhbmNlTWF0cml4U2VydmljZSwgRHJhd2luZ01hbmFnZXIsIERyYXdpbmdNYW5hZ2VyRiwgRkxPQVRfUEFORSwgR29vZ2xlTWFwLCBpbmRleF9lc20gYXMgR29vZ2xlTWFwc01hcmtlckNsdXN0ZXJlciwgR29vZ2xlTWFya2VyQ2x1c3RlcmVyJDEgYXMgR29vZ2xlTWFya2VyQ2x1c3RlcmVyLCBHcm91bmRPdmVybGF5LCBIZWF0bWFwTGF5ZXIsIEluZm9Cb3hDb21wb25lbnQgYXMgSW5mb0JveCwgSW5mb0JveEYsIEluZm9XaW5kb3csIEluZm9XaW5kb3dGLCBLbWxMYXllciwgTG9hZFNjcmlwdCwgTG9hZFNjcmlwdE5leHQkMSBhcyBMb2FkU2NyaXB0TmV4dCwgTUFQX1BBTkUsIE1BUktFUl9MQVlFUiwgTWFwQ29udGV4dCwgTWFya2VyLCBDbHVzdGVyZXJDb21wb25lbnQgYXMgTWFya2VyQ2x1c3RlcmVyLCBNYXJrZXJGLCBPVkVSTEFZX0xBWUVSLCBPVkVSTEFZX01PVVNFX1RBUkdFVCwgT3ZlcmxheVZpZXcsIE92ZXJsYXlWaWV3RiwgUG9seWdvbiwgUG9seWdvbkYsIFBvbHlsaW5lLCBQb2x5bGluZUYsIFJlY3RhbmdsZSwgUmVjdGFuZ2xlRiwgU3RhbmRhbG9uZVNlYXJjaEJveCwgU3RyZWV0Vmlld1Bhbm9yYW1hLCBTdHJlZXRWaWV3U2VydmljZSwgVHJhZmZpY0xheWVyLCBUcmFmZmljTGF5ZXJGLCBUcmFuc2l0TGF5ZXIsIFRyYW5zaXRMYXllckYsIHVzZUdvb2dsZU1hcCwgdXNlSnNBcGlMb2FkZXIsIHVzZUxvYWRTY3JpcHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-google-maps/api/dist/esm.js\n");

/***/ }),

/***/ "./node_modules/next/dist/build/polyfills/process.js":
/*!***********************************************************!*\
  !*** ./node_modules/next/dist/build/polyfills/process.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nvar ref, ref1;\nmodule.exports = ((ref = __webpack_require__.g.process) === null || ref === void 0 ? void 0 : ref.env) && typeof ((ref1 = __webpack_require__.g.process) === null || ref1 === void 0 ? void 0 : ref1.env) === 'object' ? __webpack_require__.g.process : __webpack_require__(/*! ../../compiled/process */ \"./node_modules/next/dist/compiled/process/browser.js\");\n\n//# sourceMappingURL=process.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9wcm9jZXNzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSx5QkFBeUIscUJBQU0sNEVBQTRFLHFCQUFNLDBFQUEwRSxxQkFBTSxXQUFXLG1CQUFPLENBQUMsb0ZBQXdCOztBQUU1TyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9wcm9jZXNzLmpzP2NhNjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcmVmLCByZWYxO1xubW9kdWxlLmV4cG9ydHMgPSAoKHJlZiA9IGdsb2JhbC5wcm9jZXNzKSA9PT0gbnVsbCB8fCByZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlZi5lbnYpICYmIHR5cGVvZiAoKHJlZjEgPSBnbG9iYWwucHJvY2VzcykgPT09IG51bGwgfHwgcmVmMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVmMS5lbnYpID09PSAnb2JqZWN0JyA/IGdsb2JhbC5wcm9jZXNzIDogcmVxdWlyZSgnLi4vLi4vY29tcGlsZWQvcHJvY2VzcycpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9jZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/polyfills/process.js\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@reach/combobox/styles.css":
/*!*****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@reach/combobox/styles.css ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../next/dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --reach-combobox: 1;\\n}\\n\\n[data-reach-combobox-popover] {\\n  border: solid 1px hsla(0, 0%, 0%, 0.25);\\n  background: hsla(0, 100%, 100%, 0.99);\\n  font-size: 85%;\\n}\\n\\n[data-reach-combobox-list] {\\n  list-style: none;\\n  margin: 0;\\n  padding: 0;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\\n[data-reach-combobox-option] {\\n  cursor: pointer;\\n  margin: 0;\\n  padding: 0.25rem 0.5rem;\\n}\\n\\n[data-reach-combobox-option][aria-selected=\\\"true\\\"] {\\n  background: hsl(211, 10%, 95%);\\n}\\n\\n[data-reach-combobox-option]:hover {\\n  background: hsl(211, 10%, 92%);\\n}\\n\\n[data-reach-combobox-option][aria-selected=\\\"true\\\"]:hover {\\n  background: hsl(211, 10%, 90%);\\n}\\n\\n[data-suggested-value] {\\n  font-weight: bold;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://node_modules/@reach/combobox/styles.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,mBAAmB;AACrB;;AAEA;EACE,uCAAuC;EACvC,qCAAqC;EACrC,cAAc;AAChB;;AAEA;EACE,gBAAgB;EAChB,SAAS;EACT,UAAU;EACV,yBAAiB;KAAjB,sBAAiB;MAAjB,qBAAiB;UAAjB,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,SAAS;EACT,uBAAuB;AACzB;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,iBAAiB;AACnB\",\"sourcesContent\":[\":root {\\n  --reach-combobox: 1;\\n}\\n\\n[data-reach-combobox-popover] {\\n  border: solid 1px hsla(0, 0%, 0%, 0.25);\\n  background: hsla(0, 100%, 100%, 0.99);\\n  font-size: 85%;\\n}\\n\\n[data-reach-combobox-list] {\\n  list-style: none;\\n  margin: 0;\\n  padding: 0;\\n  user-select: none;\\n}\\n\\n[data-reach-combobox-option] {\\n  cursor: pointer;\\n  margin: 0;\\n  padding: 0.25rem 0.5rem;\\n}\\n\\n[data-reach-combobox-option][aria-selected=\\\"true\\\"] {\\n  background: hsl(211, 10%, 95%);\\n}\\n\\n[data-reach-combobox-option]:hover {\\n  background: hsl(211, 10%, 92%);\\n}\\n\\n[data-reach-combobox-option][aria-selected=\\\"true\\\"]:hover {\\n  background: hsl(211, 10%, 90%);\\n}\\n\\n[data-suggested-value] {\\n  font-weight: bold;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS5vbmVPZls3XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0ub25lT2ZbN10udXNlWzJdIS4vbm9kZV9tb2R1bGVzL0ByZWFjaC9jb21ib2JveC9zdHlsZXMuY3NzLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQzhHO0FBQzlHLDhCQUE4QixxR0FBMkI7QUFDekQ7QUFDQSxpREFBaUQsd0JBQXdCLEdBQUcsbUNBQW1DLDRDQUE0QywwQ0FBMEMsbUJBQW1CLEdBQUcsZ0NBQWdDLHFCQUFxQixjQUFjLGVBQWUsOEJBQThCLDhCQUE4Qiw4QkFBOEIsOEJBQThCLEdBQUcsa0NBQWtDLG9CQUFvQixjQUFjLDRCQUE0QixHQUFHLDBEQUEwRCxtQ0FBbUMsR0FBRyx3Q0FBd0MsbUNBQW1DLEdBQUcsZ0VBQWdFLG1DQUFtQyxHQUFHLDRCQUE0QixzQkFBc0IsR0FBRyxTQUFTLHdHQUF3RyxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsV0FBVyxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssVUFBVSxVQUFVLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksaUNBQWlDLHdCQUF3QixHQUFHLG1DQUFtQyw0Q0FBNEMsMENBQTBDLG1CQUFtQixHQUFHLGdDQUFnQyxxQkFBcUIsY0FBYyxlQUFlLHNCQUFzQixHQUFHLGtDQUFrQyxvQkFBb0IsY0FBYyw0QkFBNEIsR0FBRywwREFBMEQsbUNBQW1DLEdBQUcsd0NBQXdDLG1DQUFtQyxHQUFHLGdFQUFnRSxtQ0FBbUMsR0FBRyw0QkFBNEIsc0JBQXNCLEdBQUcscUJBQXFCO0FBQ3ArRDtBQUNBLCtEQUFlLHVCQUF1QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY2gvY29tYm9ib3gvc3R5bGVzLmNzcz8zMDgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyh0cnVlKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIjpyb290IHtcXG4gIC0tcmVhY2gtY29tYm9ib3g6IDE7XFxufVxcblxcbltkYXRhLXJlYWNoLWNvbWJvYm94LXBvcG92ZXJdIHtcXG4gIGJvcmRlcjogc29saWQgMXB4IGhzbGEoMCwgMCUsIDAlLCAwLjI1KTtcXG4gIGJhY2tncm91bmQ6IGhzbGEoMCwgMTAwJSwgMTAwJSwgMC45OSk7XFxuICBmb250LXNpemU6IDg1JTtcXG59XFxuXFxuW2RhdGEtcmVhY2gtY29tYm9ib3gtbGlzdF0ge1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cXG5bZGF0YS1yZWFjaC1jb21ib2JveC1vcHRpb25dIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDAuMjVyZW0gMC41cmVtO1xcbn1cXG5cXG5bZGF0YS1yZWFjaC1jb21ib2JveC1vcHRpb25dW2FyaWEtc2VsZWN0ZWQ9XFxcInRydWVcXFwiXSB7XFxuICBiYWNrZ3JvdW5kOiBoc2woMjExLCAxMCUsIDk1JSk7XFxufVxcblxcbltkYXRhLXJlYWNoLWNvbWJvYm94LW9wdGlvbl06aG92ZXIge1xcbiAgYmFja2dyb3VuZDogaHNsKDIxMSwgMTAlLCA5MiUpO1xcbn1cXG5cXG5bZGF0YS1yZWFjaC1jb21ib2JveC1vcHRpb25dW2FyaWEtc2VsZWN0ZWQ9XFxcInRydWVcXFwiXTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kOiBoc2woMjExLCAxMCUsIDkwJSk7XFxufVxcblxcbltkYXRhLXN1Z2dlc3RlZC12YWx1ZV0ge1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly9ub2RlX21vZHVsZXMvQHJlYWNoL2NvbWJvYm94L3N0eWxlcy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSx1Q0FBdUM7RUFDdkMscUNBQXFDO0VBQ3JDLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsU0FBUztFQUNULFVBQVU7RUFDVix5QkFBaUI7S0FBakIsc0JBQWlCO01BQWpCLHFCQUFpQjtVQUFqQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsU0FBUztFQUNULHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI6cm9vdCB7XFxuICAtLXJlYWNoLWNvbWJvYm94OiAxO1xcbn1cXG5cXG5bZGF0YS1yZWFjaC1jb21ib2JveC1wb3BvdmVyXSB7XFxuICBib3JkZXI6IHNvbGlkIDFweCBoc2xhKDAsIDAlLCAwJSwgMC4yNSk7XFxuICBiYWNrZ3JvdW5kOiBoc2xhKDAsIDEwMCUsIDEwMCUsIDAuOTkpO1xcbiAgZm9udC1zaXplOiA4NSU7XFxufVxcblxcbltkYXRhLXJlYWNoLWNvbWJvYm94LWxpc3RdIHtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcblxcbltkYXRhLXJlYWNoLWNvbWJvYm94LW9wdGlvbl0ge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07XFxufVxcblxcbltkYXRhLXJlYWNoLWNvbWJvYm94LW9wdGlvbl1bYXJpYS1zZWxlY3RlZD1cXFwidHJ1ZVxcXCJdIHtcXG4gIGJhY2tncm91bmQ6IGhzbCgyMTEsIDEwJSwgOTUlKTtcXG59XFxuXFxuW2RhdGEtcmVhY2gtY29tYm9ib3gtb3B0aW9uXTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kOiBoc2woMjExLCAxMCUsIDkyJSk7XFxufVxcblxcbltkYXRhLXJlYWNoLWNvbWJvYm94LW9wdGlvbl1bYXJpYS1zZWxlY3RlZD1cXFwidHJ1ZVxcXCJdOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6IGhzbCgyMTEsIDEwJSwgOTAlKTtcXG59XFxuXFxuW2RhdGEtc3VnZ2VzdGVkLXZhbHVlXSB7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@reach/combobox/styles.css\n");

/***/ }),

/***/ "./node_modules/@reach/combobox/styles.css":
/*!*************************************************!*\
  !*** ./node_modules/@reach/combobox/styles.css ***!
  \*************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! !../../next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./styles.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@reach/combobox/styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                // These elements should always exist. If they do not,\n                // this code should fail.\n                var anchorElement = document.querySelector('#__next_css__DO_NOT_USE__');\n                var parentNode = anchorElement.parentNode// Normally <head>\n                ;\n                // Each style tag should be placed right before our\n                // anchor. By inserting before and not after, we do not\n                // need to track the last inserted element.\n                parentNode.insertBefore(element, anchorElement);\n            };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./styles.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@reach/combobox/styles.css\",\n      function () {\n        content = __webpack_require__(/*! !!../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./styles.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@reach/combobox/styles.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWNoL2NvbWJvYm94L3N0eWxlcy5jc3MuanMiLCJtYXBwaW5ncyI6IkFBQUEsVUFBVSxtQkFBTyxDQUFDLDBNQUE4RjtBQUNoSCwwQkFBMEIsbUJBQU8sQ0FBQyx1ZUFBME47O0FBRTVQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBLElBQUksSUFBVTtBQUNkLHlCQUF5QixVQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGlCQUFpQjtBQUNyQixNQUFNLHVlQUEwTjtBQUNoTztBQUNBLGtCQUFrQixtQkFBTyxDQUFDLHVlQUEwTjs7QUFFcFA7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLFVBQVU7O0FBRTFCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxVQUFVO0FBQ1o7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjaC9jb21ib2JveC9zdHlsZXMuY3NzP2I4ZWEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXN0eWxlLWxvYWRlci9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS5vbmVPZls3XS51c2VbMV0hLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0ub25lT2ZbN10udXNlWzJdIS4vc3R5bGVzLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBlbGVtZW50cyBzaG91bGQgYWx3YXlzIGV4aXN0LiBJZiB0aGV5IGRvIG5vdCxcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNvZGUgc2hvdWxkIGZhaWwuXG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjX19uZXh0X2Nzc19fRE9fTk9UX1VTRV9fJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBhbmNob3JFbGVtZW50LnBhcmVudE5vZGUvLyBOb3JtYWxseSA8aGVhZD5cbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgLy8gRWFjaCBzdHlsZSB0YWcgc2hvdWxkIGJlIHBsYWNlZCByaWdodCBiZWZvcmUgb3VyXG4gICAgICAgICAgICAgICAgLy8gYW5jaG9yLiBCeSBpbnNlcnRpbmcgYmVmb3JlIGFuZCBub3QgYWZ0ZXIsIHdlIGRvIG5vdFxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgdGhlIGxhc3QgaW5zZXJ0ZWQgZWxlbWVudC5cbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtZW50LCBhbmNob3JFbGVtZW50KTtcbiAgICAgICAgICAgIH07XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cbmlmIChtb2R1bGUuaG90KSB7XG4gIGlmICghY29udGVudC5sb2NhbHMgfHwgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKSB7XG4gICAgdmFyIGlzRXF1YWxMb2NhbHMgPSBmdW5jdGlvbiBpc0VxdWFsTG9jYWxzKGEsIGIsIGlzTmFtZWRFeHBvcnQpIHtcbiAgICBpZiAoIWEgJiYgYiB8fCBhICYmICFiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHA7XG4gICAgZm9yKHAgaW4gYSl7XG4gICAgICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFbcF0gIT09IGJbcF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IocCBpbiBiKXtcbiAgICAgICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFbcF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4gICAgdmFyIG9sZExvY2FscyA9IGNvbnRlbnQubG9jYWxzO1xuXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXG4gICAgICBcIiEhLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS5vbmVPZls3XS51c2VbMV0hLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0ub25lT2ZbN10udXNlWzJdIS4vc3R5bGVzLmNzc1wiLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS5vbmVPZls3XS51c2VbMV0hLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0ub25lT2ZbN10udXNlWzJdIS4vc3R5bGVzLmNzc1wiKTtcblxuICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCFpc0VxdWFsTG9jYWxzKG9sZExvY2FscywgY29udGVudC5sb2NhbHMpKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvbGRMb2NhbHMgPSBjb250ZW50LmxvY2FscztcblxuICAgICAgICAgICAgICB1cGRhdGUoY29udGVudCk7XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@reach/combobox/styles.css\n");

/***/ }),

/***/ "./components/App/Map.jsx":
/*!********************************!*\
  !*** ./components/App/Map.jsx ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Places; }\n/* harmony export */ });\n/* harmony import */ var _Users_josedrz_Documents_GitHub_bbva_reto_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/regenerator-runtime/runtime.js */ \"./node_modules/next/dist/compiled/regenerator-runtime/runtime.js\");\n/* harmony import */ var _Users_josedrz_Documents_GitHub_bbva_reto_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_josedrz_Documents_GitHub_bbva_reto_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_google_maps_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-google-maps/api */ \"./node_modules/@react-google-maps/api/dist/esm.js\");\n/* harmony import */ var use_places_autocomplete__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! use-places-autocomplete */ \"./node_modules/use-places-autocomplete/dist/index.esm.js\");\n/* harmony import */ var _reach_combobox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reach/combobox */ \"./node_modules/@reach/combobox/dist/reach-combobox.esm.js\");\n/* harmony import */ var _reach_combobox_styles_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reach/combobox/styles.css */ \"./node_modules/@reach/combobox/styles.css\");\n/* harmony import */ var _reach_combobox_styles_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_reach_combobox_styles_css__WEBPACK_IMPORTED_MODULE_4__);\n/* module decorator */ module = __webpack_require__.hmd(module);\n\n\n\n\n\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _asyncToGenerator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nvar _this = undefined;\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\nfunction Places() {\n    _s();\n    var isLoaded = (0,_react_google_maps_api__WEBPACK_IMPORTED_MODULE_5__.useLoadScript)({\n        googleMapsApiKey: \"AIzaSyAfW9cJGuzky_v8zWjWE-BkVtsh-nWFmJ4\",\n        libraries: [\n            \"places\"\n        ]\n    }).isLoaded;\n    if (!isLoaded) return(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n        children: \"Loading...\"\n    }, void 0, false, {\n        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n        lineNumber: 22,\n        columnNumber: 25\n    }, this));\n    return(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(Map, {}, void 0, false, {\n        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n        lineNumber: 23,\n        columnNumber: 10\n    }, this));\n};\n_s(Places, \"0WnOjCnOubliry/bcWK4XUbomlA=\", false, function() {\n    return [\n        _react_google_maps_api__WEBPACK_IMPORTED_MODULE_5__.useLoadScript\n    ];\n});\n_c = Places;\nfunction Map() {\n    _s1();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        lat: -12.0494764,\n        lng: -75.1974564\n    }), selected = ref[0], setSelected = ref[1];\n    var onMarkerDragEnd = function(lat, lng) {\n        setSelected({\n            lat: lat,\n            lng: lng\n        });\n    };\n    return(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                className: \"places-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(PlacesAutocomplete, {\n                    setSelected: setSelected\n                }, void 0, false, {\n                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n                    lineNumber: 37,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n                lineNumber: 36,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_5__.GoogleMap, {\n                zoom: 18,\n                center: {\n                    lat: selected.lat,\n                    lng: selected.lng\n                },\n                mapContainerClassName: \"map-container\",\n                children: selected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_5__.Marker, {\n                    position: selected,\n                    draggable: true,\n                    onDragEnd: function(e) {\n                        return onMarkerDragEnd(e.latLng.lat(), e.latLng.lng());\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n                    lineNumber: 46,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n                lineNumber: 40,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true));\n}\n_s1(Map, \"3D8YCkTi4LwDg01MM+cCi9JCgQo=\");\n_c1 = Map;\nvar PlacesAutocomplete = function(param1) {\n    var setSelected = param1.setSelected;\n    var _this1 = _this;\n    _s2();\n    var ref1 = (0,use_places_autocomplete__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(), ready = ref1.ready, value = ref1.value, setValue = ref1.setValue, _suggestions = ref1.suggestions, status = _suggestions.status, data = _suggestions.data, clearSuggestions = ref1.clearSuggestions;\n    var handleSelect = function() {\n        var _ref = _asyncToGenerator(_Users_josedrz_Documents_GitHub_bbva_reto_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(address) {\n            var results, ref, lat, lng;\n            return _Users_josedrz_Documents_GitHub_bbva_reto_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                while(1)switch(_ctx.prev = _ctx.next){\n                    case 0:\n                        setValue(address, false);\n                        clearSuggestions();\n                        _ctx.next = 4;\n                        return (0,use_places_autocomplete__WEBPACK_IMPORTED_MODULE_3__.getGeocode)({\n                            address: address\n                        });\n                    case 4:\n                        results = _ctx.sent;\n                        _ctx.next = 7;\n                        return (0,use_places_autocomplete__WEBPACK_IMPORTED_MODULE_3__.getLatLng)(results[0]);\n                    case 7:\n                        ref = _ctx.sent;\n                        lat = ref.lat;\n                        lng = ref.lng;\n                        setSelected({\n                            lat: lat,\n                            lng: lng\n                        });\n                    case 11:\n                    case \"end\":\n                        return _ctx.stop();\n                }\n            }, _callee);\n        }));\n        return function handleSelect(address) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    return(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_reach_combobox__WEBPACK_IMPORTED_MODULE_6__.Combobox, {\n        onSelect: handleSelect,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_reach_combobox__WEBPACK_IMPORTED_MODULE_6__.ComboboxInput, {\n                value: value,\n                onChange: function(e) {\n                    return setValue(e.target.value);\n                },\n                disabled: !ready,\n                className: \"combobox-input\",\n                placeholder: \"Search an address\"\n            }, void 0, false, {\n                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n                lineNumber: 77,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_reach_combobox__WEBPACK_IMPORTED_MODULE_6__.ComboboxPopover, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_reach_combobox__WEBPACK_IMPORTED_MODULE_6__.ComboboxList, {\n                    children: status === \"OK\" && data.map(function(param) {\n                        var place_id = param.place_id, description = param.description;\n                        /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_reach_combobox__WEBPACK_IMPORTED_MODULE_6__.ComboboxOption, {\n                            value: description\n                        }, place_id, false, {\n                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n                            lineNumber: 88,\n                            columnNumber: 15\n                        }, _this1);\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n                    lineNumber: 85,\n                    columnNumber: 9\n                }, _this)\n            }, void 0, false, {\n                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n                lineNumber: 84,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/Map.jsx\",\n        lineNumber: 76,\n        columnNumber: 5\n    }, _this));\n};\n_s2(PlacesAutocomplete, \"thdSH5dLDpXDOr88sGg6kqFV+gs=\", false, function() {\n    return [\n        use_places_autocomplete__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    ];\n});\n_c2 = PlacesAutocomplete;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"Places\");\n$RefreshReg$(_c1, \"Map\");\n$RefreshReg$(_c2, \"PlacesAutocomplete\");\n\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxPQUFPO3dCQUFDLENBQUM7O3dCQUF0Q0MsT0FBTzs7K0JBQ2NwQyxrRUFBUyxDQUFDb0MsT0FBTyxDQUFDLENBQUM7O3dCQUF6QixHQUEyQjt3QkFBeEN4QixHQUFHLEdBQVUsR0FBMkIsQ0FBeENBLEdBQUc7d0JBQUVDLEdBQUcsR0FBSyxHQUEyQixDQUFuQ0EsR0FBRzt3QkFDaEJFLFdBQVcsQ0FBQyxDQUFDOzRCQUFDSCxHQUFHLEVBQUhBLEdBQUc7NEJBQUVDLEdBQUcsRUFBSEEsR0FBRzt3QkFBQyxDQUFDOzs7Ozs7UUFDMUIsQ0FBQzt3QkFQS3FCLFlBQVksQ0FBVUMsT0FBTzs7OztJQVNuQyxNQUFNLDZFQUNIbEMscURBQVE7UUFBQ29DLFFBQVEsRUFBRUgsWUFBWTs7d0ZBQzdCaEMsMERBQWE7Z0JBQ1owQixLQUFLLEVBQUVBLEtBQUs7Z0JBQ1pVLFFBQVEsRUFBRSxRQUFRLENBQVBiLENBQUM7b0JBQUtJLE1BQU0sQ0FBTkEsUUFBUSxDQUFDSixDQUFDLENBQUNjLE1BQU0sQ0FBQ1gsS0FBSzs7Z0JBQ3hDWSxRQUFRLEdBQUdiLEtBQUs7Z0JBQ2hCVixTQUFTLEVBQUMsQ0FBZ0I7Z0JBQzFCd0IsV0FBVyxFQUFDLENBQW1COzs7Ozs7d0ZBRWhDdEMsNERBQWU7c0dBQ2JDLHlEQUFZOzhCQUNWMkIsTUFBTSxLQUFLLENBQUksT0FDZEMsSUFBSSxDQUFDVSxHQUFHLENBQUMsUUFBUTs0QkFBTEMsUUFBUSxTQUFSQSxRQUFRLEVBQUVDLFdBQVcsU0FBWEEsV0FBVztzQ0FDL0IsTUFBTSwrREFBTHZDLDJEQUFjOzRCQUFnQnVCLEtBQUssRUFBRWdCLFdBQVc7MkJBQTVCRCxRQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTNDLENBQUM7SUFyQ0t6QixrQkFBa0I7O1FBT2xCcEIsK0RBQXFCOzs7TUFQckJvQixrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9BcHAvTWFwLmpzeD8zNTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHb29nbGVNYXAsIHVzZUxvYWRTY3JpcHQsIE1hcmtlciB9IGZyb20gXCJAcmVhY3QtZ29vZ2xlLW1hcHMvYXBpXCI7XG5pbXBvcnQgdXNlUGxhY2VzQXV0b2NvbXBsZXRlLCB7XG4gIGdldEdlb2NvZGUsXG4gIGdldExhdExuZyxcbn0gZnJvbSBcInVzZS1wbGFjZXMtYXV0b2NvbXBsZXRlXCI7XG5pbXBvcnQge1xuICBDb21ib2JveCxcbiAgQ29tYm9ib3hJbnB1dCxcbiAgQ29tYm9ib3hQb3BvdmVyLFxuICBDb21ib2JveExpc3QsXG4gIENvbWJvYm94T3B0aW9uLFxufSBmcm9tIFwiQHJlYWNoL2NvbWJvYm94XCI7XG5pbXBvcnQgXCJAcmVhY2gvY29tYm9ib3gvc3R5bGVzLmNzc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQbGFjZXMoKSB7XG4gIGNvbnN0IHsgaXNMb2FkZWQgfSA9IHVzZUxvYWRTY3JpcHQoe1xuICAgIGdvb2dsZU1hcHNBcGlLZXk6IFwiQUl6YVN5QWZXOWNKR3V6a3lfdjh6V2pXRS1Ca1Z0c2gtbldGbUo0XCIsXG4gICAgbGlicmFyaWVzOiBbXCJwbGFjZXNcIl0sXG4gIH0pO1xuXG4gIGlmICghaXNMb2FkZWQpIHJldHVybiA8ZGl2PkxvYWRpbmcuLi48L2Rpdj47XG4gIHJldHVybiA8TWFwIC8+O1xufVxuXG5mdW5jdGlvbiBNYXAoKSB7XG4gIGNvbnN0IFtzZWxlY3RlZCwgc2V0U2VsZWN0ZWRdID0gdXNlU3RhdGUoe1xuICAgIGxhdDogLTEyLjA0OTQ3NjQsXG4gICAgbG5nOiAtNzUuMTk3NDU2NCxcbiAgfSk7XG4gIGxldCBvbk1hcmtlckRyYWdFbmQgPSAobGF0LCBsbmcpID0+IHtcbiAgICBzZXRTZWxlY3RlZCh7IGxhdCwgbG5nIH0pO1xuICB9O1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlcy1jb250YWluZXJcIj5cbiAgICAgICAgPFBsYWNlc0F1dG9jb21wbGV0ZSBzZXRTZWxlY3RlZD17c2V0U2VsZWN0ZWR9IC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPEdvb2dsZU1hcFxuICAgICAgICB6b29tPXsxOH1cbiAgICAgICAgY2VudGVyPXt7IGxhdDogc2VsZWN0ZWQubGF0LCBsbmc6IHNlbGVjdGVkLmxuZyB9fVxuICAgICAgICBtYXBDb250YWluZXJDbGFzc05hbWU9XCJtYXAtY29udGFpbmVyXCJcbiAgICAgID5cbiAgICAgICAge3NlbGVjdGVkICYmIChcbiAgICAgICAgICA8TWFya2VyXG4gICAgICAgICAgICBwb3NpdGlvbj17c2VsZWN0ZWR9XG4gICAgICAgICAgICBkcmFnZ2FibGU9e3RydWV9XG4gICAgICAgICAgICBvbkRyYWdFbmQ9eyhlKSA9PiBvbk1hcmtlckRyYWdFbmQoZS5sYXRMbmcubGF0KCksIGUubGF0TG5nLmxuZygpKX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9Hb29nbGVNYXA+XG4gICAgPC8+XG4gICk7XG59XG5cbmNvbnN0IFBsYWNlc0F1dG9jb21wbGV0ZSA9ICh7IHNldFNlbGVjdGVkIH0pID0+IHtcbiAgY29uc3Qge1xuICAgIHJlYWR5LFxuICAgIHZhbHVlLFxuICAgIHNldFZhbHVlLFxuICAgIHN1Z2dlc3Rpb25zOiB7IHN0YXR1cywgZGF0YSB9LFxuICAgIGNsZWFyU3VnZ2VzdGlvbnMsXG4gIH0gPSB1c2VQbGFjZXNBdXRvY29tcGxldGUoKTtcblxuICBjb25zdCBoYW5kbGVTZWxlY3QgPSBhc3luYyAoYWRkcmVzcykgPT4ge1xuICAgIHNldFZhbHVlKGFkZHJlc3MsIGZhbHNlKTtcbiAgICBjbGVhclN1Z2dlc3Rpb25zKCk7XG5cbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgZ2V0R2VvY29kZSh7IGFkZHJlc3MgfSk7XG4gICAgY29uc3QgeyBsYXQsIGxuZyB9ID0gYXdhaXQgZ2V0TGF0TG5nKHJlc3VsdHNbMF0pO1xuICAgIHNldFNlbGVjdGVkKHsgbGF0LCBsbmcgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Q29tYm9ib3ggb25TZWxlY3Q9e2hhbmRsZVNlbGVjdH0+XG4gICAgICA8Q29tYm9ib3hJbnB1dFxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VmFsdWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICBkaXNhYmxlZD17IXJlYWR5fVxuICAgICAgICBjbGFzc05hbWU9XCJjb21ib2JveC1pbnB1dFwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGFuIGFkZHJlc3NcIlxuICAgICAgLz5cbiAgICAgIDxDb21ib2JveFBvcG92ZXI+XG4gICAgICAgIDxDb21ib2JveExpc3Q+XG4gICAgICAgICAge3N0YXR1cyA9PT0gXCJPS1wiICYmXG4gICAgICAgICAgICBkYXRhLm1hcCgoeyBwbGFjZV9pZCwgZGVzY3JpcHRpb24gfSkgPT4gKFxuICAgICAgICAgICAgICA8Q29tYm9ib3hPcHRpb24ga2V5PXtwbGFjZV9pZH0gdmFsdWU9e2Rlc2NyaXB0aW9ufSAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvQ29tYm9ib3hMaXN0PlxuICAgICAgPC9Db21ib2JveFBvcG92ZXI+XG4gICAgPC9Db21ib2JveD5cbiAgKTtcbn07XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VNZW1vIiwiR29vZ2xlTWFwIiwidXNlTG9hZFNjcmlwdCIsIk1hcmtlciIsInVzZVBsYWNlc0F1dG9jb21wbGV0ZSIsImdldEdlb2NvZGUiLCJnZXRMYXRMbmciLCJDb21ib2JveCIsIkNvbWJvYm94SW5wdXQiLCJDb21ib2JveFBvcG92ZXIiLCJDb21ib2JveExpc3QiLCJDb21ib2JveE9wdGlvbiIsIlBsYWNlcyIsImlzTG9hZGVkIiwiZ29vZ2xlTWFwc0FwaUtleSIsImxpYnJhcmllcyIsImRpdiIsIk1hcCIsImxhdCIsImxuZyIsInNlbGVjdGVkIiwic2V0U2VsZWN0ZWQiLCJvbk1hcmtlckRyYWdFbmQiLCJjbGFzc05hbWUiLCJQbGFjZXNBdXRvY29tcGxldGUiLCJ6b29tIiwiY2VudGVyIiwibWFwQ29udGFpbmVyQ2xhc3NOYW1lIiwicG9zaXRpb24iLCJkcmFnZ2FibGUiLCJvbkRyYWdFbmQiLCJlIiwibGF0TG5nIiwicmVhZHkiLCJ2YWx1ZSIsInNldFZhbHVlIiwic3VnZ2VzdGlvbnMiLCJzdGF0dXMiLCJkYXRhIiwiY2xlYXJTdWdnZXN0aW9ucyIsImhhbmRsZVNlbGVjdCIsImFkZHJlc3MiLCJyZXN1bHRzIiwib25TZWxlY3QiLCJvbkNoYW5nZSIsInRhcmdldCIsImRpc2FibGVkIiwicGxhY2Vob2xkZXIiLCJtYXAiLCJwbGFjZV9pZCIsImRlc2NyaXB0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/App/Map.jsx\n");

/***/ }),

/***/ "./components/App/index.jsx":
/*!**********************************!*\
  !*** ./components/App/index.jsx ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AppView; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _headlessui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @headlessui/react */ \"./node_modules/@headlessui/react/dist/headlessui.esm.js\");\n/* harmony import */ var _heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @heroicons/react/24/outline */ \"./node_modules/@heroicons/react/24/outline/esm/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Map */ \"./components/App/Map.jsx\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n\n\n\n\n\nvar _s = $RefreshSig$();\nvar user = {\n    name: \"Debbie Lewis\",\n    handle: \"deblewis\",\n    email: \"debbielewis@example.com\",\n    imageUrl: \"https://images.unsplash.com/photo-1517365830460-955ce3ccd263?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=4&w=320&h=320&q=80\"\n};\nvar navigation = [];\nvar userNavigation = [\n    {\n        name: \"Your Profile\",\n        href: \"#\"\n    },\n    {\n        name: \"Settings\",\n        href: \"#\"\n    },\n    {\n        name: \"Sign out\",\n        href: \"#\"\n    }, \n];\nvar subNavigation = [\n    {\n        name: \"Identificaci\\xf3n\",\n        href: \"#\",\n        icon: _heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__.UserCircleIcon,\n        current: true\n    },\n    {\n        name: \"Localizaci\\xf3n y entorno\",\n        href: \"#\",\n        icon: _heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__.MapPinIcon,\n        current: false\n    },\n    {\n        name: \"Tipolog\\xeda y posesi\\xf3n\",\n        href: \"#\",\n        icon: _heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__.MagnifyingGlassIcon,\n        current: false\n    },\n    {\n        name: \"Caracter\\xedsticas del edificio\",\n        href: \"#\",\n        icon: _heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__.BuildingOfficeIcon,\n        current: false\n    },\n    {\n        name: \"Caracter\\xedsticas del inmueble\",\n        href: \"#\",\n        icon: _heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__.ClipboardDocumentListIcon,\n        current: false\n    },\n    {\n        name: \"Archivos a cargar\",\n        href: \"#\",\n        icon: _heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__.DocumentArrowUpIcon,\n        current: false\n    }, \n];\nfunction classNames() {\n    for(var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++){\n        classes[_key] = arguments[_key];\n    }\n    return classes.filter(Boolean).join(\" \");\n}\nfunction AppView() {\n    var _this = this;\n    _s();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Identificaci\\xf3n\"), nav = ref[0], setNav = ref[1];\n    return(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Disclosure, {\n                as: \"div\",\n                className: \"relative overflow-hidden bg-custom-700 pb-32\",\n                children: function(param1) {\n                    var open = param1.open;\n                    /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                                className: classNames(open ? \"bg-custom-900\" : \"bg-transparent\", \"relative z-10 border-b border-custom-500 border-opacity-25 lg:border-none lg:bg-transparent\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mx-auto max-w-7xl px-2 sm:px-4 lg:px-8\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative flex h-16 items-center justify-between lg:border-b lg:border-custom-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center px-2 lg:px-0\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-shrink-0\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                width: \"100\",\n                                                                height: \"30\",\n                                                                viewBox: \"0 0 600 180\",\n                                                                fill: \"none\",\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                                                                        \"clip-path\": \"url(#clip0_3_7440)\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                                d: \"M432.2 24.4L380.6 122.6C379.5 124.7 376.3 124.7 375.2 122.6L323.6 24.4C323.1 23.4 322.1 22.8 321 22.8H296C294.3 22.8 293.2 24.6 294 26.1L375.3 178.3C376.4 180.4 379.4 180.4 380.6 178.3L461.9 26.1C462.7 24.6 461.6 22.8 459.9 22.8H434.9C433.7 22.8 432.7 23.4 432.2 24.4Z\",\n                                                                                fill: \"white\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                                lineNumber: 102,\n                                                                                columnNumber: 27\n                                                                            }, _this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                                d: \"M461.5 155.5L513.1 57.3C514.2 55.2 517.4 55.2 518.5 57.3L570.1 155.5C570.6 156.5 571.6 157.1 572.7 157.1H597.7C599.4 157.1 600.5 155.3 599.7 153.8L518.4 1.60002C517.3 -0.499976 514.3 -0.499976 513.1 1.60002L431.8 153.8C431 155.3 432.1 157.1 433.8 157.1H458.8C459.9 157 461 156.4 461.5 155.5Z\",\n                                                                                fill: \"white\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                                lineNumber: 106,\n                                                                                columnNumber: 27\n                                                                            }, _this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                                d: \"M108.8 95.2C119.6 89.8 126.3 78.0999 126.3 63.7999C126.3 39.2999 107.2 22.7 80.3 22.7H3C1.3 22.7 0 24 0 25.7V176.8C0 178.5 1.3 179.8 3 179.8H77C114 179.8 133.5 163.9 133.5 132.7C133.5 102.3 108.8 95.2 108.8 95.2ZM29 45.5H74.9C91.8 45.5 100.4 52.6999 100.4 66.0999C100.4 79.4999 91.8 86.6999 74.9 86.6999H29C27.4 86.6999 26 85.3999 26 83.6999V48.5C26 46.8 27.3 45.5 29 45.5ZM75.5 157H29C27.3 157 26 155.7 26 154V112.3C26 110.7 27.3 109.3 29 109.3H75.5C97.7 109.3 107.6 115.6 107.6 133.1C107.5 150.8 97.9 157 75.5 157Z\",\n                                                                                fill: \"white\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                                lineNumber: 110,\n                                                                                columnNumber: 27\n                                                                            }, _this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                                d: \"M267.5 95.2C278.3 89.8 285 78.0999 285 63.7999C285 39.2999 265.9 22.7 239 22.7H161.6C159.9 22.7 158.6 24 158.6 25.7V176.8C158.6 178.5 159.9 179.8 161.6 179.8H235.6C272.6 179.8 292.1 163.9 292.1 132.7C292.2 102.3 267.5 95.2 267.5 95.2ZM187.7 45.5H233.6C250.5 45.5 259.1 52.6999 259.1 66.0999C259.1 79.4999 250.5 86.6999 233.6 86.6999H187.7C186 86.6999 184.7 85.3999 184.7 83.6999V48.5C184.7 46.8 186 45.5 187.7 45.5ZM234.1 157H187.6C186 157 184.6 155.7 184.6 154V112.3C184.6 110.7 185.9 109.3 187.6 109.3H234.1C256.3 109.3 266.2 115.6 266.2 133.1C266.2 150.8 256.5 157 234.1 157Z\",\n                                                                                fill: \"white\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                                lineNumber: 114,\n                                                                                columnNumber: 27\n                                                                            }, _this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                        lineNumber: 101,\n                                                                        columnNumber: 25\n                                                                    }, _this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"defs\", {\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"clipPath\", {\n                                                                            id: \"clip0_3_7440\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                                                width: \"600\",\n                                                                                height: \"179.8\",\n                                                                                fill: \"white\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                                lineNumber: 121,\n                                                                                columnNumber: 29\n                                                                            }, _this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 120,\n                                                                            columnNumber: 27\n                                                                        }, _this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                        lineNumber: 119,\n                                                                        columnNumber: 25\n                                                                    }, _this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                lineNumber: 94,\n                                                                columnNumber: 23\n                                                            }, _this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 93,\n                                                            columnNumber: 21\n                                                        }, _this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"hidden lg:ml-6 lg:block lg:space-x-4\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex\",\n                                                                children: navigation.map(function(item) {\n                                                                    /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                                        href: item.href,\n                                                                        className: classNames(item.current ? \"bg-black bg-opacity-25\" : \"hover:bg-custom-800\", \"rounded-md py-2 px-3 text-sm font-medium text-white\"),\n                                                                        children: item.name\n                                                                    }, item.name, false, {\n                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                        lineNumber: 129,\n                                                                        columnNumber: 27\n                                                                    }, _this);\n                                                                })\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                lineNumber: 127,\n                                                                columnNumber: 23\n                                                            }, _this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 126,\n                                                            columnNumber: 21\n                                                        }, _this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 92,\n                                                    columnNumber: 19\n                                                }, _this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex flex-1 justify-center px-2 lg:ml-6 lg:justify-end\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-white font-bold cursor-pointer mx-4\",\n                                                            children: \"Equipo\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 146,\n                                                            columnNumber: 21\n                                                        }, _this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-white font-bold cursor-pointer mx-4\",\n                                                            children: \"Algoritmo\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 149,\n                                                            columnNumber: 21\n                                                        }, _this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 145,\n                                                    columnNumber: 19\n                                                }, _this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex lg:hidden\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Disclosure.Button, {\n                                                        className: \"inline-flex items-center justify-center rounded-md p-2 text-custom-200 hover:bg-custom-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"sr-only\",\n                                                                children: \"Open main menu\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                lineNumber: 156,\n                                                                columnNumber: 23\n                                                            }, _this),\n                                                            open ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__.XMarkIcon, {\n                                                                className: \"block h-6 w-6 flex-shrink-0\",\n                                                                \"aria-hidden\": \"true\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                lineNumber: 158,\n                                                                columnNumber: 25\n                                                            }, _this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__.Bars3Icon, {\n                                                                className: \"block h-6 w-6 flex-shrink-0\",\n                                                                \"aria-hidden\": \"true\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                lineNumber: 163,\n                                                                columnNumber: 25\n                                                            }, _this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                        lineNumber: 155,\n                                                        columnNumber: 21\n                                                    }, _this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 153,\n                                                    columnNumber: 19\n                                                }, _this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"hidden lg:block\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Menu, {\n                                                            as: \"div\",\n                                                            className: \"relative ml-4 flex-shrink-0\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Menu.Button, {\n                                                                        className: \"flex rounded-full text-sm text-white focus:bg-custom-900 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-custom-900\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"sr-only\",\n                                                                                children: \"Open user menu\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                                lineNumber: 176,\n                                                                                columnNumber: 29\n                                                                            }, _this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                className: \"h-8 w-8 rounded-full\",\n                                                                                src: user.imageUrl,\n                                                                                alt: \"\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                                lineNumber: 177,\n                                                                                columnNumber: 29\n                                                                            }, _this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                        lineNumber: 175,\n                                                                        columnNumber: 27\n                                                                    }, _this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 174,\n                                                                    columnNumber: 25\n                                                                }, _this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Transition, {\n                                                                    as: react__WEBPACK_IMPORTED_MODULE_1__.Fragment,\n                                                                    enter: \"transition ease-out duration-100\",\n                                                                    enterFrom: \"transform opacity-0 scale-95\",\n                                                                    enterTo: \"transform opacity-100 scale-100\",\n                                                                    leave: \"transition ease-in duration-75\",\n                                                                    leaveFrom: \"transform opacity-100 scale-100\",\n                                                                    leaveTo: \"transform opacity-0 scale-95\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Menu.Items, {\n                                                                        className: \"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none\",\n                                                                        children: userNavigation.map(function(item) {\n                                                                            /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Menu.Item, {\n                                                                                children: function(param) {\n                                                                                    var active = param.active;\n                                                                                    /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                                                        href: item.href,\n                                                                                        className: classNames(active ? \"bg-gray-100\" : \"\", \"block py-2 px-4 text-sm text-gray-700\"),\n                                                                                        children: item.name\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                                        lineNumber: 197,\n                                                                                        columnNumber: 35\n                                                                                    }, _this);\n                                                                                }\n                                                                            }, item.name, false, {\n                                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                                lineNumber: 195,\n                                                                                columnNumber: 31\n                                                                            }, _this);\n                                                                        })\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                        lineNumber: 193,\n                                                                        columnNumber: 27\n                                                                    }, _this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 184,\n                                                                    columnNumber: 25\n                                                                }, _this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 173,\n                                                            columnNumber: 23\n                                                        }, _this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                        lineNumber: 171,\n                                                        columnNumber: 21\n                                                    }, _this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 170,\n                                                    columnNumber: 19\n                                                }, _this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                            lineNumber: 91,\n                                            columnNumber: 17\n                                        }, _this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                        lineNumber: 90,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Disclosure.Panel, {\n                                        className: \"bg-custom-900 lg:hidden\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-1 px-2 pt-2 pb-3\",\n                                                children: navigation.map(function(item) {\n                                                    /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Disclosure.Button, {\n                                                        as: \"a\",\n                                                        href: item.href,\n                                                        className: classNames(item.current ? \"bg-black bg-opacity-25\" : \"hover:bg-custom-800\", \"block rounded-md py-2 px-3 text-base font-medium text-white\"),\n                                                        children: item.name\n                                                    }, item.name, false, {\n                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                        lineNumber: 220,\n                                                        columnNumber: 21\n                                                    }, _this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                lineNumber: 218,\n                                                columnNumber: 17\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border-t border-custom-800 pt-4 pb-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center px-4\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-shrink-0\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                    className: \"h-10 w-10 rounded-full\",\n                                                                    src: user.imageUrl,\n                                                                    alt: \"\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 238,\n                                                                    columnNumber: 23\n                                                                }, _this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                lineNumber: 237,\n                                                                columnNumber: 21\n                                                            }, _this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"ml-3\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-base font-medium text-white\",\n                                                                        children: user.name\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                        lineNumber: 245,\n                                                                        columnNumber: 23\n                                                                    }, _this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm font-medium text-custom-200\",\n                                                                        children: user.email\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                        lineNumber: 248,\n                                                                        columnNumber: 23\n                                                                    }, _this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                lineNumber: 244,\n                                                                columnNumber: 21\n                                                            }, _this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                type: \"button\",\n                                                                className: \"ml-auto flex-shrink-0 rounded-full p-1 text-custom-200 hover:bg-custom-800 hover:text-white focus:bg-custom-900 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-custom-900\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"sr-only\",\n                                                                        children: \"View notifications\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                        lineNumber: 256,\n                                                                        columnNumber: 23\n                                                                    }, _this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_3__.BellIcon, {\n                                                                        className: \"h-6 w-6\",\n                                                                        \"aria-hidden\": \"true\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                        lineNumber: 257,\n                                                                        columnNumber: 23\n                                                                    }, _this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                lineNumber: 252,\n                                                                columnNumber: 21\n                                                            }, _this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                        lineNumber: 236,\n                                                        columnNumber: 19\n                                                    }, _this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-3 px-2\",\n                                                        children: userNavigation.map(function(item) {\n                                                            /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.Disclosure.Button, {\n                                                                as: \"a\",\n                                                                href: item.href,\n                                                                className: \"block rounded-md py-2 px-3 text-base font-medium text-custom-200 hover:bg-custom-800 hover:text-white\",\n                                                                children: item.name\n                                                            }, item.name, false, {\n                                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                lineNumber: 262,\n                                                                columnNumber: 23\n                                                            }, _this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                        lineNumber: 260,\n                                                        columnNumber: 19\n                                                    }, _this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                lineNumber: 235,\n                                                columnNumber: 17\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                        lineNumber: 217,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                lineNumber: 84,\n                                columnNumber: 13\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                \"aria-hidden\": \"true\",\n                                className: classNames(open ? \"bottom-0\" : \"inset-y-0\", \"absolute inset-x-0 left-1/2 w-full -translate-x-1/2 transform overflow-hidden lg:inset-y-0\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-full w-1/2\",\n                                                style: {\n                                                    backgroundColor: \"#082247\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                lineNumber: 283,\n                                                columnNumber: 17\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-full w-1/2\",\n                                                style: {\n                                                    backgroundColor: \"#004481\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                lineNumber: 287,\n                                                columnNumber: 17\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                        lineNumber: 282,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative flex justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"flex-shrink-0\",\n                                            width: 1750,\n                                            height: 308,\n                                            viewBox: \"0 0 1750 308\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M284.161 308H1465.84L875.001 182.413 284.161 308z\",\n                                                    fill: \"#082247\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 300,\n                                                    columnNumber: 19\n                                                }, _this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M1465.84 308L16.816 0H1750v308h-284.16z\",\n                                                    fill: \"#004481\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 304,\n                                                    columnNumber: 19\n                                                }, _this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M1733.19 0L284.161 308H0V0h1733.19z\",\n                                                    fill: \"#082247\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 308,\n                                                    columnNumber: 19\n                                                }, _this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M875.001 182.413L1733.19 0H16.816l858.185 182.413z\",\n                                                    fill: \"#082247\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 312,\n                                                    columnNumber: 19\n                                                }, _this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                            lineNumber: 293,\n                                            columnNumber: 17\n                                        }, _this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                        lineNumber: 292,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                lineNumber: 275,\n                                columnNumber: 13\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                                className: \"relative py-8\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-3xl font-bold tracking-tight text-white flex\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                strokeWidth: 2,\n                                                stroke: \"currentColor\",\n                                                className: \"w-8 h-8 mr-2 mt-px\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    d: \"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 330,\n                                                    columnNumber: 21\n                                                }, _this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                lineNumber: 322,\n                                                columnNumber: 19\n                                            }, _this),\n                                            \"B1A23B\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                        lineNumber: 321,\n                                        columnNumber: 17\n                                    }, _this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                    lineNumber: 320,\n                                    columnNumber: 15\n                                }, _this)\n                            }, void 0, false, {\n                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                lineNumber: 319,\n                                columnNumber: 13\n                            }, _this)\n                        ]\n                    }, void 0, true);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                lineNumber: 78,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"relative -mt-32\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mx-auto max-w-screen-xl px-4 pb-6 sm:px-6 lg:px-8 lg:pb-16\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-hidden rounded-lg bg-white shadow\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"divide-y divide-gray-200 lg:grid lg:grid-cols-12 lg:divide-y-0 lg:divide-x\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                                    className: \"py-6 lg:col-span-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                                        className: \"space-y-1\",\n                                        children: subNavigation.map(function(item) {\n                                            /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                href: item.href,\n                                                className: classNames(item.name === nav ? \"bg-custom-500 border-custom-200 text-white hover:bg-custom-500\" : \"border-transparent text-gray-900 hover:bg-gray-50 hover:text-gray-900\", \"group border-l-4 px-3 py-2 flex items-center text-sm font-medium\"),\n                                                \"aria-current\": item.name === nav ? \"page\" : undefined,\n                                                onClick: function() {\n                                                    return setNav(item.name);\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(item.icon, {\n                                                        className: classNames(item.name === nav ? \"text-white\" : \"text-gray-400 group-hover:text-gray-500\", \"flex-shrink-0 -ml-1 mr-3 h-6 w-6\"),\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                        lineNumber: 363,\n                                                        columnNumber: 23\n                                                    }, _this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"truncate\",\n                                                        children: item.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                        lineNumber: 372,\n                                                        columnNumber: 23\n                                                    }, _this)\n                                                ]\n                                            }, item.name, true, {\n                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                lineNumber: 351,\n                                                columnNumber: 21\n                                            }, _this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                        lineNumber: 349,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                    lineNumber: 348,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"divide-y divide-gray-200 lg:col-span-9\",\n                                    children: [\n                                        nav === \"Identificaci\\xf3n\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"py-6 px-4 sm:p-6\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                            className: \"text-md font-medium leading-6 text-gray-900\",\n                                                            children: \"Titulaci\\xf3n e inscripci\\xf3n\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 383,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-3 grid grid-cols-3 gap-4\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Matriz\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 388,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 394,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 387,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Nro\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 400,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 406,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 399,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Fecha\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 412,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 418,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 411,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 386,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 382,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"py-6 px-4 sm:p-6\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                            className: \"text-md font-medium leading-6 text-gray-900\",\n                                                            children: \"Solicitante\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 427,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-3 grid grid-cols-3 gap-4\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Banco\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 432,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 438,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 431,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Oficina\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 444,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 450,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 443,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Funcionario\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 456,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 462,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 455,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 430,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 426,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"py-6 px-4 sm:p-6\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                            className: \"text-md font-medium leading-6 text-gray-900\",\n                                                            children: \"Cliente\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 471,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-3 grid grid-cols-3 gap-4\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Tipo documento\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 476,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 482,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 475,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Nro documento\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 488,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 494,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 487,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Nombres y apellidos\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 500,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 506,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 499,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 474,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 470,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"py-6 px-4 sm:p-6\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                            className: \"text-md font-medium leading-6 text-gray-900\",\n                                                            children: \"Propietario\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 515,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-3 grid grid-cols-3 gap-4\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Tipo documento\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 520,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 526,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 519,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Nro documento\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 532,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 538,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 531,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            htmlFor: \"first-name\",\n                                                                            className: \"block text-sm font-medium text-gray-700\",\n                                                                            children: \"Nombres y apellidos\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 544,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            type: \"text\",\n                                                                            className: \"mt-1 block w-full rounded-md border border-gray-300 py-1.5 px-3 shadow-sm focus:border-custom-500 focus:outline-none focus:ring-custom-500 sm:text-sm\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                            lineNumber: 550,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                                    lineNumber: 543,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                            lineNumber: 518,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                    lineNumber: 514,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true),\n                                        nav === \"Localizaci\\xf3n y entorno\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Map__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                lineNumber: 561,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-end py-4 px-4 sm:px-6 pt-6\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"submit\",\n                                                className: \"ml-5 inline-flex justify-center rounded-md border border-transparent bg-custom-700 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-custom-800 focus:outline-none focus:ring-2 focus:ring-custom-500 focus:ring-offset-2\",\n                                                children: \"Guardar\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                                lineNumber: 566,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                            lineNumber: 565,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                                    lineNumber: 378,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                            lineNumber: 347,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                        lineNumber: 346,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                    lineNumber: 345,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n                lineNumber: 344,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/josedrz/Documents/GitHub/bbva-reto/components/App/index.jsx\",\n        lineNumber: 77,\n        columnNumber: 5\n    }, this));\n};\n_s(AppView, \"y6vDaMVGDJFlQ6vGSx3ADdvDIyI=\");\n_c = AppView;\nvar _c;\n$RefreshReg$(_c, \"AppView\");\n\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NElBR3BLRixDQUFHOztvSkFDRHFELENBQUs7NEVBQ0pDLE9BQU8sRUFBQyxDQUFZOzRFQUNwQnBELFNBQVMsRUFBQyxDQUF5QztzRkFDcEQsQ0FFRDs7Ozs7O29KQUNDcUQsQ0FBSzs0RUFDSmpCLElBQUksRUFBQyxDQUFNOzRFQUNYcEMsU0FBUyxFQUFDLENBQXVKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3Q0FPNUtKLEdBQUcsS0FBSyxDQUF3QjtrSUFFNUJsQiw0Q0FBRzs7Ozs7O29IQUlQb0IsQ0FBRzs0Q0FBQ0UsU0FBUyxFQUFDLENBQXlDO2tJQUNyRG1DLENBQU07Z0RBQ0xDLElBQUksRUFBQyxDQUFRO2dEQUNicEMsU0FBUyxFQUFDLENBQXFPOzBEQUNoUCxDQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNsQixDQUFDO0dBM2Z1QkwsT0FBTztLQUFQQSxPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvQXBwL2luZGV4LmpzeD8yNzlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpc2Nsb3N1cmUsIE1lbnUsIFN3aXRjaCwgVHJhbnNpdGlvbiB9IGZyb20gXCJAaGVhZGxlc3N1aS9yZWFjdFwiO1xuaW1wb3J0IHtcbiAgQmFyczNJY29uLFxuICBCZWxsSWNvbixcbiAgQ29nSWNvbixcbiAgQ3JlZGl0Q2FyZEljb24sXG4gIEtleUljb24sXG4gIFNxdWFyZXNQbHVzSWNvbixcbiAgVXNlckNpcmNsZUljb24sXG4gIFhNYXJrSWNvbixcbiAgTWFwUGluSWNvbixcbiAgQnVpbGRpbmdPZmZpY2VJY29uLFxuICBEb2N1bWVudEFycm93VXBJY29uLFxuICBNYWduaWZ5aW5nR2xhc3NJY29uLFxuICBDbGlwYm9hcmREb2N1bWVudExpc3RJY29uLFxufSBmcm9tIFwiQGhlcm9pY29ucy9yZWFjdC8yNC9vdXRsaW5lXCI7XG5pbXBvcnQgeyBGcmFnbWVudCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBNYXAgZnJvbSBcIi4vTWFwXCI7XG5cbmNvbnN0IHVzZXIgPSB7XG4gIG5hbWU6IFwiRGViYmllIExld2lzXCIsXG4gIGhhbmRsZTogXCJkZWJsZXdpc1wiLFxuICBlbWFpbDogXCJkZWJiaWVsZXdpc0BleGFtcGxlLmNvbVwiLFxuICBpbWFnZVVybDpcbiAgICBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTE3MzY1ODMwNDYwLTk1NWNlM2NjZDI2Mz9peGxpYj1yYi0xLjIuMSZpeGlkPWV5SmhjSEJmYVdRaU9qRXlNRGQ5JmF1dG89Zm9ybWF0JmZpdD1mYWNlYXJlYSZmYWNlcGFkPTQmdz0zMjAmaD0zMjAmcT04MFwiLFxufTtcbmNvbnN0IG5hdmlnYXRpb24gPSBbXTtcblxuY29uc3QgdXNlck5hdmlnYXRpb24gPSBbXG4gIHsgbmFtZTogXCJZb3VyIFByb2ZpbGVcIiwgaHJlZjogXCIjXCIgfSxcbiAgeyBuYW1lOiBcIlNldHRpbmdzXCIsIGhyZWY6IFwiI1wiIH0sXG4gIHsgbmFtZTogXCJTaWduIG91dFwiLCBocmVmOiBcIiNcIiB9LFxuXTtcblxuY29uc3Qgc3ViTmF2aWdhdGlvbiA9IFtcbiAgeyBuYW1lOiBcIklkZW50aWZpY2FjacOzblwiLCBocmVmOiBcIiNcIiwgaWNvbjogVXNlckNpcmNsZUljb24sIGN1cnJlbnQ6IHRydWUgfSxcbiAge1xuICAgIG5hbWU6IFwiTG9jYWxpemFjacOzbiB5IGVudG9ybm9cIixcbiAgICBocmVmOiBcIiNcIixcbiAgICBpY29uOiBNYXBQaW5JY29uLFxuICAgIGN1cnJlbnQ6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJUaXBvbG9nw61hIHkgcG9zZXNpw7NuXCIsXG4gICAgaHJlZjogXCIjXCIsXG4gICAgaWNvbjogTWFnbmlmeWluZ0dsYXNzSWNvbixcbiAgICBjdXJyZW50OiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQ2FyYWN0ZXLDrXN0aWNhcyBkZWwgZWRpZmljaW9cIixcbiAgICBocmVmOiBcIiNcIixcbiAgICBpY29uOiBCdWlsZGluZ09mZmljZUljb24sXG4gICAgY3VycmVudDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkNhcmFjdGVyw61zdGljYXMgZGVsIGlubXVlYmxlXCIsXG4gICAgaHJlZjogXCIjXCIsXG4gICAgaWNvbjogQ2xpcGJvYXJkRG9jdW1lbnRMaXN0SWNvbixcbiAgICBjdXJyZW50OiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQXJjaGl2b3MgYSBjYXJnYXJcIixcbiAgICBocmVmOiBcIiNcIixcbiAgICBpY29uOiBEb2N1bWVudEFycm93VXBJY29uLFxuICAgIGN1cnJlbnQ6IGZhbHNlLFxuICB9LFxuXTtcblxuZnVuY3Rpb24gY2xhc3NOYW1lcyguLi5jbGFzc2VzKSB7XG4gIHJldHVybiBjbGFzc2VzLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwVmlldygpIHtcbiAgY29uc3QgW25hdiwgc2V0TmF2XSA9IHVzZVN0YXRlKFwiSWRlbnRpZmljYWNpw7NuXCIpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxEaXNjbG9zdXJlXG4gICAgICAgIGFzPVwiZGl2XCJcbiAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIGJnLWN1c3RvbS03MDAgcGItMzJcIlxuICAgICAgPlxuICAgICAgICB7KHsgb3BlbiB9KSA9PiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxuYXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFxuICAgICAgICAgICAgICAgIG9wZW4gPyBcImJnLWN1c3RvbS05MDBcIiA6IFwiYmctdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICBcInJlbGF0aXZlIHotMTAgYm9yZGVyLWIgYm9yZGVyLWN1c3RvbS01MDAgYm9yZGVyLW9wYWNpdHktMjUgbGc6Ym9yZGVyLW5vbmUgbGc6YmctdHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctN3hsIHB4LTIgc206cHgtNCBsZzpweC04XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IGgtMTYgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBsZzpib3JkZXItYiBsZzpib3JkZXItY3VzdG9tLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBweC0yIGxnOnB4LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCA2MDAgMTgwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGNsaXAtcGF0aD1cInVybCgjY2xpcDBfM183NDQwKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNNDMyLjIgMjQuNEwzODAuNiAxMjIuNkMzNzkuNSAxMjQuNyAzNzYuMyAxMjQuNyAzNzUuMiAxMjIuNkwzMjMuNiAyNC40QzMyMy4xIDIzLjQgMzIyLjEgMjIuOCAzMjEgMjIuOEgyOTZDMjk0LjMgMjIuOCAyOTMuMiAyNC42IDI5NCAyNi4xTDM3NS4zIDE3OC4zQzM3Ni40IDE4MC40IDM3OS40IDE4MC40IDM4MC42IDE3OC4zTDQ2MS45IDI2LjFDNDYyLjcgMjQuNiA0NjEuNiAyMi44IDQ1OS45IDIyLjhINDM0LjlDNDMzLjcgMjIuOCA0MzIuNyAyMy40IDQzMi4yIDI0LjRaXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwid2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNNDYxLjUgMTU1LjVMNTEzLjEgNTcuM0M1MTQuMiA1NS4yIDUxNy40IDU1LjIgNTE4LjUgNTcuM0w1NzAuMSAxNTUuNUM1NzAuNiAxNTYuNSA1NzEuNiAxNTcuMSA1NzIuNyAxNTcuMUg1OTcuN0M1OTkuNCAxNTcuMSA2MDAuNSAxNTUuMyA1OTkuNyAxNTMuOEw1MTguNCAxLjYwMDAyQzUxNy4zIC0wLjQ5OTk3NiA1MTQuMyAtMC40OTk5NzYgNTEzLjEgMS42MDAwMkw0MzEuOCAxNTMuOEM0MzEgMTU1LjMgNDMyLjEgMTU3LjEgNDMzLjggMTU3LjFINDU4LjhDNDU5LjkgMTU3IDQ2MSAxNTYuNCA0NjEuNSAxNTUuNVpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0xMDguOCA5NS4yQzExOS42IDg5LjggMTI2LjMgNzguMDk5OSAxMjYuMyA2My43OTk5QzEyNi4zIDM5LjI5OTkgMTA3LjIgMjIuNyA4MC4zIDIyLjdIM0MxLjMgMjIuNyAwIDI0IDAgMjUuN1YxNzYuOEMwIDE3OC41IDEuMyAxNzkuOCAzIDE3OS44SDc3QzExNCAxNzkuOCAxMzMuNSAxNjMuOSAxMzMuNSAxMzIuN0MxMzMuNSAxMDIuMyAxMDguOCA5NS4yIDEwOC44IDk1LjJaTTI5IDQ1LjVINzQuOUM5MS44IDQ1LjUgMTAwLjQgNTIuNjk5OSAxMDAuNCA2Ni4wOTk5QzEwMC40IDc5LjQ5OTkgOTEuOCA4Ni42OTk5IDc0LjkgODYuNjk5OUgyOUMyNy40IDg2LjY5OTkgMjYgODUuMzk5OSAyNiA4My42OTk5VjQ4LjVDMjYgNDYuOCAyNy4zIDQ1LjUgMjkgNDUuNVpNNzUuNSAxNTdIMjlDMjcuMyAxNTcgMjYgMTU1LjcgMjYgMTU0VjExMi4zQzI2IDExMC43IDI3LjMgMTA5LjMgMjkgMTA5LjNINzUuNUM5Ny43IDEwOS4zIDEwNy42IDExNS42IDEwNy42IDEzMy4xQzEwNy41IDE1MC44IDk3LjkgMTU3IDc1LjUgMTU3WlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIndoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTI2Ny41IDk1LjJDMjc4LjMgODkuOCAyODUgNzguMDk5OSAyODUgNjMuNzk5OUMyODUgMzkuMjk5OSAyNjUuOSAyMi43IDIzOSAyMi43SDE2MS42QzE1OS45IDIyLjcgMTU4LjYgMjQgMTU4LjYgMjUuN1YxNzYuOEMxNTguNiAxNzguNSAxNTkuOSAxNzkuOCAxNjEuNiAxNzkuOEgyMzUuNkMyNzIuNiAxNzkuOCAyOTIuMSAxNjMuOSAyOTIuMSAxMzIuN0MyOTIuMiAxMDIuMyAyNjcuNSA5NS4yIDI2Ny41IDk1LjJaTTE4Ny43IDQ1LjVIMjMzLjZDMjUwLjUgNDUuNSAyNTkuMSA1Mi42OTk5IDI1OS4xIDY2LjA5OTlDMjU5LjEgNzkuNDk5OSAyNTAuNSA4Ni42OTk5IDIzMy42IDg2LjY5OTlIMTg3LjdDMTg2IDg2LjY5OTkgMTg0LjcgODUuMzk5OSAxODQuNyA4My42OTk5VjQ4LjVDMTg0LjcgNDYuOCAxODYgNDUuNSAxODcuNyA0NS41Wk0yMzQuMSAxNTdIMTg3LjZDMTg2IDE1NyAxODQuNiAxNTUuNyAxODQuNiAxNTRWMTEyLjNDMTg0LjYgMTEwLjcgMTg1LjkgMTA5LjMgMTg3LjYgMTA5LjNIMjM0LjFDMjU2LjMgMTA5LjMgMjY2LjIgMTE1LjYgMjY2LjIgMTMzLjFDMjY2LjIgMTUwLjggMjU2LjUgMTU3IDIzNC4xIDE1N1pcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGVmcz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGNsaXBQYXRoIGlkPVwiY2xpcDBfM183NDQwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3Qgd2lkdGg9XCI2MDBcIiBoZWlnaHQ9XCIxNzkuOFwiIGZpbGw9XCJ3aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2xpcFBhdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+XG4gICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbiBsZzptbC02IGxnOmJsb2NrIGxnOnNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge25hdmlnYXRpb24ubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17aXRlbS5ocmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctYmxhY2sgYmctb3BhY2l0eS0yNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJob3ZlcjpiZy1jdXN0b20tODAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJvdW5kZWQtbWQgcHktMiBweC0zIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtMSBqdXN0aWZ5LWNlbnRlciBweC0yIGxnOm1sLTYgbGc6anVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGZvbnQtYm9sZCBjdXJzb3ItcG9pbnRlciBteC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgRXF1aXBvXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1ib2xkIGN1cnNvci1wb2ludGVyIG14LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICBBbGdvcml0bW9cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBsZzpoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgey8qIE1vYmlsZSBtZW51IGJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgPERpc2Nsb3N1cmUuQnV0dG9uIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLW1kIHAtMiB0ZXh0LWN1c3RvbS0yMDAgaG92ZXI6YmctY3VzdG9tLTgwMCBob3Zlcjp0ZXh0LXdoaXRlIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbnNldCBmb2N1czpyaW5nLXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPk9wZW4gbWFpbiBtZW51PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHtvcGVuID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFhNYXJrSWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayBoLTYgdy02IGZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJhcnMzSWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayBoLTYgdy02IGZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L0Rpc2Nsb3N1cmUuQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbiBsZzpibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIFByb2ZpbGUgZHJvcGRvd24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgPE1lbnUgYXM9XCJkaXZcIiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtbC00IGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51LkJ1dHRvbiBjbGFzc05hbWU9XCJmbGV4IHJvdW5kZWQtZnVsbCB0ZXh0LXNtIHRleHQtd2hpdGUgZm9jdXM6YmctY3VzdG9tLTkwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctd2hpdGUgZm9jdXM6cmluZy1vZmZzZXQtMiBmb2N1czpyaW5nLW9mZnNldC1jdXN0b20tOTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPk9wZW4gdXNlciBtZW51PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtOCB3LTggcm91bmRlZC1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17dXNlci5pbWFnZVVybH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9NZW51LkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRyYW5zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXM9e0ZyYWdtZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRlcj1cInRyYW5zaXRpb24gZWFzZS1vdXQgZHVyYXRpb24tMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZW50ZXJGcm9tPVwidHJhbnNmb3JtIG9wYWNpdHktMCBzY2FsZS05NVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVudGVyVG89XCJ0cmFuc2Zvcm0gb3BhY2l0eS0xMDAgc2NhbGUtMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmU9XCJ0cmFuc2l0aW9uIGVhc2UtaW4gZHVyYXRpb24tNzVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZUZyb209XCJ0cmFuc2Zvcm0gb3BhY2l0eS0xMDAgc2NhbGUtMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmVUbz1cInRyYW5zZm9ybSBvcGFjaXR5LTAgc2NhbGUtOTVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudS5JdGVtcyBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0wIHotMTAgbXQtMiB3LTQ4IG9yaWdpbi10b3AtcmlnaHQgcm91bmRlZC1tZCBiZy13aGl0ZSBweS0xIHNoYWRvdy1sZyByaW5nLTEgcmluZy1ibGFjayByaW5nLW9wYWNpdHktNSBmb2N1czpvdXRsaW5lLW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlck5hdmlnYXRpb24ubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudS5JdGVtIGtleT17aXRlbS5uYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyh7IGFjdGl2ZSB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e2l0ZW0uaHJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlID8gXCJiZy1ncmF5LTEwMFwiIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJibG9jayBweS0yIHB4LTQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01lbnUuSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9NZW51Lkl0ZW1zPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UcmFuc2l0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvTWVudT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPERpc2Nsb3N1cmUuUGFuZWwgY2xhc3NOYW1lPVwiYmctY3VzdG9tLTkwMCBsZzpoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMSBweC0yIHB0LTIgcGItM1wiPlxuICAgICAgICAgICAgICAgICAge25hdmlnYXRpb24ubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxEaXNjbG9zdXJlLkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIGFzPVwiYVwiXG4gICAgICAgICAgICAgICAgICAgICAgaHJlZj17aXRlbS5ocmVmfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctYmxhY2sgYmctb3BhY2l0eS0yNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJob3ZlcjpiZy1jdXN0b20tODAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJsb2NrIHJvdW5kZWQtbWQgcHktMiBweC0zIHRleHQtYmFzZSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9EaXNjbG9zdXJlLkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWN1c3RvbS04MDAgcHQtNCBwYi0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHB4LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0xMCB3LTEwIHJvdW5kZWQtZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3VzZXIuaW1hZ2VVcmx9XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWN1c3RvbS0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyLmVtYWlsfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gZmxleC1zaHJpbmstMCByb3VuZGVkLWZ1bGwgcC0xIHRleHQtY3VzdG9tLTIwMCBob3ZlcjpiZy1jdXN0b20tODAwIGhvdmVyOnRleHQtd2hpdGUgZm9jdXM6YmctY3VzdG9tLTkwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctd2hpdGUgZm9jdXM6cmluZy1vZmZzZXQtMiBmb2N1czpyaW5nLW9mZnNldC1jdXN0b20tOTAwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5WaWV3IG5vdGlmaWNhdGlvbnM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPEJlbGxJY29uIGNsYXNzTmFtZT1cImgtNiB3LTZcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAge3VzZXJOYXZpZ2F0aW9uLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxEaXNjbG9zdXJlLkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcz1cImFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17aXRlbS5ocmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgcm91bmRlZC1tZCBweS0yIHB4LTMgdGV4dC1iYXNlIGZvbnQtbWVkaXVtIHRleHQtY3VzdG9tLTIwMCBob3ZlcjpiZy1jdXN0b20tODAwIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgPC9EaXNjbG9zdXJlLkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9EaXNjbG9zdXJlLlBhbmVsPlxuICAgICAgICAgICAgPC9uYXY+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgICBvcGVuID8gXCJib3R0b20tMFwiIDogXCJpbnNldC15LTBcIixcbiAgICAgICAgICAgICAgICBcImFic29sdXRlIGluc2V0LXgtMCBsZWZ0LTEvMiB3LWZ1bGwgLXRyYW5zbGF0ZS14LTEvMiB0cmFuc2Zvcm0gb3ZlcmZsb3ctaGlkZGVuIGxnOmluc2V0LXktMFwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4XCI+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC1mdWxsIHctMS8yXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogXCIjMDgyMjQ3XCIgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCB3LTEvMlwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwNDQ4MVwiIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICAgICAgd2lkdGg9ezE3NTB9XG4gICAgICAgICAgICAgICAgICBoZWlnaHQ9ezMwOH1cbiAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTc1MCAzMDhcIlxuICAgICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0yODQuMTYxIDMwOEgxNDY1Ljg0TDg3NS4wMDEgMTgyLjQxMyAyODQuMTYxIDMwOHpcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzA4MjI0N1wiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0xNDY1Ljg0IDMwOEwxNi44MTYgMEgxNzUwdjMwOGgtMjg0LjE2elwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjMDA0NDgxXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICBkPVwiTTE3MzMuMTkgMEwyODQuMTYxIDMwOEgwVjBoMTczMy4xOXpcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzA4MjI0N1wiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk04NzUuMDAxIDE4Mi40MTNMMTczMy4xOSAwSDE2LjgxNmw4NTguMTg1IDE4Mi40MTN6XCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIiMwODIyNDdcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwicmVsYXRpdmUgcHktOFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctN3hsIHB4LTQgc206cHgtNiBsZzpweC04XCI+XG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0cmFja2luZy10aWdodCB0ZXh0LXdoaXRlIGZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IG1yLTIgbXQtcHhcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgZD1cIk0xOS41IDEyaC0xNW0wIDBsNi43NSA2Ljc1TTQuNSAxMmw2Ljc1LTYuNzVcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICBCMUEyM0JcbiAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvaGVhZGVyPlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9EaXNjbG9zdXJlPlxuXG4gICAgICA8bWFpbiBjbGFzc05hbWU9XCJyZWxhdGl2ZSAtbXQtMzJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG1heC13LXNjcmVlbi14bCBweC00IHBiLTYgc206cHgtNiBsZzpweC04IGxnOnBiLTE2XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1sZyBiZy13aGl0ZSBzaGFkb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGl2aWRlLXkgZGl2aWRlLWdyYXktMjAwIGxnOmdyaWQgbGc6Z3JpZC1jb2xzLTEyIGxnOmRpdmlkZS15LTAgbGc6ZGl2aWRlLXhcIj5cbiAgICAgICAgICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cInB5LTYgbGc6Y29sLXNwYW4tM1wiPlxuICAgICAgICAgICAgICAgIDxuYXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICB7c3ViTmF2aWdhdGlvbi5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICBocmVmPXtpdGVtLmhyZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lID09PSBuYXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLWN1c3RvbS01MDAgYm9yZGVyLWN1c3RvbS0yMDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1jdXN0b20tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJvcmRlci10cmFuc3BhcmVudCB0ZXh0LWdyYXktOTAwIGhvdmVyOmJnLWdyYXktNTAgaG92ZXI6dGV4dC1ncmF5LTkwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJncm91cCBib3JkZXItbC00IHB4LTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtY3VycmVudD17aXRlbS5uYW1lID09PSBuYXYgPyBcInBhZ2VcIiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXROYXYoaXRlbS5uYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxpdGVtLmljb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lID09PSBuYXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwidGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcInRleHQtZ3JheS00MDAgZ3JvdXAtaG92ZXI6dGV4dC1ncmF5LTUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImZsZXgtc2hyaW5rLTAgLW1sLTEgbXItMyBoLTYgdy02XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJ1bmNhdGVcIj57aXRlbS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9uYXY+XG4gICAgICAgICAgICAgIDwvYXNpZGU+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZpZGUteSBkaXZpZGUtZ3JheS0yMDAgbGc6Y29sLXNwYW4tOVwiPlxuICAgICAgICAgICAgICAgIHtuYXYgPT09IFwiSWRlbnRpZmljYWNpw7NuXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgey8qIFMxICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTYgcHgtNCBzbTpwLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1tZCBmb250LW1lZGl1bSBsZWFkaW5nLTYgdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgVGl0dWxhY2nDs24gZSBpbnNjcmlwY2nDs25cbiAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBncmlkIGdyaWQtY29scy0zIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwiZmlyc3QtbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdHJpelxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBibG9jayB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB5LTEuNSBweC0zIHNoYWRvdy1zbSBmb2N1czpib3JkZXItY3VzdG9tLTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy1jdXN0b20tNTAwIHNtOnRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwiZmlyc3QtbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5yb1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBibG9jayB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB5LTEuNSBweC0zIHNoYWRvdy1zbSBmb2N1czpib3JkZXItY3VzdG9tLTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy1jdXN0b20tNTAwIHNtOnRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwiZmlyc3QtbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZlY2hhXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIGJsb2NrIHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHktMS41IHB4LTMgc2hhZG93LXNtIGZvY3VzOmJvcmRlci1jdXN0b20tNTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLWN1c3RvbS01MDAgc206dGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBTMiAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS02IHB4LTQgc206cC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbWQgZm9udC1tZWRpdW0gbGVhZGluZy02IHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNvbGljaXRhbnRlXG4gICAgICAgICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZ3JpZCBncmlkLWNvbHMtMyBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cImZpcnN0LW5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYW5jb1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBibG9jayB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB5LTEuNSBweC0zIHNoYWRvdy1zbSBmb2N1czpib3JkZXItY3VzdG9tLTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy1jdXN0b20tNTAwIHNtOnRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwiZmlyc3QtbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9maWNpbmFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgYmxvY2sgdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweS0xLjUgcHgtMyBzaGFkb3ctc20gZm9jdXM6Ym9yZGVyLWN1c3RvbS01MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctY3VzdG9tLTUwMCBzbTp0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cImZpcnN0LW5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdW5jaW9uYXJpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBibG9jayB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB5LTEuNSBweC0zIHNoYWRvdy1zbSBmb2N1czpib3JkZXItY3VzdG9tLTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy1jdXN0b20tNTAwIHNtOnRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7LyogUzMgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktNiBweC00IHNtOnAtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LW1kIGZvbnQtbWVkaXVtIGxlYWRpbmctNiB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBDbGllbnRlXG4gICAgICAgICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZ3JpZCBncmlkLWNvbHMtMyBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cImZpcnN0LW5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaXBvIGRvY3VtZW50b1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBibG9jayB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB5LTEuNSBweC0zIHNoYWRvdy1zbSBmb2N1czpib3JkZXItY3VzdG9tLTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy1jdXN0b20tNTAwIHNtOnRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwiZmlyc3QtbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5ybyBkb2N1bWVudG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgYmxvY2sgdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweS0xLjUgcHgtMyBzaGFkb3ctc20gZm9jdXM6Ym9yZGVyLWN1c3RvbS01MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctY3VzdG9tLTUwMCBzbTp0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cImZpcnN0LW5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb21icmVzIHkgYXBlbGxpZG9zXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIGJsb2NrIHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHktMS41IHB4LTMgc2hhZG93LXNtIGZvY3VzOmJvcmRlci1jdXN0b20tNTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLWN1c3RvbS01MDAgc206dGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBTNCAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS02IHB4LTQgc206cC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbWQgZm9udC1tZWRpdW0gbGVhZGluZy02IHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BpZXRhcmlvXG4gICAgICAgICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZ3JpZCBncmlkLWNvbHMtMyBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cImZpcnN0LW5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaXBvIGRvY3VtZW50b1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBibG9jayB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB5LTEuNSBweC0zIHNoYWRvdy1zbSBmb2N1czpib3JkZXItY3VzdG9tLTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy1jdXN0b20tNTAwIHNtOnRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwiZmlyc3QtbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5ybyBkb2N1bWVudG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgYmxvY2sgdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweS0xLjUgcHgtMyBzaGFkb3ctc20gZm9jdXM6Ym9yZGVyLWN1c3RvbS01MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctY3VzdG9tLTUwMCBzbTp0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cImZpcnN0LW5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb21icmVzIHkgYXBlbGxpZG9zXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIGJsb2NrIHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHktMS41IHB4LTMgc2hhZG93LXNtIGZvY3VzOmJvcmRlci1jdXN0b20tNTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLWN1c3RvbS01MDAgc206dGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtuYXYgPT09IFwiTG9jYWxpemFjacOzbiB5IGVudG9ybm9cIiAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8TWFwLyA+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHsvKiBCdXR0b25zICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBweS00IHB4LTQgc206cHgtNiBwdC02XCI+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC01IGlubGluZS1mbGV4IGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBiZy1jdXN0b20tNzAwIHB5LTIgcHgtNCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgc2hhZG93LXNtIGhvdmVyOmJnLWN1c3RvbS04MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWN1c3RvbS01MDAgZm9jdXM6cmluZy1vZmZzZXQtMlwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEd1YXJkYXJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbWFpbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJEaXNjbG9zdXJlIiwiTWVudSIsIlN3aXRjaCIsIlRyYW5zaXRpb24iLCJCYXJzM0ljb24iLCJCZWxsSWNvbiIsIkNvZ0ljb24iLCJDcmVkaXRDYXJkSWNvbiIsIktleUljb24iLCJTcXVhcmVzUGx1c0ljb24iLCJVc2VyQ2lyY2xlSWNvbiIsIlhNYXJrSWNvbiIsIk1hcFBpbkljb24iLCJCdWlsZGluZ09mZmljZUljb24iLCJEb2N1bWVudEFycm93VXBJY29uIiwiTWFnbmlmeWluZ0dsYXNzSWNvbiIsIkNsaXBib2FyZERvY3VtZW50TGlzdEljb24iLCJGcmFnbWVudCIsInVzZVN0YXRlIiwiTWFwIiwidXNlciIsIm5hbWUiLCJoYW5kbGUiLCJlbWFpbCIsImltYWdlVXJsIiwibmF2aWdhdGlvbiIsInVzZXJOYXZpZ2F0aW9uIiwiaHJlZiIsInN1Yk5hdmlnYXRpb24iLCJpY29uIiwiY3VycmVudCIsImNsYXNzTmFtZXMiLCJjbGFzc2VzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJBcHBWaWV3IiwibmF2Iiwic2V0TmF2IiwiZGl2IiwiYXMiLCJjbGFzc05hbWUiLCJvcGVuIiwic3ZnIiwid2lkdGgiLCJoZWlnaHQiLCJ2aWV3Qm94IiwiZmlsbCIsInhtbG5zIiwiZyIsImNsaXAtcGF0aCIsInBhdGgiLCJkIiwiZGVmcyIsImNsaXBQYXRoIiwiaWQiLCJyZWN0IiwibWFwIiwiaXRlbSIsImEiLCJCdXR0b24iLCJzcGFuIiwiYXJpYS1oaWRkZW4iLCJpbWciLCJzcmMiLCJhbHQiLCJlbnRlciIsImVudGVyRnJvbSIsImVudGVyVG8iLCJsZWF2ZSIsImxlYXZlRnJvbSIsImxlYXZlVG8iLCJJdGVtcyIsIkl0ZW0iLCJhY3RpdmUiLCJQYW5lbCIsImJ1dHRvbiIsInR5cGUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImhlYWRlciIsImgxIiwic3Ryb2tlV2lkdGgiLCJzdHJva2UiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJtYWluIiwiYXNpZGUiLCJhcmlhLWN1cnJlbnQiLCJ1bmRlZmluZWQiLCJvbkNsaWNrIiwiaDIiLCJsYWJlbCIsImh0bWxGb3IiLCJpbnB1dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/App/index.jsx\n");

/***/ }),

/***/ "./node_modules/next/dist/compiled/process/browser.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/compiled/process/browser.js ***!
  \************************************************************/
/***/ (function(module) {

eval("var __dirname = \"/\";\n(function(){var e={162:function(e){var t=e.exports={};var r;var n;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){r=setTimeout}else{r=defaultSetTimout}}catch(e){r=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){n=clearTimeout}else{n=defaultClearTimeout}}catch(e){n=defaultClearTimeout}})();function runTimeout(e){if(r===setTimeout){return setTimeout(e,0)}if((r===defaultSetTimout||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout){return clearTimeout(e)}if((n===defaultClearTimeout||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var i=[];var o=false;var u;var a=-1;function cleanUpNextTick(){if(!o||!u){return}o=false;if(u.length){i=u.concat(i)}else{a=-1}if(i.length){drainQueue()}}function drainQueue(){if(o){return}var e=runTimeout(cleanUpNextTick);o=true;var t=i.length;while(t){u=i;i=[];while(++a<t){if(u){u[a].run()}}a=-1;t=i.length}u=null;o=false;runClearTimeout(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new Item(e,t));if(i.length===1&&!o){runTimeout(drainQueue)}};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title=\"browser\";t.browser=true;t.env={};t.argv=[];t.version=\"\";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error(\"process.binding is not supported\")};t.cwd=function(){return\"/\"};t.chdir=function(e){throw new Error(\"process.chdir is not supported\")};t.umask=function(){return 0}}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r](i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r=__nccwpck_require__(162);module.exports=r})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3Byb2Nlc3MvYnJvd3Nlci5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsWUFBWSxPQUFPLGdCQUFnQixtQkFBbUIsTUFBTSxNQUFNLDRCQUE0QixtREFBbUQsK0JBQStCLHFEQUFxRCxZQUFZLElBQUksbUNBQW1DLGFBQWEsS0FBSyxvQkFBb0IsU0FBUyxtQkFBbUIsSUFBSSxxQ0FBcUMsZUFBZSxLQUFLLHVCQUF1QixTQUFTLHVCQUF1QixJQUFJLHVCQUF1QixtQkFBbUIsdUJBQXVCLDJDQUEyQyxhQUFhLHVCQUF1QixJQUFJLGNBQWMsU0FBUyxJQUFJLHdCQUF3QixTQUFTLDBCQUEwQiw0QkFBNEIscUJBQXFCLHVCQUF1QixnREFBZ0QsZUFBZSx1QkFBdUIsSUFBSSxZQUFZLFNBQVMsSUFBSSxzQkFBc0IsU0FBUyx3QkFBd0IsU0FBUyxZQUFZLE1BQU0sU0FBUywyQkFBMkIsV0FBVyxPQUFPLFFBQVEsYUFBYSxjQUFjLEtBQUssS0FBSyxhQUFhLGNBQWMsc0JBQXNCLE1BQU0sT0FBTyxrQ0FBa0MsT0FBTyxlQUFlLFNBQVMsSUFBSSxLQUFLLGFBQWEsTUFBTSxZQUFZLEtBQUssV0FBVyxPQUFPLFFBQVEsbUJBQW1CLHVCQUF1QixvQ0FBb0MsdUJBQXVCLFlBQVksbUJBQW1CLEtBQUsscUJBQXFCLHNCQUFzQixxQkFBcUIseUJBQXlCLG1CQUFtQixXQUFXLGFBQWEsOEJBQThCLGlDQUFpQyxrQkFBa0IsZUFBZSxTQUFTLFVBQVUsYUFBYSxjQUFjLGlCQUFpQixVQUFVLG1CQUFtQixZQUFZLFdBQVcsc0JBQXNCLDBCQUEwQixZQUFZLHVCQUF1QiwyQkFBMkIsd0JBQXdCLFVBQVUsc0JBQXNCLHFEQUFxRCxpQkFBaUIsV0FBVyxvQkFBb0IsbURBQW1ELG1CQUFtQixZQUFZLFNBQVMsZ0NBQWdDLFdBQVcsa0JBQWtCLGlCQUFpQixZQUFZLFlBQVksV0FBVyxJQUFJLHNDQUFzQyxRQUFRLFFBQVEsaUJBQWlCLGlCQUFpQixtRUFBbUUsU0FBUyxLQUFLLCtCQUErQixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9wcm9jZXNzL2Jyb3dzZXIuanM/MWIxZCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXt2YXIgZT17MTYyOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZXhwb3J0cz17fTt2YXIgcjt2YXIgbjtmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfShmdW5jdGlvbigpe3RyeXtpZih0eXBlb2Ygc2V0VGltZW91dD09PVwiZnVuY3Rpb25cIil7cj1zZXRUaW1lb3V0fWVsc2V7cj1kZWZhdWx0U2V0VGltb3V0fX1jYXRjaChlKXtyPWRlZmF1bHRTZXRUaW1vdXR9dHJ5e2lmKHR5cGVvZiBjbGVhclRpbWVvdXQ9PT1cImZ1bmN0aW9uXCIpe249Y2xlYXJUaW1lb3V0fWVsc2V7bj1kZWZhdWx0Q2xlYXJUaW1lb3V0fX1jYXRjaChlKXtuPWRlZmF1bHRDbGVhclRpbWVvdXR9fSkoKTtmdW5jdGlvbiBydW5UaW1lb3V0KGUpe2lmKHI9PT1zZXRUaW1lb3V0KXtyZXR1cm4gc2V0VGltZW91dChlLDApfWlmKChyPT09ZGVmYXVsdFNldFRpbW91dHx8IXIpJiZzZXRUaW1lb3V0KXtyPXNldFRpbWVvdXQ7cmV0dXJuIHNldFRpbWVvdXQoZSwwKX10cnl7cmV0dXJuIHIoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUsMCl9fX1mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQoZSl7aWYobj09PWNsZWFyVGltZW91dCl7cmV0dXJuIGNsZWFyVGltZW91dChlKX1pZigobj09PWRlZmF1bHRDbGVhclRpbWVvdXR8fCFuKSYmY2xlYXJUaW1lb3V0KXtuPWNsZWFyVGltZW91dDtyZXR1cm4gY2xlYXJUaW1lb3V0KGUpfXRyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlKX19fXZhciBpPVtdO3ZhciBvPWZhbHNlO3ZhciB1O3ZhciBhPS0xO2Z1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpe2lmKCFvfHwhdSl7cmV0dXJufW89ZmFsc2U7aWYodS5sZW5ndGgpe2k9dS5jb25jYXQoaSl9ZWxzZXthPS0xfWlmKGkubGVuZ3RoKXtkcmFpblF1ZXVlKCl9fWZ1bmN0aW9uIGRyYWluUXVldWUoKXtpZihvKXtyZXR1cm59dmFyIGU9cnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO289dHJ1ZTt2YXIgdD1pLmxlbmd0aDt3aGlsZSh0KXt1PWk7aT1bXTt3aGlsZSgrK2E8dCl7aWYodSl7dVthXS5ydW4oKX19YT0tMTt0PWkubGVuZ3RofXU9bnVsbDtvPWZhbHNlO3J1bkNsZWFyVGltZW91dChlKX10Lm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dFtyLTFdPWFyZ3VtZW50c1tyXX19aS5wdXNoKG5ldyBJdGVtKGUsdCkpO2lmKGkubGVuZ3RoPT09MSYmIW8pe3J1blRpbWVvdXQoZHJhaW5RdWV1ZSl9fTtmdW5jdGlvbiBJdGVtKGUsdCl7dGhpcy5mdW49ZTt0aGlzLmFycmF5PXR9SXRlbS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX07dC50aXRsZT1cImJyb3dzZXJcIjt0LmJyb3dzZXI9dHJ1ZTt0LmVudj17fTt0LmFyZ3Y9W107dC52ZXJzaW9uPVwiXCI7dC52ZXJzaW9ucz17fTtmdW5jdGlvbiBub29wKCl7fXQub249bm9vcDt0LmFkZExpc3RlbmVyPW5vb3A7dC5vbmNlPW5vb3A7dC5vZmY9bm9vcDt0LnJlbW92ZUxpc3RlbmVyPW5vb3A7dC5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcDt0LmVtaXQ9bm9vcDt0LnByZXBlbmRMaXN0ZW5lcj1ub29wO3QucHJlcGVuZE9uY2VMaXN0ZW5lcj1ub29wO3QubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfTt0LmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9O3QuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9O3QuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfTt0LnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fX07dmFyIHQ9e307ZnVuY3Rpb24gX19uY2N3cGNrX3JlcXVpcmVfXyhyKXt2YXIgbj10W3JdO2lmKG4hPT11bmRlZmluZWQpe3JldHVybiBuLmV4cG9ydHN9dmFyIGk9dFtyXT17ZXhwb3J0czp7fX07dmFyIG89dHJ1ZTt0cnl7ZVtyXShpLGkuZXhwb3J0cyxfX25jY3dwY2tfcmVxdWlyZV9fKTtvPWZhbHNlfWZpbmFsbHl7aWYobylkZWxldGUgdFtyXX1yZXR1cm4gaS5leHBvcnRzfWlmKHR5cGVvZiBfX25jY3dwY2tfcmVxdWlyZV9fIT09XCJ1bmRlZmluZWRcIilfX25jY3dwY2tfcmVxdWlyZV9fLmFiPV9fZGlybmFtZStcIi9cIjt2YXIgcj1fX25jY3dwY2tfcmVxdWlyZV9fKDE2Mik7bW9kdWxlLmV4cG9ydHM9cn0pKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/process/browser.js\n");

/***/ }),

/***/ "./node_modules/prop-types/checkPropTypes.js":
/*!***************************************************!*\
  !*** ./node_modules/prop-types/checkPropTypes.js ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar printWarning = function() {};\n\nif (true) {\n  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"./node_modules/prop-types/lib/ReactPropTypesSecret.js\");\n  var loggedTypeFailures = {};\n  var has = __webpack_require__(/*! ./lib/has */ \"./node_modules/prop-types/lib/has.js\");\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) { /**/ }\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (true) {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' +\n              'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (true) {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9jaGVja1Byb3BUeXBlcy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWI7O0FBRUEsSUFBSSxJQUFxQztBQUN6Qyw2QkFBNkIsbUJBQU8sQ0FBQyx5RkFBNEI7QUFDakU7QUFDQSxZQUFZLG1CQUFPLENBQUMsdURBQVc7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxZQUFZO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLE1BQU0sSUFBcUM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RztBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQztBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMuanM/MjYyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG4gIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbiAgdmFyIGhhcyA9IHJlcXVpcmUoJy4vbGliL2hhcycpO1xuXG4gIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7IC8qKi8gfVxuICB9O1xufVxuXG4vKipcbiAqIEFzc2VydCB0aGF0IHRoZSB2YWx1ZXMgbWF0Y2ggd2l0aCB0aGUgdHlwZSBzcGVjcy5cbiAqIEVycm9yIG1lc3NhZ2VzIGFyZSBtZW1vcml6ZWQgYW5kIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB0eXBlU3BlY3MgTWFwIG9mIG5hbWUgdG8gYSBSZWFjdFByb3BUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gdmFsdWVzIFJ1bnRpbWUgdmFsdWVzIHRoYXQgbmVlZCB0byBiZSB0eXBlLWNoZWNrZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBlLmcuIFwicHJvcFwiLCBcImNvbnRleHRcIiwgXCJjaGlsZCBjb250ZXh0XCJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKiBAcGFyYW0gez9GdW5jdGlvbn0gZ2V0U3RhY2sgUmV0dXJucyB0aGUgY29tcG9uZW50IHN0YWNrLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBnZXRTdGFjaykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcbiAgICAgIGlmIChoYXModHlwZVNwZWNzLCB0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuICAgICAgICAgIGlmICh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSBFcnJvcihcbiAgICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiAnICsgbG9jYXRpb24gKyAnIHR5cGUgYCcgKyB0eXBlU3BlY05hbWUgKyAnYCBpcyBpbnZhbGlkOyAnICtcbiAgICAgICAgICAgICAgJ2l0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAnICsgdHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICsgJ2AuJyArXG4gICAgICAgICAgICAgICdUaGlzIG9mdGVuIGhhcHBlbnMgYmVjYXVzZSBvZiB0eXBvcyBzdWNoIGFzIGBQcm9wVHlwZXMuZnVuY3Rpb25gIGluc3RlYWQgb2YgYFByb3BUeXBlcy5mdW5jYC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVycm9yID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgJiYgIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICcgK1xuICAgICAgICAgICAgbG9jYXRpb24gKyAnIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICtcbiAgICAgICAgICAgICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAnICsgdHlwZW9mIGVycm9yICsgJy4gJyArXG4gICAgICAgICAgICAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArXG4gICAgICAgICAgICAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICtcbiAgICAgICAgICAgICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblxuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdGYWlsZWQgJyArIGxvY2F0aW9uICsgJyB0eXBlOiAnICsgZXJyb3IubWVzc2FnZSArIChzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVzZXRzIHdhcm5pbmcgY2FjaGUgd2hlbiB0ZXN0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlID0gZnVuY3Rpb24oKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/prop-types/checkPropTypes.js\n");

/***/ }),

/***/ "./node_modules/prop-types/factoryWithTypeCheckers.js":
/*!************************************************************!*\
  !*** ./node_modules/prop-types/factoryWithTypeCheckers.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactIs = __webpack_require__(/*! react-is */ \"./node_modules/react-is/index.js\");\nvar assign = __webpack_require__(/*! object-assign */ \"./node_modules/next/dist/build/polyfills/object-assign.js\");\n\nvar ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"./node_modules/prop-types/lib/ReactPropTypesSecret.js\");\nvar has = __webpack_require__(/*! ./lib/has */ \"./node_modules/prop-types/lib/has.js\");\nvar checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ \"./node_modules/prop-types/checkPropTypes.js\");\n\nvar printWarning = function() {};\n\nif (true) {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bigint: createPrimitiveTypeChecker('bigint'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message, data) {\n    this.message = message;\n    this.data = data && typeof data === 'object' ? data: {};\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (true) {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if ( true && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError(\n          'Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'),\n          {expectedType: expectedType}\n        );\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (true) {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var expectedTypes = [];\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        var checkerResult = checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret);\n        if (checkerResult == null) {\n          return null;\n        }\n        if (checkerResult.data && has(checkerResult.data, 'expectedType')) {\n          expectedTypes.push(checkerResult.data.expectedType);\n        }\n      }\n      var expectedTypesMessage = (expectedTypes.length > 0) ? ', expected one of type [' + expectedTypes.join(', ') + ']': '';\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`' + expectedTypesMessage + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function invalidValidatorError(componentName, location, propFullName, key, type) {\n    return new PropTypeError(\n      (componentName || 'React class') + ': ' + location + ' type `' + propFullName + '.' + key + '` is invalid; ' +\n      'it must be a function, usually from the `prop-types` package, but received `' + type + '`.'\n    );\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (has(shapeTypes, key) && typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsY0FBYyxtQkFBTyxDQUFDLGtEQUFVO0FBQ2hDLGFBQWEsbUJBQU8sQ0FBQyxnRkFBZTs7QUFFcEMsMkJBQTJCLG1CQUFPLENBQUMseUZBQTRCO0FBQy9ELFVBQVUsbUJBQU8sQ0FBQyx1REFBVztBQUM3QixxQkFBcUIsbUJBQU8sQ0FBQyxxRUFBa0I7O0FBRS9DOztBQUVBLElBQUksSUFBcUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsOEJBQThCO0FBQzlCLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixLQUFLO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsNEJBQTRCO0FBQzVCLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLElBQXFDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUyxLQUFxQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsSUFBcUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0IsMkJBQTJCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxLQUFxQyw0RkFBNEYsQ0FBTTtBQUM3STtBQUNBOztBQUVBLG9CQUFvQixnQ0FBZ0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0IsZ0NBQWdDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpSEFBaUg7QUFDakg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzP2I3NmIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcbnZhciBhc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9saWIvaGFzJyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCcuL2NoZWNrUHJvcFR5cGVzJyk7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIHRleHQ7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpIHtcbiAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuICB2YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG4gIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJzsgLy8gQmVmb3JlIFN5bWJvbCBzcGVjLlxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG4gICAqXG4gICAqIEJlIHN1cmUgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBpdGVyYWJsZSBhcyBjb250ZXh0OlxuICAgKlxuICAgKiAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG15SXRlcmFibGUpO1xuICAgKiAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuICAgKiAgICAgICAuLi5cbiAgICogICAgIH1cbiAgICpcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBtYXliZUl0ZXJhYmxlXG4gICAqIEByZXR1cm4gez9mdW5jdGlvbn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gbWF5YmVJdGVyYWJsZSAmJiAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JGbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcbiAgICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuICAgKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuICAgKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuICAgKlxuICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG4gICAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcbiAgICpcbiAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG4gICAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcbiAgICogICAgIH0sXG4gICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG4gICAqXG4gICAqICAgdHlwZSA6PSBhcnJheXxib29sfGZ1bmN8b2JqZWN0fG51bWJlcnxzdHJpbmd8b25lT2YoWy4uLl0pfGluc3RhbmNlT2YoLi4uKVxuICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cbiAgICpcbiAgICogRWFjaCBhbmQgZXZlcnkgZGVjbGFyYXRpb24gcHJvZHVjZXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB2YXIgTXlMaW5rID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG4gICAqICAgICAgaHJlZjogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG4gICAqICAgICAgICAgICAgIShwcm9wVmFsdWUgaW5zdGFuY2VvZiBVUkkpKSB7XG4gICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcbiAgICogICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAqICAgICAgICAgICk7XG4gICAqICAgICAgICB9XG4gICAqICAgICAgfVxuICAgKiAgICB9LFxuICAgKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cbiAgICogIH0pO1xuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cbiAgdmFyIEFOT05ZTU9VUyA9ICc8PGFub255bW91cz4+JztcblxuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcbiAgICBiaWdpbnQ6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdiaWdpbnQnKSxcbiAgICBib29sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYm9vbGVhbicpLFxuICAgIGZ1bmM6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuICAgIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuICAgIG9iamVjdDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ29iamVjdCcpLFxuICAgIHN0cmluZzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuICAgIHN5bWJvbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N5bWJvbCcpLFxuXG4gICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcbiAgICBlbGVtZW50VHlwZTogY3JlYXRlRWxlbWVudFR5cGVUeXBlQ2hlY2tlcigpLFxuICAgIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG4gICAgbm9kZTogY3JlYXRlTm9kZUNoZWNrZXIoKSxcbiAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcbiAgICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuICAgIG9uZU9mVHlwZTogY3JlYXRlVW5pb25UeXBlQ2hlY2tlcixcbiAgICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcixcbiAgICBleGFjdDogY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcixcbiAgfTtcblxuICAvKipcbiAgICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAgICovXG4gIC8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlKi9cbiAgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgLy8gU3RlcHMgMS01LCA3LTEwXG4gICAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuICAgICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxuICAgICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgICB9XG4gIH1cbiAgLyplc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSovXG5cbiAgLyoqXG4gICAqIFdlIHVzZSBhbiBFcnJvci1saWtlIG9iamVjdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBhcyBwZW9wbGUgbWF5IGNhbGxcbiAgICogUHJvcFR5cGVzIGRpcmVjdGx5IGFuZCBpbnNwZWN0IHRoZWlyIG91dHB1dC4gSG93ZXZlciwgd2UgZG9uJ3QgdXNlIHJlYWxcbiAgICogRXJyb3JzIGFueW1vcmUuIFdlIGRvbid0IGluc3BlY3QgdGhlaXIgc3RhY2sgYW55d2F5LCBhbmQgY3JlYXRpbmcgdGhlbVxuICAgKiBpcyBwcm9oaWJpdGl2ZWx5IGV4cGVuc2l2ZSBpZiB0aGV5IGFyZSBjcmVhdGVkIHRvbyBvZnRlbiwgc3VjaCBhcyB3aGF0XG4gICAqIGhhcHBlbnMgaW4gb25lT2ZUeXBlKCkgZm9yIGFueSB0eXBlIGJlZm9yZSB0aGUgb25lIHRoYXQgbWF0Y2hlZC5cbiAgICovXG4gIGZ1bmN0aW9uIFByb3BUeXBlRXJyb3IobWVzc2FnZSwgZGF0YSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5kYXRhID0gZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgPyBkYXRhOiB7fTtcbiAgICB0aGlzLnN0YWNrID0gJyc7XG4gIH1cbiAgLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGUgPSB7fTtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXG4gICAgICBpZiAoc2VjcmV0ICE9PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG4gICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcbiAgICAgICAgICAgIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAgICdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICtcbiAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGZvciB0aGUgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBwcm9wIG9uIGAnICsgY29tcG9uZW50TmFtZSArICdgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG4gICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAgICdZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIGEgdGhpcmQtcGFydHkgUHJvcFR5cGVzICcgK1xuICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGB1bmRlZmluZWRgLicpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXG4gICAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcihleHBlY3RlZFR5cGUpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcbiAgICAgICAgLy8gY2hlY2ssIGJ1dCB3ZSBjYW4gb2ZmZXIgYSBtb3JlIHByZWNpc2UgZXJyb3IgbWVzc2FnZSBoZXJlIHJhdGhlciB0aGFuXG4gICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cbiAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG4gICAgICAgICAgJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSxcbiAgICAgICAgICB7ZXhwZWN0ZWRUeXBlOiBleHBlY3RlZFR5cGV9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZVR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghUmVhY3RJcy5pc1ZhbGlkRWxlbWVudFR5cGUocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQgdHlwZS4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCEocHJvcHNbcHJvcE5hbWVdIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcbiAgICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcbiAgICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gYXJyYXksIGdvdCAnICsgYXJndW1lbnRzLmxlbmd0aCArICcgYXJndW1lbnRzLiAnICtcbiAgICAgICAgICAgICdBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIHdyaXRlIG9uZU9mKHgsIHksIHopIGluc3RlYWQgb2Ygb25lT2YoW3gsIHksIHpdKS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcywgZnVuY3Rpb24gcmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgdHlwZSA9IGdldFByZWNpc2VUeXBlKHZhbHVlKTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgU3RyaW5nKHByb3BWYWx1ZSkgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgb25lIG9mICcgKyB2YWx1ZXNTdHJpbmcgKyAnLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcbiAgICAgICAgaWYgKGhhcyhwcm9wVmFsdWUsIGtleSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZS4gRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2hlY2sgZnVuY3Rpb25zLCBidXQgJyArXG4gICAgICAgICAgJ3JlY2VpdmVkICcgKyBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcoY2hlY2tlcikgKyAnIGF0IGluZGV4ICcgKyBpICsgJy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIGV4cGVjdGVkVHlwZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICAgIHZhciBjaGVja2VyUmVzdWx0ID0gY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGNoZWNrZXJSZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGVja2VyUmVzdWx0LmRhdGEgJiYgaGFzKGNoZWNrZXJSZXN1bHQuZGF0YSwgJ2V4cGVjdGVkVHlwZScpKSB7XG4gICAgICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGNoZWNrZXJSZXN1bHQuZGF0YS5leHBlY3RlZFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgZXhwZWN0ZWRUeXBlc01lc3NhZ2UgPSAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPiAwKSA/ICcsIGV4cGVjdGVkIG9uZSBvZiB0eXBlIFsnICsgZXhwZWN0ZWRUeXBlcy5qb2luKCcsICcpICsgJ10nOiAnJztcbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AnICsgZXhwZWN0ZWRUeXBlc01lc3NhZ2UgKyAnLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGludmFsaWRWYWxpZGF0b3JFcnJvcihjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBrZXksIHR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG4gICAgICAoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6ICcgKyBsb2NhdGlvbiArICcgdHlwZSBgJyArIHByb3BGdWxsTmFtZSArICcuJyArIGtleSArICdgIGlzIGludmFsaWQ7ICcgK1xuICAgICAgJ2l0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAnICsgdHlwZSArICdgLidcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgY2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBpbnZhbGlkVmFsaWRhdG9yRXJyb3IoY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwga2V5LCBnZXRQcmVjaXNlVHlwZShjaGVja2VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgICAgfVxuICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBhbGwga2V5cyBpbiBjYXNlIHNvbWUgYXJlIHJlcXVpcmVkIGJ1dCBtaXNzaW5nIGZyb20gcHJvcHMuXG4gICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgICBpZiAoaGFzKHNoYXBlVHlwZXMsIGtleSkgJiYgdHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gaW52YWxpZFZhbGlkYXRvckVycm9yKGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIGtleSwgZ2V0UHJlY2lzZVR5cGUoY2hlY2tlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcbiAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcbiAgICAgICAgICAgICdcXG5CYWQgb2JqZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkocHJvcHNbcHJvcE5hbWVdLCBudWxsLCAnICAnKSArXG4gICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHNoYXBlVHlwZXMpLCBudWxsLCAnICAnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgcHJvcFZhbHVlKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAhcHJvcFZhbHVlO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBwcm9wVmFsdWUuZXZlcnkoaXNOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IGlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihwcm9wVmFsdWUpO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJdGVyYXRvciB3aWxsIHByb3ZpZGUgZW50cnkgW2ssdl0gdHVwbGVzIHJhdGhlciB0aGFuIHZhbHVlcy5cbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05vZGUoZW50cnlbMV0pKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcbiAgICAvLyBOYXRpdmUgU3ltYm9sLlxuICAgIGlmIChwcm9wVHlwZSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIGZhbHN5IHZhbHVlIGNhbid0IGJlIGEgU3ltYm9sXG4gICAgaWYgKCFwcm9wVmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddID09PSAnU3ltYm9sJ1xuICAgIGlmIChwcm9wVmFsdWVbJ0BAdG9TdHJpbmdUYWcnXSA9PT0gJ1N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIGZvciBub24tc3BlYyBjb21wbGlhbnQgU3ltYm9scyB3aGljaCBhcmUgcG9seWZpbGxlZC5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wVmFsdWUgaW5zdGFuY2VvZiBTeW1ib2wpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEVxdWl2YWxlbnQgb2YgYHR5cGVvZmAgYnV0IHdpdGggc3BlY2lhbCBoYW5kbGluZyBmb3IgYXJyYXkgYW5kIHJlZ2V4cC5cbiAgZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XG4gICAgdmFyIHByb3BUeXBlID0gdHlwZW9mIHByb3BWYWx1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ2FycmF5JztcbiAgICB9XG4gICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuICAgICAgLy8gJ29iamVjdCcgZm9yIHR5cGVvZiBhIFJlZ0V4cC4gV2UnbGwgbm9ybWFsaXplIHRoaXMgaGVyZSBzbyB0aGF0IC9ibGEvXG4gICAgICAvLyBwYXNzZXMgUHJvcFR5cGVzLm9iamVjdC5cbiAgICAgIHJldHVybiAnb2JqZWN0JztcbiAgICB9XG4gICAgaWYgKGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ3N5bWJvbCc7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuXG4gIC8vIFRoaXMgaGFuZGxlcyBtb3JlIHR5cGVzIHRoYW4gYGdldFByb3BUeXBlYC4gT25seSB1c2VkIGZvciBlcnJvciBtZXNzYWdlcy5cbiAgLy8gU2VlIGBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcmAuXG4gIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBwcm9wVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcbiAgICB9XG4gICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gJ2RhdGUnO1xuICAgICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgcmV0dXJuICdyZWdleHAnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcFR5cGU7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgaXMgcG9zdGZpeGVkIHRvIGEgd2FybmluZyBhYm91dCBhbiBpbnZhbGlkIHR5cGUuXG4gIC8vIEZvciBleGFtcGxlLCBcInVuZGVmaW5lZFwiIG9yIFwib2YgdHlwZSBhcnJheVwiXG4gIGZ1bmN0aW9uIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyh2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gZ2V0UHJlY2lzZVR5cGUodmFsdWUpO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgcmV0dXJuICdhbiAnICsgdHlwZTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICBjYXNlICdyZWdleHAnOlxuICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gIH1cblxuICAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuICBmdW5jdGlvbiBnZXRDbGFzc05hbWUocHJvcFZhbHVlKSB7XG4gICAgaWYgKCFwcm9wVmFsdWUuY29uc3RydWN0b3IgfHwgIXByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICByZXR1cm4gQU5PTllNT1VTO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG4gIH1cblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGNoZWNrUHJvcFR5cGVzO1xuICBSZWFjdFByb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZSA9IGNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/prop-types/factoryWithTypeCheckers.js\n");

/***/ }),

/***/ "./node_modules/prop-types/index.js":
/*!******************************************!*\
  !*** ./node_modules/prop-types/index.js ***!
  \******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (true) {\n  var ReactIs = __webpack_require__(/*! react-is */ \"./node_modules/react-is/index.js\");\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ \"./node_modules/prop-types/factoryWithTypeCheckers.js\")(ReactIs.isElement, throwOnDirectAccess);\n} else {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSSxJQUFxQztBQUN6QyxnQkFBZ0IsbUJBQU8sQ0FBQyxrREFBVTs7QUFFbEM7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1CQUFPLENBQUMsdUZBQTJCO0FBQ3RELEVBQUUsS0FBSyxFQUlOIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzP2JkZTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShSZWFjdElzLmlzRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/prop-types/index.js\n");

/***/ }),

/***/ "./node_modules/prop-types/lib/ReactPropTypesSecret.js":
/*!*************************************************************!*\
  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \*************************************************************/
/***/ (function(module) {

"use strict";
eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcz9lMDk4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/prop-types/lib/ReactPropTypesSecret.js\n");

/***/ }),

/***/ "./node_modules/prop-types/lib/has.js":
/*!********************************************!*\
  !*** ./node_modules/prop-types/lib/has.js ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = Function.call.bind(Object.prototype.hasOwnProperty);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvaGFzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9oYXMuanM/ZTQ3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLmNhbGwuYmluZChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/prop-types/lib/has.js\n");

/***/ }),

/***/ "./node_modules/react-is/cjs/react-is.development.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-is/cjs/react-is.development.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";
eval("/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvY2pzL3JlYWN0LWlzLmRldmVsb3BtZW50LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7Ozs7QUFJYixJQUFJLElBQXFDO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFO0FBQzNFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEOztBQUVsRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUI7QUFDakIsc0JBQXNCO0FBQ3RCLHVCQUF1QjtBQUN2Qix1QkFBdUI7QUFDdkIsZUFBZTtBQUNmLGtCQUFrQjtBQUNsQixnQkFBZ0I7QUFDaEIsWUFBWTtBQUNaLFlBQVk7QUFDWixjQUFjO0FBQ2QsZ0JBQWdCO0FBQ2hCLGtCQUFrQjtBQUNsQixnQkFBZ0I7QUFDaEIsbUJBQW1CO0FBQ25CLHdCQUF3QjtBQUN4Qix5QkFBeUI7QUFDekIseUJBQXlCO0FBQ3pCLGlCQUFpQjtBQUNqQixvQkFBb0I7QUFDcEIsa0JBQWtCO0FBQ2xCLGNBQWM7QUFDZCxjQUFjO0FBQ2QsZ0JBQWdCO0FBQ2hCLGtCQUFrQjtBQUNsQixvQkFBb0I7QUFDcEIsa0JBQWtCO0FBQ2xCLDBCQUEwQjtBQUMxQixjQUFjO0FBQ2QsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanM/NDk2YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjEzLjFcbiAqIHJlYWN0LWlzLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAoZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuZm9yO1xudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSA6IDB4ZWFjNztcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpIDogMHhlYWNhO1xudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpIDogMHhlYWNiO1xudmFyIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdHJpY3RfbW9kZScpIDogMHhlYWNjO1xudmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpIDogMHhlYWQyO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpIDogMHhlYWNkO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKSA6IDB4ZWFjZTsgLy8gVE9ETzogV2UgZG9uJ3QgdXNlIEFzeW5jTW9kZSBvciBDb25jdXJyZW50TW9kZSBhbnltb3JlLiBUaGV5IHdlcmUgdGVtcG9yYXJ5XG4vLyAodW5zdGFibGUpIEFQSXMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZC4gQ2FuIHdlIHJlbW92ZSB0aGUgc3ltYm9scz9cblxudmFyIFJFQUNUX0FTWU5DX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmFzeW5jX21vZGUnKSA6IDB4ZWFjZjtcbnZhciBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbmN1cnJlbnRfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xudmFyIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZScpIDogMHhlYWQxO1xudmFyIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlX2xpc3QnKSA6IDB4ZWFkODtcbnZhciBSRUFDVF9NRU1PX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5tZW1vJykgOiAweGVhZDM7XG52YXIgUkVBQ1RfTEFaWV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QubGF6eScpIDogMHhlYWQ0O1xudmFyIFJFQUNUX0JMT0NLX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5ibG9jaycpIDogMHhlYWQ5O1xudmFyIFJFQUNUX0ZVTkRBTUVOVEFMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mdW5kYW1lbnRhbCcpIDogMHhlYWQ1O1xudmFyIFJFQUNUX1JFU1BPTkRFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucmVzcG9uZGVyJykgOiAweGVhZDY7XG52YXIgUkVBQ1RfU0NPUEVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnNjb3BlJykgOiAweGVhZDc7XG5cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB7XG4gIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgLy8gTm90ZTogaXRzIHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIGlmIGl0J3MgYSBwb2x5ZmlsbC5cbiAgdHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GVU5EQU1FTlRBTF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1JFU1BPTkRFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1NDT1BFX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQkxPQ0tfVFlQRSk7XG59XG5cbmZ1bmN0aW9uIHR5cGVPZihvYmplY3QpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCkge1xuICAgIHZhciAkJHR5cGVvZiA9IG9iamVjdC4kJHR5cGVvZjtcblxuICAgIHN3aXRjaCAoJCR0eXBlb2YpIHtcbiAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICB2YXIgdHlwZSA9IG9iamVjdC50eXBlO1xuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyICQkdHlwZW9mVHlwZSA9IHR5cGUgJiYgdHlwZS4kJHR5cGVvZjtcblxuICAgICAgICAgICAgc3dpdGNoICgkJHR5cGVvZlR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mVHlwZTtcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAkJHR5cGVvZjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgIHJldHVybiAkJHR5cGVvZjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufSAvLyBBc3luY01vZGUgaXMgZGVwcmVjYXRlZCBhbG9uZyB3aXRoIGlzQXN5bmNNb2RlXG5cbnZhciBBc3luY01vZGUgPSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XG52YXIgQ29uY3VycmVudE1vZGUgPSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTtcbnZhciBDb250ZXh0Q29uc3VtZXIgPSBSRUFDVF9DT05URVhUX1RZUEU7XG52YXIgQ29udGV4dFByb3ZpZGVyID0gUkVBQ1RfUFJPVklERVJfVFlQRTtcbnZhciBFbGVtZW50ID0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xudmFyIEZvcndhcmRSZWYgPSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFO1xudmFyIEZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbnZhciBMYXp5ID0gUkVBQ1RfTEFaWV9UWVBFO1xudmFyIE1lbW8gPSBSRUFDVF9NRU1PX1RZUEU7XG52YXIgUG9ydGFsID0gUkVBQ1RfUE9SVEFMX1RZUEU7XG52YXIgUHJvZmlsZXIgPSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xudmFyIFN0cmljdE1vZGUgPSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xudmFyIFN1c3BlbnNlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbnZhciBoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRJc0FzeW5jTW9kZSA9IGZhbHNlOyAvLyBBc3luY01vZGUgc2hvdWxkIGJlIGRlcHJlY2F0ZWRcblxuZnVuY3Rpb24gaXNBc3luY01vZGUob2JqZWN0KSB7XG4gIHtcbiAgICBpZiAoIWhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlKSB7XG4gICAgICBoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRJc0FzeW5jTW9kZSA9IHRydWU7IC8vIFVzaW5nIGNvbnNvbGVbJ3dhcm4nXSB0byBldmFkZSBCYWJlbCBhbmQgRVNMaW50XG5cbiAgICAgIGNvbnNvbGVbJ3dhcm4nXSgnVGhlIFJlYWN0SXMuaXNBc3luY01vZGUoKSBhbGlhcyBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gUmVhY3QgMTcrLiBVcGRhdGUgeW91ciBjb2RlIHRvIHVzZSAnICsgJ1JlYWN0SXMuaXNDb25jdXJyZW50TW9kZSgpIGluc3RlYWQuIEl0IGhhcyB0aGUgZXhhY3Qgc2FtZSBBUEkuJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGlzQ29uY3VycmVudE1vZGUob2JqZWN0KSB8fCB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQVNZTkNfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzQ29udGV4dENvbnN1bWVyKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTlRFWFRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzQ29udGV4dFByb3ZpZGVyKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1BST1ZJREVSX1RZUEU7XG59XG5mdW5jdGlvbiBpc0VsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG5mdW5jdGlvbiBpc0ZvcndhcmRSZWYob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRnJhZ21lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzTGF6eShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9MQVpZX1RZUEU7XG59XG5mdW5jdGlvbiBpc01lbW8ob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfTUVNT19UWVBFO1xufVxuZnVuY3Rpb24gaXNQb3J0YWwob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUE9SVEFMX1RZUEU7XG59XG5mdW5jdGlvbiBpc1Byb2ZpbGVyKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG59XG5mdW5jdGlvbiBpc1N0cmljdE1vZGUob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzU3VzcGVuc2Uob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbn1cblxuZXhwb3J0cy5Bc3luY01vZGUgPSBBc3luY01vZGU7XG5leHBvcnRzLkNvbmN1cnJlbnRNb2RlID0gQ29uY3VycmVudE1vZGU7XG5leHBvcnRzLkNvbnRleHRDb25zdW1lciA9IENvbnRleHRDb25zdW1lcjtcbmV4cG9ydHMuQ29udGV4dFByb3ZpZGVyID0gQ29udGV4dFByb3ZpZGVyO1xuZXhwb3J0cy5FbGVtZW50ID0gRWxlbWVudDtcbmV4cG9ydHMuRm9yd2FyZFJlZiA9IEZvcndhcmRSZWY7XG5leHBvcnRzLkZyYWdtZW50ID0gRnJhZ21lbnQ7XG5leHBvcnRzLkxhenkgPSBMYXp5O1xuZXhwb3J0cy5NZW1vID0gTWVtbztcbmV4cG9ydHMuUG9ydGFsID0gUG9ydGFsO1xuZXhwb3J0cy5Qcm9maWxlciA9IFByb2ZpbGVyO1xuZXhwb3J0cy5TdHJpY3RNb2RlID0gU3RyaWN0TW9kZTtcbmV4cG9ydHMuU3VzcGVuc2UgPSBTdXNwZW5zZTtcbmV4cG9ydHMuaXNBc3luY01vZGUgPSBpc0FzeW5jTW9kZTtcbmV4cG9ydHMuaXNDb25jdXJyZW50TW9kZSA9IGlzQ29uY3VycmVudE1vZGU7XG5leHBvcnRzLmlzQ29udGV4dENvbnN1bWVyID0gaXNDb250ZXh0Q29uc3VtZXI7XG5leHBvcnRzLmlzQ29udGV4dFByb3ZpZGVyID0gaXNDb250ZXh0UHJvdmlkZXI7XG5leHBvcnRzLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbmV4cG9ydHMuaXNGb3J3YXJkUmVmID0gaXNGb3J3YXJkUmVmO1xuZXhwb3J0cy5pc0ZyYWdtZW50ID0gaXNGcmFnbWVudDtcbmV4cG9ydHMuaXNMYXp5ID0gaXNMYXp5O1xuZXhwb3J0cy5pc01lbW8gPSBpc01lbW87XG5leHBvcnRzLmlzUG9ydGFsID0gaXNQb3J0YWw7XG5leHBvcnRzLmlzUHJvZmlsZXIgPSBpc1Byb2ZpbGVyO1xuZXhwb3J0cy5pc1N0cmljdE1vZGUgPSBpc1N0cmljdE1vZGU7XG5leHBvcnRzLmlzU3VzcGVuc2UgPSBpc1N1c3BlbnNlO1xuZXhwb3J0cy5pc1ZhbGlkRWxlbWVudFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGU7XG5leHBvcnRzLnR5cGVPZiA9IHR5cGVPZjtcbiAgfSkoKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-is/cjs/react-is.development.js\n");

/***/ }),

/***/ "./node_modules/react-is/index.js":
/*!****************************************!*\
  !*** ./node_modules/react-is/index.js ***!
  \****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-is.development.js */ \"./node_modules/react-is/cjs/react-is.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixFQUFFLGdJQUF5RDtBQUMzRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanM/YjMxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-is/index.js\n");

/***/ }),

/***/ "./node_modules/tabbable/index.js":
/*!****************************************!*\
  !*** ./node_modules/tabbable/index.js ***!
  \****************************************/
/***/ (function(module) {

eval("var candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n];\nvar candidateSelector = candidateSelectors.join(',');\n\nvar matches = typeof Element === 'undefined'\n  ? function () {}\n  : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  var regularTabbables = [];\n  var orderedTabbables = [];\n\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n\n    if (!isNodeMatchingSelectorTabbable(candidate)) continue;\n\n    candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map(function(a) { return a.node })\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node) {\n  if (\n    !isNodeMatchingSelectorFocusable(node)\n    || isNonTabbableRadio(node)\n    || getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node);\n}\n\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (\n    node.disabled\n    || isHiddenInput(node)\n    || isHidden(node)\n  ) {\n    return false;\n  }\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\nfunction isFocusable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr;\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true;\n  // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\nfunction isHidden(node) {\n  // offsetParent being null will allow detecting cases where an element is invisible or inside an invisible element,\n  // as long as the element does not use position: fixed. For them, their visibility has to be checked directly as well.\n  return node.offsetParent === null || getComputedStyle(node).visibility === 'hidden';\n}\n\nmodule.exports = tabbable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdGFiYmFibGUvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyx1QkFBdUI7QUFDckM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QixlQUFlO0FBQ3RDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGFiYmFibGUvaW5kZXguanM/OGI3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2FuZGlkYXRlU2VsZWN0b3JzID0gW1xuICAnaW5wdXQnLFxuICAnc2VsZWN0JyxcbiAgJ3RleHRhcmVhJyxcbiAgJ2FbaHJlZl0nLFxuICAnYnV0dG9uJyxcbiAgJ1t0YWJpbmRleF0nLFxuICAnYXVkaW9bY29udHJvbHNdJyxcbiAgJ3ZpZGVvW2NvbnRyb2xzXScsXG4gICdbY29udGVudGVkaXRhYmxlXTpub3QoW2NvbnRlbnRlZGl0YWJsZT1cImZhbHNlXCJdKScsXG5dO1xudmFyIGNhbmRpZGF0ZVNlbGVjdG9yID0gY2FuZGlkYXRlU2VsZWN0b3JzLmpvaW4oJywnKTtcblxudmFyIG1hdGNoZXMgPSB0eXBlb2YgRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCdcbiAgPyBmdW5jdGlvbiAoKSB7fVxuICA6IEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgfHwgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuXG5mdW5jdGlvbiB0YWJiYWJsZShlbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcmVndWxhclRhYmJhYmxlcyA9IFtdO1xuICB2YXIgb3JkZXJlZFRhYmJhYmxlcyA9IFtdO1xuXG4gIHZhciBjYW5kaWRhdGVzID0gZWwucXVlcnlTZWxlY3RvckFsbChjYW5kaWRhdGVTZWxlY3Rvcik7XG5cbiAgaWYgKG9wdGlvbnMuaW5jbHVkZUNvbnRhaW5lcikge1xuICAgIGlmIChtYXRjaGVzLmNhbGwoZWwsIGNhbmRpZGF0ZVNlbGVjdG9yKSkge1xuICAgICAgY2FuZGlkYXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShjYW5kaWRhdGVzKTtcbiAgICAgIGNhbmRpZGF0ZXMudW5zaGlmdChlbCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGksIGNhbmRpZGF0ZSwgY2FuZGlkYXRlVGFiaW5kZXg7XG4gIGZvciAoaSA9IDA7IGkgPCBjYW5kaWRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2FuZGlkYXRlID0gY2FuZGlkYXRlc1tpXTtcblxuICAgIGlmICghaXNOb2RlTWF0Y2hpbmdTZWxlY3RvclRhYmJhYmxlKGNhbmRpZGF0ZSkpIGNvbnRpbnVlO1xuXG4gICAgY2FuZGlkYXRlVGFiaW5kZXggPSBnZXRUYWJpbmRleChjYW5kaWRhdGUpO1xuICAgIGlmIChjYW5kaWRhdGVUYWJpbmRleCA9PT0gMCkge1xuICAgICAgcmVndWxhclRhYmJhYmxlcy5wdXNoKGNhbmRpZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9yZGVyZWRUYWJiYWJsZXMucHVzaCh7XG4gICAgICAgIGRvY3VtZW50T3JkZXI6IGksXG4gICAgICAgIHRhYkluZGV4OiBjYW5kaWRhdGVUYWJpbmRleCxcbiAgICAgICAgbm9kZTogY2FuZGlkYXRlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHRhYmJhYmxlTm9kZXMgPSBvcmRlcmVkVGFiYmFibGVzXG4gICAgLnNvcnQoc29ydE9yZGVyZWRUYWJiYWJsZXMpXG4gICAgLm1hcChmdW5jdGlvbihhKSB7IHJldHVybiBhLm5vZGUgfSlcbiAgICAuY29uY2F0KHJlZ3VsYXJUYWJiYWJsZXMpO1xuXG4gIHJldHVybiB0YWJiYWJsZU5vZGVzO1xufVxuXG50YWJiYWJsZS5pc1RhYmJhYmxlID0gaXNUYWJiYWJsZTtcbnRhYmJhYmxlLmlzRm9jdXNhYmxlID0gaXNGb2N1c2FibGU7XG5cbmZ1bmN0aW9uIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JUYWJiYWJsZShub2RlKSB7XG4gIGlmIChcbiAgICAhaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZShub2RlKVxuICAgIHx8IGlzTm9uVGFiYmFibGVSYWRpbyhub2RlKVxuICAgIHx8IGdldFRhYmluZGV4KG5vZGUpIDwgMFxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzVGFiYmFibGUobm9kZSkge1xuICBpZiAoIW5vZGUpIHRocm93IG5ldyBFcnJvcignTm8gbm9kZSBwcm92aWRlZCcpO1xuICBpZiAobWF0Y2hlcy5jYWxsKG5vZGUsIGNhbmRpZGF0ZVNlbGVjdG9yKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JUYWJiYWJsZShub2RlKTtcbn1cblxuZnVuY3Rpb24gaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZShub2RlKSB7XG4gIGlmIChcbiAgICBub2RlLmRpc2FibGVkXG4gICAgfHwgaXNIaWRkZW5JbnB1dChub2RlKVxuICAgIHx8IGlzSGlkZGVuKG5vZGUpXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxudmFyIGZvY3VzYWJsZUNhbmRpZGF0ZVNlbGVjdG9yID0gY2FuZGlkYXRlU2VsZWN0b3JzLmNvbmNhdCgnaWZyYW1lJykuam9pbignLCcpO1xuZnVuY3Rpb24gaXNGb2N1c2FibGUobm9kZSkge1xuICBpZiAoIW5vZGUpIHRocm93IG5ldyBFcnJvcignTm8gbm9kZSBwcm92aWRlZCcpO1xuICBpZiAobWF0Y2hlcy5jYWxsKG5vZGUsIGZvY3VzYWJsZUNhbmRpZGF0ZVNlbGVjdG9yKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JGb2N1c2FibGUobm9kZSk7XG59XG5cbmZ1bmN0aW9uIGdldFRhYmluZGV4KG5vZGUpIHtcbiAgdmFyIHRhYmluZGV4QXR0ciA9IHBhcnNlSW50KG5vZGUuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpLCAxMCk7XG4gIGlmICghaXNOYU4odGFiaW5kZXhBdHRyKSkgcmV0dXJuIHRhYmluZGV4QXR0cjtcbiAgLy8gQnJvd3NlcnMgZG8gbm90IHJldHVybiBgdGFiSW5kZXhgIGNvcnJlY3RseSBmb3IgY29udGVudEVkaXRhYmxlIG5vZGVzO1xuICAvLyBzbyBpZiB0aGV5IGRvbid0IGhhdmUgYSB0YWJpbmRleCBhdHRyaWJ1dGUgc3BlY2lmaWNhbGx5IHNldCwgYXNzdW1lIGl0J3MgMC5cbiAgaWYgKGlzQ29udGVudEVkaXRhYmxlKG5vZGUpKSByZXR1cm4gMDtcbiAgcmV0dXJuIG5vZGUudGFiSW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNvcnRPcmRlcmVkVGFiYmFibGVzKGEsIGIpIHtcbiAgcmV0dXJuIGEudGFiSW5kZXggPT09IGIudGFiSW5kZXggPyBhLmRvY3VtZW50T3JkZXIgLSBiLmRvY3VtZW50T3JkZXIgOiBhLnRhYkluZGV4IC0gYi50YWJJbmRleDtcbn1cblxuZnVuY3Rpb24gaXNDb250ZW50RWRpdGFibGUobm9kZSkge1xuICByZXR1cm4gbm9kZS5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJztcbn1cblxuZnVuY3Rpb24gaXNJbnB1dChub2RlKSB7XG4gIHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdJTlBVVCc7XG59XG5cbmZ1bmN0aW9uIGlzSGlkZGVuSW5wdXQobm9kZSkge1xuICByZXR1cm4gaXNJbnB1dChub2RlKSAmJiBub2RlLnR5cGUgPT09ICdoaWRkZW4nO1xufVxuXG5mdW5jdGlvbiBpc1JhZGlvKG5vZGUpIHtcbiAgcmV0dXJuIGlzSW5wdXQobm9kZSkgJiYgbm9kZS50eXBlID09PSAncmFkaW8nO1xufVxuXG5mdW5jdGlvbiBpc05vblRhYmJhYmxlUmFkaW8obm9kZSkge1xuICByZXR1cm4gaXNSYWRpbyhub2RlKSAmJiAhaXNUYWJiYWJsZVJhZGlvKG5vZGUpO1xufVxuXG5mdW5jdGlvbiBnZXRDaGVja2VkUmFkaW8obm9kZXMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChub2Rlc1tpXS5jaGVja2VkKSB7XG4gICAgICByZXR1cm4gbm9kZXNbaV07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzVGFiYmFibGVSYWRpbyhub2RlKSB7XG4gIGlmICghbm9kZS5uYW1lKSByZXR1cm4gdHJ1ZTtcbiAgLy8gVGhpcyB3b24ndCBhY2NvdW50IGZvciB0aGUgZWRnZSBjYXNlIHdoZXJlIHlvdSBoYXZlIHJhZGlvIGdyb3VwcyB3aXRoIHRoZSBzYW1lXG4gIC8vIGluIHNlcGFyYXRlIGZvcm1zIG9uIHRoZSBzYW1lIHBhZ2UuXG4gIHZhciByYWRpb1NldCA9IG5vZGUub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl1bbmFtZT1cIicgKyBub2RlLm5hbWUgKyAnXCJdJyk7XG4gIHZhciBjaGVja2VkID0gZ2V0Q2hlY2tlZFJhZGlvKHJhZGlvU2V0KTtcbiAgcmV0dXJuICFjaGVja2VkIHx8IGNoZWNrZWQgPT09IG5vZGU7XG59XG5cbmZ1bmN0aW9uIGlzSGlkZGVuKG5vZGUpIHtcbiAgLy8gb2Zmc2V0UGFyZW50IGJlaW5nIG51bGwgd2lsbCBhbGxvdyBkZXRlY3RpbmcgY2FzZXMgd2hlcmUgYW4gZWxlbWVudCBpcyBpbnZpc2libGUgb3IgaW5zaWRlIGFuIGludmlzaWJsZSBlbGVtZW50LFxuICAvLyBhcyBsb25nIGFzIHRoZSBlbGVtZW50IGRvZXMgbm90IHVzZSBwb3NpdGlvbjogZml4ZWQuIEZvciB0aGVtLCB0aGVpciB2aXNpYmlsaXR5IGhhcyB0byBiZSBjaGVja2VkIGRpcmVjdGx5IGFzIHdlbGwuXG4gIHJldHVybiBub2RlLm9mZnNldFBhcmVudCA9PT0gbnVsbCB8fCBnZXRDb21wdXRlZFN0eWxlKG5vZGUpLnZpc2liaWxpdHkgPT09ICdoaWRkZW4nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRhYmJhYmxlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/tabbable/index.js\n");

/***/ }),

/***/ "./node_modules/tiny-warning/dist/tiny-warning.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/tiny-warning/dist/tiny-warning.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar isProduction = \"development\" === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (warning);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdGlueS13YXJuaW5nL2Rpc3QvdGlueS13YXJuaW5nLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsbUJBQW1CLGFBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQSwrREFBZSxPQUFPLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3Rpbnktd2FybmluZy9kaXN0L3Rpbnktd2FybmluZy5lc20uanM/NGU0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbmZ1bmN0aW9uIHdhcm5pbmcoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmICghaXNQcm9kdWN0aW9uKSB7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0ZXh0ID0gXCJXYXJuaW5nOiBcIiArIG1lc3NhZ2U7XG5cbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4odGV4dCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRocm93IEVycm9yKHRleHQpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2FybmluZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/tiny-warning/dist/tiny-warning.esm.js\n");

/***/ }),

/***/ "./node_modules/use-places-autocomplete/dist/index.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/use-places-autocomplete/dist/index.esm.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ usePlacesAutocomplete; },\n/* harmony export */   \"getDetails\": function() { return /* binding */ getDetails; },\n/* harmony export */   \"getGeocode\": function() { return /* binding */ getGeocode; },\n/* harmony export */   \"getLatLng\": function() { return /* binding */ getLatLng; },\n/* harmony export */   \"getZipCode\": function() { return /* binding */ getZipCode; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useLatest = (function (val) {\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(val);\n  ref.current = val;\n  return ref;\n});\n\nvar _debounce = (function (fn, delay) {\n  var timer; // eslint-disable-next-line func-names\n\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (timer !== null) {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    timer = setTimeout(function () {\n      return fn.apply(_this, args);\n    }, delay);\n  };\n});\n\nvar loadApiErr = \"ðŸ’¡ use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library\";\n\nvar usePlacesAutocomplete = function usePlacesAutocomplete(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      requestOptions = _ref.requestOptions,\n      _ref$debounce = _ref.debounce,\n      debounce = _ref$debounce === void 0 ? 200 : _ref$debounce,\n      _ref$cache = _ref.cache,\n      cache = _ref$cache === void 0 ? 24 * 60 * 60 : _ref$cache,\n      cacheKey = _ref.cacheKey,\n      googleMaps = _ref.googleMaps,\n      callbackName = _ref.callbackName,\n      _ref$defaultValue = _ref.defaultValue,\n      defaultValue = _ref$defaultValue === void 0 ? \"\" : _ref$defaultValue,\n      _ref$initOnMount = _ref.initOnMount,\n      initOnMount = _ref$initOnMount === void 0 ? true : _ref$initOnMount;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      ready = _useState[0],\n      setReady = _useState[1];\n\n  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue),\n      value = _useState2[0],\n      setVal = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    loading: false,\n    status: \"\",\n    data: []\n  }),\n      suggestions = _useState3[0],\n      setSuggestions = _useState3[1];\n\n  var asRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var requestOptionsRef = useLatest(requestOptions);\n  var googleMapsRef = useLatest(googleMaps);\n  var upaCacheKey = cacheKey ? \"upa-\" + cacheKey : \"upa\";\n  var init = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var _google$maps;\n\n    if (asRef.current) return;\n    var _window = window,\n        google = _window.google;\n    var gMaps = googleMapsRef.current;\n    var placesLib = (gMaps == null ? void 0 : gMaps.places) || (google == null ? void 0 : (_google$maps = google.maps) == null ? void 0 : _google$maps.places);\n\n    if (!placesLib) {\n      console.error(loadApiErr);\n      return;\n    }\n\n    asRef.current = new placesLib.AutocompleteService();\n    setReady(true);\n  }, []);\n  var clearSuggestions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    setSuggestions({\n      loading: false,\n      status: \"\",\n      data: []\n    });\n  }, []);\n  var clearCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    try {\n      sessionStorage.removeItem(upaCacheKey);\n    } catch (error) {// Skip exception\n    }\n  }, []);\n  var fetchPredictions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(_debounce(function (val) {\n    if (!val) {\n      clearSuggestions();\n      return;\n    }\n\n    setSuggestions(function (prevState) {\n      return _extends({}, prevState, {\n        loading: true\n      });\n    });\n    var cachedData = {};\n\n    try {\n      cachedData = JSON.parse(sessionStorage.getItem(upaCacheKey) || \"{}\");\n    } catch (error) {// Skip exception\n    }\n\n    if (cache) {\n      cachedData = Object.keys(cachedData).reduce(function (acc, key) {\n        if (cachedData[key].maxAge - Date.now() >= 0) acc[key] = cachedData[key];\n        return acc;\n      }, {});\n\n      if (cachedData[val]) {\n        setSuggestions({\n          loading: false,\n          status: \"OK\",\n          data: cachedData[val].data\n        });\n        return;\n      }\n    } // @ts-expect-error\n\n\n    asRef.current.getPlacePredictions(_extends({}, requestOptionsRef.current, {\n      input: val\n    }), function (data, status) {\n      setSuggestions({\n        loading: false,\n        status: status,\n        data: data || []\n      });\n\n      if (cache && status === \"OK\") {\n        cachedData[val] = {\n          data: data,\n          maxAge: Date.now() + cache * 1000\n        };\n\n        try {\n          sessionStorage.setItem(upaCacheKey, JSON.stringify(cachedData));\n        } catch (error) {// Skip exception\n        }\n      }\n    });\n  }, debounce), [debounce, clearSuggestions]);\n  var setValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (val, shouldFetchData) {\n    if (shouldFetchData === void 0) {\n      shouldFetchData = true;\n    }\n\n    setVal(val);\n    if (asRef.current && shouldFetchData) fetchPredictions(val);\n  }, [fetchPredictions]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (!initOnMount) return function () {\n      return null;\n    };\n    var _window2 = window,\n        google = _window2.google;\n\n    if (!googleMapsRef.current && !(google != null && google.maps) && callbackName) {\n      window[callbackName] = init;\n    } else {\n      init();\n    }\n\n    return function () {\n      // @ts-expect-error\n      if (window[callbackName]) delete window[callbackName];\n    };\n  }, [callbackName, init]);\n  return {\n    ready: ready,\n    value: value,\n    suggestions: suggestions,\n    setValue: setValue,\n    clearSuggestions: clearSuggestions,\n    clearCache: clearCache,\n    init: init\n  };\n};\n\n/* eslint-disable compat/compat */\nvar geocodeErr = \"ðŸ’¡ use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.\";\nvar getGeocode = function getGeocode(args) {\n  var geocoder = new window.google.maps.Geocoder();\n  return new Promise(function (resolve, reject) {\n    geocoder.geocode(args, function (results, status) {\n      if (status !== \"OK\") reject(status);\n\n      if (!args.address && args.componentRestrictions) {\n        console.error(geocodeErr);\n        resolve(results);\n      }\n\n      resolve(results);\n    });\n  });\n};\nvar getLatLng = function getLatLng(result) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var _result$geometry$loca = result.geometry.location,\n          lat = _result$geometry$loca.lat,\n          lng = _result$geometry$loca.lng;\n      resolve({\n        lat: lat(),\n        lng: lng()\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nvar getZipCode = function getZipCode(result, useShortName) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var zipCode = null;\n      result.address_components.forEach(function (_ref) {\n        var long_name = _ref.long_name,\n            short_name = _ref.short_name,\n            types = _ref.types;\n        if (types.includes(\"postal_code\")) zipCode = useShortName ? short_name : long_name;\n      });\n      resolve(zipCode);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nvar getDetailsErr = \"ðŸ’¡ use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.\";\nvar getDetails = function getDetails(args) {\n  var PlacesService = new window.google.maps.places.PlacesService(document.createElement(\"div\"));\n\n  if (!args.placeId) {\n    console.error(getDetailsErr);\n    return Promise.reject(getDetailsErr);\n  }\n\n  return new Promise(function (resolve, reject) {\n    PlacesService.getDetails(args, function (results, status) {\n      if (status !== \"OK\") reject(status);\n      resolve(results);\n    });\n  });\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXNlLXBsYWNlcy1hdXRvY29tcGxldGUvZGlzdC9pbmRleC5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpRTs7QUFFakU7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFlBQVksNkNBQU07QUFDbEI7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUEsd0VBQXdFLGFBQWE7QUFDckY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLCtDQUFRO0FBQzFCO0FBQ0E7O0FBRUEsbUJBQW1CLCtDQUFRO0FBQzNCO0FBQ0E7O0FBRUEsbUJBQW1CLCtDQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBLGNBQWMsNkNBQU07QUFDcEI7QUFDQTtBQUNBO0FBQ0EsYUFBYSxrREFBVztBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLGtEQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBLE1BQU0sZUFBZTtBQUNyQjtBQUNBLEdBQUc7QUFDSCx5QkFBeUIsa0RBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0Esd0VBQXdFO0FBQ3hFLE1BQU0sZUFBZTtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sSUFBSTs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTixpREFBaUQ7QUFDakQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsZUFBZTtBQUN6QjtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxpQkFBaUIsa0RBQVc7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFMkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3VzZS1wbGFjZXMtYXV0b2NvbXBsZXRlL2Rpc3QvaW5kZXguZXNtLmpzPzU0OWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIHVzZUxhdGVzdCA9IChmdW5jdGlvbiAodmFsKSB7XG4gIHZhciByZWYgPSB1c2VSZWYodmFsKTtcbiAgcmVmLmN1cnJlbnQgPSB2YWw7XG4gIHJldHVybiByZWY7XG59KTtcblxudmFyIF9kZWJvdW5jZSA9IChmdW5jdGlvbiAoZm4sIGRlbGF5KSB7XG4gIHZhciB0aW1lcjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKHRpbWVyICE9PSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZm4uYXBwbHkoX3RoaXMsIGFyZ3MpO1xuICAgIH0sIGRlbGF5KTtcbiAgfTtcbn0pO1xuXG52YXIgbG9hZEFwaUVyciA9IFwi8J+SoSB1c2UtcGxhY2VzLWF1dG9jb21wbGV0ZTogR29vZ2xlIE1hcHMgUGxhY2VzIEFQSSBsaWJyYXJ5IG11c3QgYmUgbG9hZGVkLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWxseXNoZW4vdXNlLXBsYWNlcy1hdXRvY29tcGxldGUjbG9hZC10aGUtbGlicmFyeVwiO1xuXG52YXIgdXNlUGxhY2VzQXV0b2NvbXBsZXRlID0gZnVuY3Rpb24gdXNlUGxhY2VzQXV0b2NvbXBsZXRlKF90ZW1wKSB7XG4gIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICByZXF1ZXN0T3B0aW9ucyA9IF9yZWYucmVxdWVzdE9wdGlvbnMsXG4gICAgICBfcmVmJGRlYm91bmNlID0gX3JlZi5kZWJvdW5jZSxcbiAgICAgIGRlYm91bmNlID0gX3JlZiRkZWJvdW5jZSA9PT0gdm9pZCAwID8gMjAwIDogX3JlZiRkZWJvdW5jZSxcbiAgICAgIF9yZWYkY2FjaGUgPSBfcmVmLmNhY2hlLFxuICAgICAgY2FjaGUgPSBfcmVmJGNhY2hlID09PSB2b2lkIDAgPyAyNCAqIDYwICogNjAgOiBfcmVmJGNhY2hlLFxuICAgICAgY2FjaGVLZXkgPSBfcmVmLmNhY2hlS2V5LFxuICAgICAgZ29vZ2xlTWFwcyA9IF9yZWYuZ29vZ2xlTWFwcyxcbiAgICAgIGNhbGxiYWNrTmFtZSA9IF9yZWYuY2FsbGJhY2tOYW1lLFxuICAgICAgX3JlZiRkZWZhdWx0VmFsdWUgPSBfcmVmLmRlZmF1bHRWYWx1ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IF9yZWYkZGVmYXVsdFZhbHVlID09PSB2b2lkIDAgPyBcIlwiIDogX3JlZiRkZWZhdWx0VmFsdWUsXG4gICAgICBfcmVmJGluaXRPbk1vdW50ID0gX3JlZi5pbml0T25Nb3VudCxcbiAgICAgIGluaXRPbk1vdW50ID0gX3JlZiRpbml0T25Nb3VudCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkaW5pdE9uTW91bnQ7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIHJlYWR5ID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0UmVhZHkgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZShkZWZhdWx0VmFsdWUpLFxuICAgICAgdmFsdWUgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0VmFsID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKHtcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBzdGF0dXM6IFwiXCIsXG4gICAgZGF0YTogW11cbiAgfSksXG4gICAgICBzdWdnZXN0aW9ucyA9IF91c2VTdGF0ZTNbMF0sXG4gICAgICBzZXRTdWdnZXN0aW9ucyA9IF91c2VTdGF0ZTNbMV07XG5cbiAgdmFyIGFzUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcmVxdWVzdE9wdGlvbnNSZWYgPSB1c2VMYXRlc3QocmVxdWVzdE9wdGlvbnMpO1xuICB2YXIgZ29vZ2xlTWFwc1JlZiA9IHVzZUxhdGVzdChnb29nbGVNYXBzKTtcbiAgdmFyIHVwYUNhY2hlS2V5ID0gY2FjaGVLZXkgPyBcInVwYS1cIiArIGNhY2hlS2V5IDogXCJ1cGFcIjtcbiAgdmFyIGluaXQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9nb29nbGUkbWFwcztcblxuICAgIGlmIChhc1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgdmFyIF93aW5kb3cgPSB3aW5kb3csXG4gICAgICAgIGdvb2dsZSA9IF93aW5kb3cuZ29vZ2xlO1xuICAgIHZhciBnTWFwcyA9IGdvb2dsZU1hcHNSZWYuY3VycmVudDtcbiAgICB2YXIgcGxhY2VzTGliID0gKGdNYXBzID09IG51bGwgPyB2b2lkIDAgOiBnTWFwcy5wbGFjZXMpIHx8IChnb29nbGUgPT0gbnVsbCA/IHZvaWQgMCA6IChfZ29vZ2xlJG1hcHMgPSBnb29nbGUubWFwcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9nb29nbGUkbWFwcy5wbGFjZXMpO1xuXG4gICAgaWYgKCFwbGFjZXNMaWIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobG9hZEFwaUVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXNSZWYuY3VycmVudCA9IG5ldyBwbGFjZXNMaWIuQXV0b2NvbXBsZXRlU2VydmljZSgpO1xuICAgIHNldFJlYWR5KHRydWUpO1xuICB9LCBbXSk7XG4gIHZhciBjbGVhclN1Z2dlc3Rpb25zID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHNldFN1Z2dlc3Rpb25zKHtcbiAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgc3RhdHVzOiBcIlwiLFxuICAgICAgZGF0YTogW11cbiAgICB9KTtcbiAgfSwgW10pO1xuICB2YXIgY2xlYXJDYWNoZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSh1cGFDYWNoZUtleSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsvLyBTa2lwIGV4Y2VwdGlvblxuICAgIH1cbiAgfSwgW10pO1xuICB2YXIgZmV0Y2hQcmVkaWN0aW9ucyA9IHVzZUNhbGxiYWNrKF9kZWJvdW5jZShmdW5jdGlvbiAodmFsKSB7XG4gICAgaWYgKCF2YWwpIHtcbiAgICAgIGNsZWFyU3VnZ2VzdGlvbnMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRTdWdnZXN0aW9ucyhmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBsb2FkaW5nOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgY2FjaGVkRGF0YSA9IHt9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNhY2hlZERhdGEgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0odXBhQ2FjaGVLZXkpIHx8IFwie31cIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsvLyBTa2lwIGV4Y2VwdGlvblxuICAgIH1cblxuICAgIGlmIChjYWNoZSkge1xuICAgICAgY2FjaGVkRGF0YSA9IE9iamVjdC5rZXlzKGNhY2hlZERhdGEpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlZERhdGFba2V5XS5tYXhBZ2UgLSBEYXRlLm5vdygpID49IDApIGFjY1trZXldID0gY2FjaGVkRGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuXG4gICAgICBpZiAoY2FjaGVkRGF0YVt2YWxdKSB7XG4gICAgICAgIHNldFN1Z2dlc3Rpb25zKHtcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBzdGF0dXM6IFwiT0tcIixcbiAgICAgICAgICBkYXRhOiBjYWNoZWREYXRhW3ZhbF0uZGF0YVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gLy8gQHRzLWV4cGVjdC1lcnJvclxuXG5cbiAgICBhc1JlZi5jdXJyZW50LmdldFBsYWNlUHJlZGljdGlvbnMoX2V4dGVuZHMoe30sIHJlcXVlc3RPcHRpb25zUmVmLmN1cnJlbnQsIHtcbiAgICAgIGlucHV0OiB2YWxcbiAgICB9KSwgZnVuY3Rpb24gKGRhdGEsIHN0YXR1cykge1xuICAgICAgc2V0U3VnZ2VzdGlvbnMoe1xuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgIGRhdGE6IGRhdGEgfHwgW11cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY2FjaGUgJiYgc3RhdHVzID09PSBcIk9LXCIpIHtcbiAgICAgICAgY2FjaGVkRGF0YVt2YWxdID0ge1xuICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgbWF4QWdlOiBEYXRlLm5vdygpICsgY2FjaGUgKiAxMDAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHVwYUNhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShjYWNoZWREYXRhKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7Ly8gU2tpcCBleGNlcHRpb25cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBkZWJvdW5jZSksIFtkZWJvdW5jZSwgY2xlYXJTdWdnZXN0aW9uc10pO1xuICB2YXIgc2V0VmFsdWUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAodmFsLCBzaG91bGRGZXRjaERhdGEpIHtcbiAgICBpZiAoc2hvdWxkRmV0Y2hEYXRhID09PSB2b2lkIDApIHtcbiAgICAgIHNob3VsZEZldGNoRGF0YSA9IHRydWU7XG4gICAgfVxuXG4gICAgc2V0VmFsKHZhbCk7XG4gICAgaWYgKGFzUmVmLmN1cnJlbnQgJiYgc2hvdWxkRmV0Y2hEYXRhKSBmZXRjaFByZWRpY3Rpb25zKHZhbCk7XG4gIH0sIFtmZXRjaFByZWRpY3Rpb25zXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpbml0T25Nb3VudCkgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgdmFyIF93aW5kb3cyID0gd2luZG93LFxuICAgICAgICBnb29nbGUgPSBfd2luZG93Mi5nb29nbGU7XG5cbiAgICBpZiAoIWdvb2dsZU1hcHNSZWYuY3VycmVudCAmJiAhKGdvb2dsZSAhPSBudWxsICYmIGdvb2dsZS5tYXBzKSAmJiBjYWxsYmFja05hbWUpIHtcbiAgICAgIHdpbmRvd1tjYWxsYmFja05hbWVdID0gaW5pdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCgpO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBpZiAod2luZG93W2NhbGxiYWNrTmFtZV0pIGRlbGV0ZSB3aW5kb3dbY2FsbGJhY2tOYW1lXTtcbiAgICB9O1xuICB9LCBbY2FsbGJhY2tOYW1lLCBpbml0XSk7XG4gIHJldHVybiB7XG4gICAgcmVhZHk6IHJlYWR5LFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBzdWdnZXN0aW9uczogc3VnZ2VzdGlvbnMsXG4gICAgc2V0VmFsdWU6IHNldFZhbHVlLFxuICAgIGNsZWFyU3VnZ2VzdGlvbnM6IGNsZWFyU3VnZ2VzdGlvbnMsXG4gICAgY2xlYXJDYWNoZTogY2xlYXJDYWNoZSxcbiAgICBpbml0OiBpbml0XG4gIH07XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjb21wYXQvY29tcGF0ICovXG52YXIgZ2VvY29kZUVyciA9IFwi8J+SoSB1c2UtcGxhY2VzLWF1dG9jb21wbGV0ZTogUGxlYXNlIHByb3ZpZGUgYW4gYWRkcmVzcyB3aGVuIHVzaW5nIGdldEdlb2NvZGUoKSB3aXRoIHRoZSBjb21wb25lbnRSZXN0cmljdGlvbnMuXCI7XG52YXIgZ2V0R2VvY29kZSA9IGZ1bmN0aW9uIGdldEdlb2NvZGUoYXJncykge1xuICB2YXIgZ2VvY29kZXIgPSBuZXcgd2luZG93Lmdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZ2VvY29kZXIuZ2VvY29kZShhcmdzLCBmdW5jdGlvbiAocmVzdWx0cywgc3RhdHVzKSB7XG4gICAgICBpZiAoc3RhdHVzICE9PSBcIk9LXCIpIHJlamVjdChzdGF0dXMpO1xuXG4gICAgICBpZiAoIWFyZ3MuYWRkcmVzcyAmJiBhcmdzLmNvbXBvbmVudFJlc3RyaWN0aW9ucykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGdlb2NvZGVFcnIpO1xuICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgfVxuXG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgIH0pO1xuICB9KTtcbn07XG52YXIgZ2V0TGF0TG5nID0gZnVuY3Rpb24gZ2V0TGF0TG5nKHJlc3VsdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgX3Jlc3VsdCRnZW9tZXRyeSRsb2NhID0gcmVzdWx0Lmdlb21ldHJ5LmxvY2F0aW9uLFxuICAgICAgICAgIGxhdCA9IF9yZXN1bHQkZ2VvbWV0cnkkbG9jYS5sYXQsXG4gICAgICAgICAgbG5nID0gX3Jlc3VsdCRnZW9tZXRyeSRsb2NhLmxuZztcbiAgICAgIHJlc29sdmUoe1xuICAgICAgICBsYXQ6IGxhdCgpLFxuICAgICAgICBsbmc6IGxuZygpXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufTtcbnZhciBnZXRaaXBDb2RlID0gZnVuY3Rpb24gZ2V0WmlwQ29kZShyZXN1bHQsIHVzZVNob3J0TmFtZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgemlwQ29kZSA9IG51bGw7XG4gICAgICByZXN1bHQuYWRkcmVzc19jb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIGxvbmdfbmFtZSA9IF9yZWYubG9uZ19uYW1lLFxuICAgICAgICAgICAgc2hvcnRfbmFtZSA9IF9yZWYuc2hvcnRfbmFtZSxcbiAgICAgICAgICAgIHR5cGVzID0gX3JlZi50eXBlcztcbiAgICAgICAgaWYgKHR5cGVzLmluY2x1ZGVzKFwicG9zdGFsX2NvZGVcIikpIHppcENvZGUgPSB1c2VTaG9ydE5hbWUgPyBzaG9ydF9uYW1lIDogbG9uZ19uYW1lO1xuICAgICAgfSk7XG4gICAgICByZXNvbHZlKHppcENvZGUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59O1xudmFyIGdldERldGFpbHNFcnIgPSBcIvCfkqEgdXNlLXBsYWNlcy1hdXRvY29tcGxldGU6IFBsZWFzZSBwcm92aWRlIGEgcGxhY2UgSWQgd2hlbiB1c2luZyBnZXREZXRhaWxzKCkgZWl0aGVyIGFzIGEgc3RyaW5nIG9yIGFzIHBhcnQgb2YgYW4gQXV0b2NvbXBsZXRlIFByZWRpY3Rpb24uXCI7XG52YXIgZ2V0RGV0YWlscyA9IGZ1bmN0aW9uIGdldERldGFpbHMoYXJncykge1xuICB2YXIgUGxhY2VzU2VydmljZSA9IG5ldyB3aW5kb3cuZ29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2UoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG5cbiAgaWYgKCFhcmdzLnBsYWNlSWQpIHtcbiAgICBjb25zb2xlLmVycm9yKGdldERldGFpbHNFcnIpO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChnZXREZXRhaWxzRXJyKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgUGxhY2VzU2VydmljZS5nZXREZXRhaWxzKGFyZ3MsIGZ1bmN0aW9uIChyZXN1bHRzLCBzdGF0dXMpIHtcbiAgICAgIGlmIChzdGF0dXMgIT09IFwiT0tcIikgcmVqZWN0KHN0YXR1cyk7XG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IHVzZVBsYWNlc0F1dG9jb21wbGV0ZSBhcyBkZWZhdWx0LCBnZXREZXRhaWxzLCBnZXRHZW9jb2RlLCBnZXRMYXRMbmcsIGdldFppcENvZGUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/use-places-autocomplete/dist/index.esm.js\n");

/***/ })

});